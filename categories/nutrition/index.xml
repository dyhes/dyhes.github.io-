<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>积雪粮 on 飞鸿踏雪泥</title><link>https://dyhes.github.io/categories/nutrition/</link><description>Recent content in 积雪粮 on 飞鸿踏雪泥</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 13 Jan 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://dyhes.github.io/categories/nutrition/index.xml" rel="self" type="application/rss+xml"/><item><title>【OpenHarmony】Basics</title><link>https://dyhes.github.io/p/openharmonybasics/</link><pubDate>Mon, 13 Jan 2025 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/openharmonybasics/</guid><description>&lt;h2 id="introduction---foldtrue---">Introduction&lt;!-- {"fold":true} -->
&lt;/h2>&lt;p>我们对应用框架、应用服务、系统、媒体、图形等领域的重点开放能力提供了开发指导，助力开发者快速完成应用的开发。&lt;/p>
&lt;ul>
&lt;li>应用框架相关Kit开放能力：Ability Kit（程序框架服务）、ArkUI（方舟UI框架）等。&lt;/li>
&lt;li>应用服务相关Kit开放能力：Calendar Kit（日历服务）、Location Kit（位置服务）等。&lt;/li>
&lt;li>系统相关Kit开放能力：Network Kit（网络服务）、Universal Keystore Kit（密钥管理服务）等。&lt;/li>
&lt;li>媒体相关Kit开放能力：Audio Kit（音频服务）、Media Library Kit（媒体文件管理服务）等。&lt;/li>
&lt;li>图形相关Kit开放能力：ArkGraphics 2D（方舟2D图形服务）等。&lt;/li>
&lt;/ul>
&lt;h3 id="ui-框架">UI 框架
&lt;/h3>&lt;p>OpenHarmony提供了一套UI开发框架，即&lt;strong>方舟开发框架（ArkUI框架）&lt;/strong>。方舟开发框架可为开发者提供应用UI开发所必需的能力，比如多种组件、布局计算、动画能力、UI交互、绘制等。
方舟开发框架针对不同目的和技术背景的开发者提供了两种开发范式，分别是基于ArkTS的声明式开发范式（简称“声明式开发范式”）和兼容JS的类Web开发范式（简称“类Web开发范式”）。以下是两种开发范式的简单对比。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>开发范式名称&lt;/strong>&lt;/th>
&lt;th>&lt;strong>语言生态&lt;/strong>&lt;/th>
&lt;th>&lt;strong>UI更新方式&lt;/strong>&lt;/th>
&lt;th>&lt;strong>适用场景&lt;/strong>&lt;/th>
&lt;th>&lt;strong>适用人群&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>声明式开发范式&lt;/td>
&lt;td>ArkTS语言&lt;/td>
&lt;td>数据驱动更新&lt;/td>
&lt;td>复杂度较大、团队合作度较高的程序&lt;/td>
&lt;td>移动系统应用开发人员、系统应用开发人员&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>类Web开发范式&lt;/td>
&lt;td>JS语言&lt;/td>
&lt;td>数据驱动更新&lt;/td>
&lt;td>界面较为简单的程序应用和卡片&lt;/td>
&lt;td>Web前端开发人员&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="应用模型">应用模型
&lt;/h3>&lt;p>应用模型是OpenHarmony为开发者提供的应用程序所需能力的抽象提炼，它提供了应用程序必备的&lt;strong>组件和运行机制&lt;/strong>。有了应用模型，开发者可以基于一套统一的模型进行应用开发，使应用开发更简单、高效。请见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/application-models/application-models.md#%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%9E%84%E6%88%90%E8%A6%81%E7%B4%A0" target="_blank" rel="noopener"
>应用模型的构成要素&lt;/a>。
随着系统的演进发展，OpenHarmony先后提供了两种应用模型：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Stage模型：&lt;/strong> OpenHarmony API 9开始新增的模型，是目前主推且会长期演进的模型。在该模型中，由于提供了AbilityStage、WindowStage等类作为应用组件和Window窗口的“舞台”，因此称这种应用模型为Stage模型。Stage模型开发可见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/application-models/stage-model-development-overview.md" target="_blank" rel="noopener"
>Stage模型开发概述&lt;/a>。&lt;strong>快速入门以此为例提供开发指导。&lt;/strong>&lt;/li>
&lt;li>&lt;strong>FA（Feature Ability）模型：&lt;/strong> OpenHarmony API 7开始支持的模型，已经不再主推。FA模型开发可见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/application-models/fa-model-development-overview.md" target="_blank" rel="noopener"
>FA模型开发概述&lt;/a>。&lt;strong>快速入门章节不再对此展开提供开发指导。&lt;/strong>
⠀FA模型和Stage模型的整体架构和设计思想等更多区别，请见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/application-models/application-models.md" target="_blank" rel="noopener"
>应用模型解读&lt;/a>。
快速入门提供了一个含有两个页面的开发实例，并基于Stage模型构建第一个ArkTS应用，以便开发者理解以上基本概念及应用开发流程。&lt;/li>
&lt;/ul>
&lt;h3 id="arkts工程目录结构stage模型">ArkTS工程目录结构（Stage模型）
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>AppScope &amp;gt; app.json5&lt;/strong>：应用的全局配置信息，详见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/app-configuration-file.md" target="_blank" rel="noopener"
>app.json5配置文件&lt;/a>。&lt;/li>
&lt;li>&lt;strong>entry&lt;/strong>：OpenHarmony工程模块，编译构建生成一个HAP包。
&lt;ul>
&lt;li>&lt;strong>src &amp;gt; main &amp;gt; ets&lt;/strong>：用于存放ArkTS源码。&lt;/li>
&lt;li>&lt;strong>src &amp;gt; main &amp;gt; ets &amp;gt; entryability&lt;/strong>：应用/服务的入口。&lt;/li>
&lt;li>&lt;strong>src &amp;gt; main &amp;gt; ets &amp;gt; pages&lt;/strong>：应用/服务包含的页面。&lt;/li>
&lt;li>&lt;strong>src &amp;gt; main &amp;gt; resources&lt;/strong>：用于存放应用/服务所用到的资源文件，如图形、多媒体、字符串、布局文件等。关于资源文件，详见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/resource-categories-and-access.md#%E8%B5%84%E6%BA%90%E5%88%86%E7%B1%BB" target="_blank" rel="noopener"
>资源文件的分类&lt;/a>。&lt;/li>
&lt;li>&lt;strong>src &amp;gt; main &amp;gt; module.json5&lt;/strong>：模块配置文件。主要包含HAP包的配置信息、应用/服务在具体设备上的配置信息以及应用/服务的全局配置信息。具体的配置文件说明，详见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/module-configuration-file.md" target="_blank" rel="noopener"
>module.json5配置文件&lt;/a>。&lt;/li>
&lt;li>&lt;strong>build-profile.json5&lt;/strong>：当前的模块信息 、编译信息配置项，包括buildOption、targets配置等。&lt;/li>
&lt;li>&lt;strong>hvigorfile.ts&lt;/strong>：模块级编译构建任务脚本，开发者可以自定义相关任务和代码实现。&lt;/li>
&lt;li>&lt;strong>obfuscation-rules.txt&lt;/strong>：混淆规则文件。混淆开启后，在使用Release模式进行编译时，会对代码进行编译、混淆及压缩处理，保护代码资产。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>oh_modules&lt;/strong>：用于存放三方库依赖信息。&lt;/li>
&lt;li>&lt;strong>build-profile.json5&lt;/strong>：应用级配置信息，包括签名signingConfigs、产品配置products等。&lt;/li>
&lt;li>&lt;strong>hvigorfile.ts&lt;/strong>：应用级编译构建任务脚本。&lt;/li>
&lt;/ul>
&lt;h2 id="应用程序包">应用程序包
&lt;/h2>&lt;p>用户应用程序泛指运行在设备的操作系统之上，为用户提供特定服务的程序，简称“应用”。一个应用所对应的软件包文件，称为“应用程序包”。
当前系统提供了应用程序包开发、安装、查询、更新、卸载的管理机制，便于开发者开发和管理应用。同时，系统还屏蔽了不同的芯片平台的差异（包括x86/ARM，32位/64位等），应用程序包在不同的芯片平台都能够安装运行，这使得开发者可以聚焦于应用的功能实现。&lt;/p>
&lt;h3 id="multi-module">Multi Module
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>支持模块化开发：&lt;/strong> 一个应用通常会包含多种功能，将不同的功能特性按模块来划分和管理是一种良好的设计方式。在开发过程中，我们可以将每个功能模块作为一个独立的Module进行开发，Module中可以包含源代码、资源文件、第三方库、配置文件等，每一个Module可以独立编译，实现特定的功能。这种模块化、松耦合的应用管理方式有助于应用的开发、维护与扩展。&lt;/li>
&lt;li>&lt;strong>支持多设备适配：&lt;/strong> 一个应用往往需要适配多种设备类型，在采用多Module设计的应用中，每个Module都会标注所支持的设备类型。有些Module支持全部类型的设备，有些Module只支持某一种或几种类型的设备（比如平板），那么在应用市场分发应用包时，也能够根据设备类型做精准的筛选和匹配，从而将不同的包合理的组合和部署到对应的设备上。&lt;/li>
&lt;/ul>
&lt;h3 id="module-type">Module Type
&lt;/h3>&lt;p>Module按照使用场景可以分为两种类型：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Ability类型的Module：&lt;/strong> 用于实现应用的功能和特性。每一个Ability类型的Module编译后，会生成一个以.hap为后缀的文件，我们称其为HAP（Harmony Ability Package）包。HAP包可以独立安装和运行，是应用安装的基本单位，一个应用中可以包含一个或多个HAP包，具体包含如下两种类型。
&lt;ul>
&lt;li>entry类型的Module：应用的主模块，包含应用的入口界面、入口图标和主功能特性，编译后生成entry类型的HAP。每一个应用分发到同一类型的设备上的应用程序包，只能包含唯一一个entry类型的HAP。&lt;/li>
&lt;li>feature类型的Module：应用的动态特性模块，编译后生成feature类型的HAP。一个应用中可以包含一个或多个feature类型的HAP，也可以不包含。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Library类型的Module：&lt;/strong> 用于实现代码和资源的共享。同一个Library类型的Module可以被其他的Module多次引用，合理地使用该类型的Module，能够降低开发和维护成本。Library类型的Module分为Static和Shared两种类型，编译后会生成共享包。
&lt;ul>
&lt;li>Static Library：静态共享库。编译后会生成一个以.har为后缀的文件，即静态共享包HAR（Harmony Archive）。&lt;/li>
&lt;li>Shared Library：动态共享库。编译后会生成一个以.hsp为后缀的文件，即动态共享包HSP（Harmony Shared Package）。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>**说明：**实际上，Shared Library编译后除了会生成一个.hsp文件，还会生成一个.har文件。这个.har文件中包含了HSP对外导出的接口，应用中的其他模块需要通过.har文件来引用HSP的功能。为了表述方便，我们通常认为Shared Library编译后生成HSP。
HAR与HSP两种共享包的主要区别体现在：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>共享包类型&lt;/strong>&lt;/th>
&lt;th>&lt;strong>编译和运行方式&lt;/strong>&lt;/th>
&lt;th>&lt;strong>发布和引用方式&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>HAR&lt;/td>
&lt;td>HAR中的代码和资源跟随使用方编译，如果有多个使用方，它们的编译产物中会存在多份相同拷贝。&lt;br>注意：&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/har-package.md#%E7%BC%96%E8%AF%91" target="_blank" rel="noopener"
>编译HAR&lt;/a>时，建议开启混淆能力，保护代码资产。&lt;/td>
&lt;td>HAR除了支持应用内引用，还可以独立打包发布，供其他应用引用。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>HSP&lt;/td>
&lt;td>HSP中的代码和资源可以独立编译，运行时在一个进程中代码也只会存在一份。&lt;/td>
&lt;td>HSP一般随应用进行打包，当前支持应用内和&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/integrated-hsp.md" target="_blank" rel="noopener"
>集成态HSP&lt;/a>。应用内HSP只支持应用内引用，集成态HSP支持发布到ohpm私仓和跨应用引用。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;img src="https://dyhes.github.io/OpenHarmony/in-app-hsp-har.png"
loading="lazy"
>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/blockquote>
&lt;h3 id="stage模型包结构">⠀Stage模型包结构
&lt;/h3>&lt;p>分别对开发态、编译态、发布态的应用程序结构展开介绍。&lt;/p>
&lt;h4 id="开发态">开发态
&lt;/h4>&lt;p>工程结构主要包含的文件类型及用途如下：&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>说明：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>AppScope目录由DevEco Studio自动生成，不可更改。&lt;/li>
&lt;li>Module目录名称可以由DevEco Studio自动生成（比如entry、library等），也可以自定义。为了便于说明，下表中统一采用Module_name表示。
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>文件类型&lt;/strong>&lt;/th>
&lt;th>&lt;strong>说明&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>配置文件&lt;/td>
&lt;td>包括应用级配置信息、以及Module级配置信息：&lt;br>- &lt;strong>AppScope &amp;gt; app.json5&lt;/strong>：&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/app-configuration-file.md" target="_blank" rel="noopener"
>app.json5配置文件&lt;/a>，用于声明应用的全局配置信息，比如应用Bundle名称、应用名称、应用图标、应用版本号等。&lt;br>- &lt;strong>Module_name &amp;gt; src &amp;gt; main &amp;gt; module.json5&lt;/strong>：&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/module-configuration-file.md" target="_blank" rel="noopener"
>module.json5配置文件&lt;/a>，用于声明Module基本信息、支持的设备类型、所含的组件信息、运行所需申请的权限等。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ArkTS源码文件&lt;/td>
&lt;td>&lt;strong>Module_name &amp;gt; src &amp;gt; main &amp;gt; ets&lt;/strong>：用于存放Module的ArkTS源码文件（.ets文件）。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>资源文件&lt;/td>
&lt;td>包括应用级资源文件、以及Module级资源文件，支持图形、多媒体、字符串、布局文件等，详见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/resource-categories-and-access.md" target="_blank" rel="noopener"
>资源分类与访问&lt;/a>。&lt;br>- &lt;strong>AppScope &amp;gt; resources&lt;/strong> ：用于存放应用需要用到的资源文件。&lt;br>- &lt;strong>Module_name &amp;gt; src &amp;gt; main &amp;gt; resources&lt;/strong> ：用于存放该Module需要用到的资源文件。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>其他配置文件&lt;/td>
&lt;td>用于编译构建，包括构建配置文件、编译构建任务脚本、混淆规则文件、依赖的共享包信息等。&lt;br>- &lt;strong>build-profile.json5&lt;/strong>：工程级或Module级的构建配置文件，包括应用签名、产品配置等。&lt;br>- &lt;strong>hvigorfile.ts&lt;/strong>：应用级或Module级的编译构建任务脚本，开发者可以自定义编译构建工具版本、控制构建行为的配置参数。&lt;br>- &lt;strong>obfuscation-rules.txt&lt;/strong>：混淆规则文件。混淆开启后，在使用Release模式进行编译时，会对代码进行编译、混淆及压缩处理，保护代码资产。&lt;br>- &lt;strong>oh-package.json5&lt;/strong>：用于存放依赖库的信息，包括所依赖的三方库和共享包。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="编译态">编译态
&lt;/h4>&lt;p>&lt;img src="https://dyhes.github.io/OpenHarmony/image.png"
loading="lazy"
>
从开发态到编译态，Module中的文件会发生如下变更：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ets目录&lt;/strong>：ArkTS源码编译生成.abc文件。&lt;/li>
&lt;li>&lt;strong>resources目录&lt;/strong>：AppScope目录下的资源文件会&lt;strong>合入&lt;/strong>到Module下面资源目录中，如果两个目录下存在重名文件，编译打包后只会保留AppScope目录下的资源文件。&lt;/li>
&lt;li>&lt;strong>module配置文件&lt;/strong>：AppScope目录下的app.json5文件字段会&lt;strong>合入&lt;/strong>到Module下面的module.json5文件之中，编译后生成HAP或HSP最终的module.json文件。
⠀&lt;strong>说明：&lt;/strong>
在编译HAP和HSP时，会把他们所依赖的HAR直接编译到HAP和HSP中。&lt;/li>
&lt;/ul>
&lt;h4 id="发布态">发布态
&lt;/h4>&lt;p>每个应用中至少包含一个.hap文件，可能包含若干个.hsp文件、也可能不含，一个应用中的所有.hap与.hsp文件合在一起称为&lt;strong>Bundle&lt;/strong>，其对应的bundleName是应用的唯一标识（详见&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/app-configuration-file.md" target="_blank" rel="noopener"
>app.json5配置文件&lt;/a>中的bundleName标签）。
当应用发布上架到应用市场时，需要将Bundle打包为一个.app后缀的文件用于上架，这个.app文件称为&lt;strong>App Pack&lt;/strong>（Application Package），与此同时，DevEco Studio工具自动会生成一个&lt;strong>pack.info&lt;/strong>文件。&lt;strong>pack.info&lt;/strong>文件描述了App Pack中每个HAP和HSP的属性，包含APP中的bundleName和versionCode信息、以及Module中的name、type和abilities等信息。&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>说明：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>App Pack是发布上架到应用市场的基本单元，但是不能在设备上直接安装和运行。&lt;/li>
&lt;li>在应用签名、云端分发、端侧安装时，都是以HAP/HSP为单位进行签名、分发和安装的。
&lt;img src="https://dyhes.github.io/OpenHarmony/image%202.png"
loading="lazy"
>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="包选择">包选择
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Module类型&lt;/strong>&lt;/th>
&lt;th>&lt;strong>包类型&lt;/strong>&lt;/th>
&lt;th>&lt;strong>说明&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Ability&lt;/td>
&lt;td>&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/hap-package.md" target="_blank" rel="noopener"
>HAP&lt;/a>&lt;/td>
&lt;td>应用的功能模块，可以独立安装和运行，必须包含一个entry类型的HAP，可选包含一个或多个feature类型的HAP。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Static Library&lt;/td>
&lt;td>&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/har-package.md" target="_blank" rel="noopener"
>HAR&lt;/a>&lt;/td>
&lt;td>静态共享包，编译态复用。&lt;br>- 支持应用内共享，也可以发布后供其他应用使用。&lt;br>  - 作为二方库，发布到&lt;a class="link" href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ide-ohpm-repo-V5" target="_blank" rel="noopener"
>OHPM私仓&lt;/a>，供公司内部其他应用使用。&lt;br>  - 作为三方库，发布到&lt;a class="link" href="https://ohpm.openharmony.cn/" target="_blank" rel="noopener"
>OHPM中心仓&lt;/a>，供其他应用使用。&lt;br>- 多包（HAP/HSP）引用相同的HAR时，会造成多包间代码和资源的重复拷贝，从而导致应用包膨大。&lt;br>- 注意：&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/har-package.md#%E7%BC%96%E8%AF%91" target="_blank" rel="noopener"
>编译HAR&lt;/a>时，建议开启混淆能力，保护代码资产。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Shared Library&lt;/td>
&lt;td>&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/in-app-hsp.md" target="_blank" rel="noopener"
>HSP&lt;/a>&lt;/td>
&lt;td>动态共享包，运行时复用。&lt;br>- 当多包（HAP/HSP）同时引用同一个共享包时，采用HSP替代HAR，可以避免HAR造成的多包间代码和资源的重复拷贝，从而减小应用包大小。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>规格&lt;/strong>&lt;/th>
&lt;th>&lt;strong>HAP&lt;/strong>&lt;/th>
&lt;th>&lt;strong>HAR&lt;/strong>&lt;/th>
&lt;th>&lt;strong>HSP&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>支持在配置文件中声明&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/application-models/uiability-overview.md" target="_blank" rel="noopener"
>UIAbility&lt;/a>组件与&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/application-models/extensionability-overview.md" target="_blank" rel="noopener"
>ExtensionAbility&lt;/a>组件&lt;/td>
&lt;td>√&lt;/td>
&lt;td>×&lt;/td>
&lt;td>×&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>支持在配置文件中声明&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/module-configuration-file.md#pages%E6%A0%87%E7%AD%BE" target="_blank" rel="noopener"
>pages&lt;/a>页面&lt;/td>
&lt;td>√&lt;/td>
&lt;td>×&lt;/td>
&lt;td>√&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>支持在设备上独立安装运行&lt;/td>
&lt;td>√&lt;/td>
&lt;td>×&lt;/td>
&lt;td>×&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>&lt;strong>说明：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>HAR虽然不支持在配置文件中声明pages页面，但是可以包含pages页面，并通过&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/ui/arkts-routing.md#%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener"
>命名路由&lt;/a>的方式进行跳转。&lt;/li>
&lt;li>由于&lt;strong>HSP仅支持应用内共享&lt;/strong>，如果HAR依赖了HSP，则该HAR文件仅支持应用内共享，不支持发布到二方仓或三方仓供其他应用使用，否则会导致编译失败。&lt;/li>
&lt;li>HAR和HSP均不支持循环依赖，也不支持依赖传递。&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="hap">HAP
&lt;/h3>&lt;p>HAP（Harmony Ability Package）是应用安装和运行的基本单元。HAP包是由代码、资源、第三方库、配置文件等打包生成的模块包，其主要分为两种类型：entry和feature。&lt;/p>
&lt;ul>
&lt;li>entry：应用的主模块，作为应用的入口，提供了应用的基础功能。&lt;/li>
&lt;li>feature：应用的动态特性模块，作为应用能力的扩展，可以根据用户的需求和设备类型进行选择性安装。
⠀应用程序包可以只包含一个基础的entry包，也可以包含一个基础的entry包和多个功能性的feature包。&lt;/li>
&lt;/ul>
&lt;h4 id="使用场景">使用场景
&lt;/h4>&lt;ul>
&lt;li>单HAP场景：如果只包含UIAbility组件，无需使用ExtensionAbility组件，优先采用单HAP（即一个entry包）来实现应用开发。虽然一个HAP中可以包含一个或多个UIAbility组件，为了避免不必要的资源加载，推荐采用“一个UIAbility+多个页面”的方式。&lt;/li>
&lt;li>多HAP场景：如果应用的功能比较复杂，需要使用ExtensionAbility组件，可以采用多HAP（即一个entry包+多个feature包）来实现应用开发，每个HAP中包含一个UIAbility组件或者一个ExtensionAbility组件。在这种场景下，可能会存在多个HAP引用相同的库文件，导致重复打包的问题。&lt;/li>
&lt;/ul>
&lt;h4 id="约束限制">⠀约束限制
&lt;/h4>&lt;ul>
&lt;li>不支持导出接口和ArkUI组件，给其他模块使用。&lt;/li>
&lt;li>多HAP场景下，App Pack包中同一设备类型的所有HAP中&lt;strong>必须有且只有一个Entry类型的HAP&lt;/strong>，Feature类型的HAP可以有一个或者多个，也可以没有。&lt;/li>
&lt;li>多HAP场景下，同一应用中的所有HAP的配置文件中的bundleName、versionCode、versionName、minCompatibleVersionCode、debug、minAPIVersion、targetAPIVersion、apiReleaseType相同，同一设备类型的所有HAP对应的moduleName标签必须&lt;strong>唯一&lt;/strong>。HAP打包生成App Pack包时，会对上述参数配置进行校验。&lt;/li>
&lt;li>多HAP场景下，同一应用的所有HAP、HSP的&lt;strong>签名证书要保持一致&lt;/strong>。上架应用市场是以App Pack形式上架，应用市场分发时会将所有HAP从App Pack中拆分出来，同时对其中的所有HAP进行重签名，这样保证了所有HAP签名证书的一致性。在调试阶段，开发者通过命令行或DevEco Studio将HAP安装到设备上时，要保证所有HAP签名证书一致，否则会出现安装失败的问题。&lt;/li>
&lt;/ul>
&lt;h2 id="应用配置文件">应用配置文件
&lt;/h2>&lt;p>每个应用项目的代码目录下必须包含应用配置文件，这些配置文件会向编译工具、操作系统和应用市场提供应用的基本信息。
在基于Stage模型开发的应用项目代码下，都存在一个app.json5配置文件、以及一个或多个module.json5配置文件。
&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/app-configuration-file.md" target="_blank" rel="noopener"
>app.json5配置文件&lt;/a>主要包含以下内容：&lt;/p>
&lt;ul>
&lt;li>应用的全局配置信息，包含应用的Bundle名称、开发厂商、版本号等基本信息。&lt;/li>
&lt;li>特定设备类型的配置信息。&lt;/li>
&lt;/ul>
&lt;p>⠀&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/module-configuration-file.md" target="_blank" rel="noopener"
>module.json5配置文件&lt;/a>主要包含以下内容：&lt;/p>
&lt;ul>
&lt;li>Module的基本配置信息，包含Module名称、类型、描述、支持的设备类型等基本信息。&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/application-models/stage-model-development-overview.md" target="_blank" rel="noopener"
>应用组件&lt;/a>信息，包含UIAbility组件和ExtensionAbility组件的描述信息。&lt;/li>
&lt;li>应用运行过程中所需的权限信息。&lt;/li>
&lt;/ul>
&lt;h3 id="appjson5">app.json5
&lt;/h3>&lt;p>&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/app-configuration-file.md" target="_blank" rel="noopener"
>https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/app-configuration-file.md&lt;/a>&lt;/p>
&lt;h3 id="modulejson5">module.json5
&lt;/h3>&lt;p>&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/module-configuration-file.md" target="_blank" rel="noopener"
>https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/module-configuration-file.md&lt;/a>&lt;/p>
&lt;h2 id="arkts">ArkTs
&lt;/h2>&lt;p>&lt;a class="link" href="https://docs.openharmony.cn/pages/v5.0/zh-cn/application-dev/quick-start/arkts-get-started.md" target="_blank" rel="noopener"
>OpenAtom OpenHarmony&lt;/a>&lt;/p>
&lt;h2 id="supplement">Supplement
&lt;/h2>&lt;h3 id="module">Module
&lt;/h3>&lt;p>在 &lt;strong>OpenHarmony&lt;/strong> 中，&lt;strong>Module&lt;/strong>（模块）是应用开发中的一个重要概念，用于组织和划分应用的功能单元。它是 OpenHarmony 应用的基本组成部分，每个模块可以独立开发、编译和部署，最终组合成一个完整的应用。&lt;/p>
&lt;h4 id="module-的核心概念">Module 的核心概念
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>模块化设计&lt;/strong>
&lt;ul>
&lt;li>OpenHarmony 采用模块化设计，允许开发者将应用拆分为多个模块，每个模块负责特定的功能或业务逻辑。&lt;/li>
&lt;li>这种设计提高了代码的可维护性和复用性，同时也支持动态加载和按需安装。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>模块类型&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Entry Module&lt;/strong>（主模块）：应用的入口模块，包含应用的核心功能和资源，是应用安装和运行的起点。&lt;/li>
&lt;li>&lt;strong>Feature Module&lt;/strong>（功能模块）：应用的扩展模块，包含特定的功能或业务逻辑，可以按需下载和安装，支持应用的动态扩展。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>模块结构&lt;/strong>&lt;br>
每个模块通常包含以下内容：
&lt;ul>
&lt;li>&lt;strong>代码文件&lt;/strong>：包括 ArkTS、JavaScript、C/C++ 等代码，用于实现模块的功能。&lt;/li>
&lt;li>&lt;strong>资源文件&lt;/strong>：包括图片、字符串、布局文件等，用于支持模块的 UI 和功能。&lt;/li>
&lt;li>&lt;strong>配置文件&lt;/strong>：&lt;code>module.json&lt;/code> 文件，定义了模块的元数据、依赖关系、Ability 信息等。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="module-的配置文件">Module 的配置文件
&lt;/h4>&lt;p>每个模块都有一个 &lt;code>module.json&lt;/code> 文件，用于描述模块的基本信息和配置。其主要内容包括：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>模块名称&lt;/strong>：模块的唯一标识符。&lt;/li>
&lt;li>&lt;strong>模块类型&lt;/strong>：指明模块是 Entry Module 还是 Feature Module。&lt;/li>
&lt;li>&lt;strong>Ability 信息&lt;/strong>：定义模块中包含的 Ability（功能单元），如 Page Ability 和 Service Ability。&lt;/li>
&lt;li>&lt;strong>依赖关系&lt;/strong>：声明模块依赖的其他模块或库。&lt;/li>
&lt;li>&lt;strong>资源路径&lt;/strong>：指定模块的资源文件存放位置。
示例 &lt;code>module.json&lt;/code> 文件：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;module&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;entry&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;entry&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;abilities&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;.MainAbility&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;icon&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;$media:icon&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;label&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;$string:app_name&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;launchType&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;standard&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;dependencies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;bundleName&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;com.example.feature&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;moduleName&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;feature&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="module-的开发与构建">Module 的开发与构建
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>开发工具&lt;/strong>
&lt;ul>
&lt;li>使用 &lt;strong>DevEco Studio&lt;/strong> 开发工具，开发者可以创建和管理模块，编写代码和配置文件。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>构建与打包&lt;/strong>
&lt;ul>
&lt;li>每个模块可以独立编译和打包，生成对应的 HAP（HarmonyOS Ability Package）文件。&lt;/li>
&lt;li>最终，多个模块的 HAP 文件组合成一个完整的应用。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>动态加载&lt;/strong>
&lt;ul>
&lt;li>Feature Module 支持动态加载，可以在应用运行时按需下载和安装，减少初始安装包的大小。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="module-的应用场景">Module 的应用场景
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>大型应用开发&lt;/strong>
&lt;ul>
&lt;li>对于功能复杂的大型应用，可以将应用拆分为多个模块，由不同团队并行开发，提高开发效率。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>动态功能扩展&lt;/strong>
&lt;ul>
&lt;li>通过 Feature Module，可以实现应用的动态功能扩展，用户可以根据需要下载和安装特定功能。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>代码复用&lt;/strong>
&lt;ul>
&lt;li>将通用功能封装为独立的模块，可以在多个应用中复用，减少重复开发。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="总结">总结
&lt;/h4>&lt;p>在 OpenHarmony 中，Module 是应用开发的基本单元，支持模块化设计和动态加载。通过将应用拆分为多个模块，开发者可以提高代码的可维护性、复用性和扩展性，同时为用户提供更灵活的应用体验。&lt;/p>
&lt;h3 id="json5">.json5
&lt;/h3>&lt;p>&lt;strong>JSON5&lt;/strong> 是 JSON（JavaScript Object Notation）的扩展格式，旨在解决 JSON 格式的一些局限性，使其更易于人类阅读和编写。JSON5 在保留 JSON 简单性和兼容性的基础上，增加了一些灵活的语法特性。&lt;/p>
&lt;h4 id="json5-的主要改进">JSON5 的主要改进
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>支持注释&lt;/strong> &lt;!-- {"fold":true} -->
&lt;ul>
&lt;li>JSON5 允许在数据中添加单行注释（&lt;code>//&lt;/code>）和多行注释（&lt;code>/* ... */&lt;/code>），方便开发者添加说明。&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code class="language-json5" data-lang="json5">{
// 这是一个单行注释
&amp;#34;name&amp;#34;: &amp;#34;JSON5&amp;#34;,
/* 这是一个
多行注释 */
&amp;#34;version&amp;#34;: &amp;#34;1.0.0&amp;#34;
}
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>&lt;strong>键名可以不加引号&lt;/strong> &lt;!-- {"fold":true} -->
&lt;ul>
&lt;li>JSON5 允许键名不使用引号（前提是键名是有效的标识符），简化了书写。&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code class="language-json5" data-lang="json5">{
name: &amp;#34;JSON5&amp;#34;, // 键名不加引号
version: &amp;#34;1.0.0&amp;#34;
}
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>&lt;strong>支持尾随逗号&lt;/strong> &lt;!-- {"fold":true} -->
&lt;ul>
&lt;li>JSON5 允许在对象和数组的最后一个元素后添加逗号，避免修改数据时频繁调整格式。&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code class="language-json5" data-lang="json5">{
&amp;#34;name&amp;#34;: &amp;#34;JSON5&amp;#34;,
&amp;#34;version&amp;#34;: &amp;#34;1.0.0&amp;#34;, // 尾随逗号
}
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>&lt;strong>字符串支持多行和单引号&lt;/strong> &lt;!-- {"fold":true} -->
&lt;ul>
&lt;li>JSON5 允许字符串使用单引号（&lt;code>'&lt;/code>）和多行形式（用反引号或换行符），方便处理复杂文本。&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code class="language-json5" data-lang="json5">{
description: &amp;#39;这是一个使用单引号的字符串&amp;#39;,
multiLine: `这是一个
多行字符串`
}
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>&lt;strong>数字支持更多格式&lt;/strong> &lt;!-- {"fold":true} -->
&lt;ul>
&lt;li>JSON5 支持十六进制（&lt;code>0x&lt;/code>）、浮点数（&lt;code>.&lt;/code>）、正负号（&lt;code>+&lt;/code>/&lt;code>-&lt;/code>）以及特殊值（如&lt;code>Infinity&lt;/code>和&lt;code>NaN&lt;/code>）。&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code class="language-json5" data-lang="json5">{
hex: 0xFF, // 十六进制
float: 3.14, // 浮点数
positive: +100, // 正数
negative: -50, // 负数
infinity: Infinity, // 无穷大
notANumber: NaN // 非数字
}
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ol>
&lt;h4 id="json5-的使用场景---foldtrue---">JSON5 的使用场景&lt;!-- {"fold":true} -->
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>配置文件&lt;/strong>
&lt;ul>
&lt;li>JSON5 的注释和灵活语法使其非常适合用于配置文件，开发者可以更清晰地描述配置项。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>开发工具&lt;/strong>
&lt;ul>
&lt;li>许多开发工具和框架支持 JSON5，例如 Babel、ESLint 等，方便开发者编写和维护配置。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>数据交换&lt;/strong>
&lt;ul>
&lt;li>虽然 JSON5 的灵活性更适合人类阅读，但在数据交换场景中，仍建议使用标准的 JSON 格式以确保兼容性。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="json5-的解析与生成---foldtrue---">JSON5 的解析与生成&lt;!-- {"fold":true} -->
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>JavaScript 解析&lt;/strong>
&lt;ul>
&lt;li>可以使用 &lt;code>json5&lt;/code> 库来解析 JSON5 数据。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">JSON5&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;json5&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">JSON5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">parse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;{name: &amp;#34;JSON5&amp;#34;}&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 输出: JSON5
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;strong>生成 JSON5&lt;/strong>
&lt;ul>
&lt;li>可以使用 &lt;code>json5&lt;/code> 库将 JavaScript 对象转换为 JSON5 字符串。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">JSON5&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;json5&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;JSON5&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">version&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;1.0.0&amp;#34;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">json5Str&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">JSON5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">json5Str&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 输出: {name:&amp;#34;JSON5&amp;#34;,version:&amp;#34;1.0.0&amp;#34;}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="总结---foldtrue---">总结&lt;!-- {"fold":true} -->
&lt;/h4>&lt;p>JSON5 是 JSON 的扩展格式，通过支持注释、无引号键名、尾随逗号、多行字符串等特性，使其更易于人类阅读和编写。它非常适合用于配置文件和开发工具，但在数据交换场景中仍需注意兼容性问题。&lt;/p>
&lt;h3 id="so">.so
&lt;/h3>&lt;p>&lt;code>.so&lt;/code>文件是&lt;strong>共享对象文件&lt;/strong>（Shared Object File）的缩写，是一种在Linux和类Unix系统（包括Android和HarmonyOS）中使用的动态链接库文件格式。它类似于Windows系统中的&lt;code>.dll&lt;/code>文件（动态链接库），用于存储可被多个程序共享的代码和资源。&lt;/p>
&lt;h4 id="so文件的核心特点">&lt;code>.so&lt;/code>文件的核心特点
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>动态链接&lt;/strong>
&lt;ul>
&lt;li>&lt;code>.so&lt;/code>文件在程序运行时被加载，而不是在编译时静态链接到程序中。&lt;/li>
&lt;li>这种机制可以减少程序的内存占用，并支持代码的复用和更新。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>共享性&lt;/strong>
&lt;ul>
&lt;li>多个程序可以同时使用同一个&lt;code>.so&lt;/code>文件，避免重复加载相同的代码，节省系统资源。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>平台依赖性&lt;/strong>
&lt;ul>
&lt;li>&lt;code>.so&lt;/code>文件是平台相关的，通常针对特定的CPU架构（如ARM、x86）和操作系统编译，不能跨平台直接使用。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="so文件的使用场景">&lt;code>.so&lt;/code>文件的使用场景
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>跨语言调用&lt;/strong>
&lt;ul>
&lt;li>在HarmonyOS或Android中，&lt;code>.so&lt;/code>文件通常用于实现C/C++代码与Java/ArkTS等高级语言之间的跨语言调用。&lt;/li>
&lt;li>例如，通过JNI（Java Native Interface）或Node-API调用&lt;code>.so&lt;/code>文件中的函数。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>性能优化&lt;/strong>
&lt;ul>
&lt;li>对于计算密集型任务（如图像处理、物理模拟等），使用C/C++编写的&lt;code>.so&lt;/code>文件可以提供更高的性能。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>复用已有代码&lt;/strong>
&lt;ul>
&lt;li>开发者可以将已有的C/C++库编译为&lt;code>.so&lt;/code>文件，在HarmonyOS或Android应用中复用，减少开发成本。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="so文件的生成">&lt;code>.so&lt;/code>文件的生成
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>编译工具&lt;/strong>
&lt;ul>
&lt;li>使用GCC、Clang等编译器，将C/C++代码编译为&lt;code>.so&lt;/code>文件。&lt;/li>
&lt;li>在HarmonyOS中，可以使用NDK（Native Development Kit）提供的工具链进行编译。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>编译命令示例&lt;/strong>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">gcc -shared -o libexample.so example.c
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>-shared&lt;/code>选项表示生成共享库文件。&lt;/li>
&lt;li>&lt;code>-o&lt;/code>选项指定输出文件名。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="so文件的加载与使用">&lt;code>.so&lt;/code>文件的加载与使用
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>动态加载&lt;/strong>
&lt;ul>
&lt;li>在程序运行时，可以通过&lt;code>dlopen&lt;/code>函数动态加载&lt;code>.so&lt;/code>文件，并通过&lt;code>dlsym&lt;/code>函数获取其中的函数指针。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>示例代码&lt;/strong>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;dlfcn.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">handle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">dlopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;./libexample.so&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">RTLD_LAZY&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">handle&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;%s&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nf">dlerror&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">func&lt;/span>&lt;span class="p">)()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">dlsym&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">handle&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;example_function&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">func&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">func&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">dlclose&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">handle&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="so文件在harmonyos中的应用">&lt;code>.so&lt;/code>文件在HarmonyOS中的应用
&lt;/h4>&lt;p>在HarmonyOS中，&lt;code>.so&lt;/code>文件通常用于：&lt;/p>
&lt;ul>
&lt;li>实现高性能的底层功能（如图形渲染、音频处理）。&lt;/li>
&lt;li>支持跨语言调用（如ArkTS/JS与C/C++之间的交互）。&lt;/li>
&lt;li>复用已有的C/C++库，降低开发成本。&lt;/li>
&lt;/ul>
&lt;h4 id="总结-1">总结
&lt;/h4>&lt;p>&lt;code>.so&lt;/code>文件是一种动态链接库文件，广泛用于Linux、Android和HarmonyOS等系统中。它支持代码的共享和动态加载，适用于跨语言调用、性能优化和代码复用等场景。在HarmonyOS开发中，&lt;code>.so&lt;/code>文件是实现高性能和跨语言能力的重要工具。&lt;/p>
&lt;h3 id="hap-1">HAP
&lt;/h3>&lt;p>HAP（HarmonyOS Ability Package）是HarmonyOS应用的基本部署单元，类似于Android中的APK（Android Package）。它是HarmonyOS应用的安装包格式，包含了应用的所有资源、代码和配置文件，用于在HarmonyOS设备上安装和运行应用。&lt;/p>
&lt;h4 id="hap包的核心组成">HAP包的核心组成
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>Ability&lt;/strong>
&lt;ul>
&lt;li>Ability是HarmonyOS应用的基本组成单元，代表应用的一个功能模块。&lt;/li>
&lt;li>分为两种类型：
&lt;ul>
&lt;li>&lt;strong>Page Ability&lt;/strong>：用于提供用户界面（UI）的Ability，类似于Android中的Activity。&lt;/li>
&lt;li>&lt;strong>Service Ability&lt;/strong>：用于在后台执行任务的Ability，类似于Android中的Service。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>资源文件&lt;/strong>
&lt;ul>
&lt;li>包括图片、字符串、布局文件等，用于支持应用的UI和功能。&lt;/li>
&lt;li>资源文件通常存放在&lt;code>resources&lt;/code>目录下，支持多语言、多分辨率适配。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>配置文件&lt;/strong>
&lt;ul>
&lt;li>&lt;code>config.json&lt;/code>：应用的全局配置文件，定义了应用的包名、版本号、Ability信息、权限声明等。&lt;/li>
&lt;li>&lt;code>module.json&lt;/code>：模块级配置文件，定义了模块的依赖关系、资源路径等。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>代码文件&lt;/strong>
&lt;ul>
&lt;li>包括ArkTS（HarmonyOS推荐的前端开发语言）、JavaScript、C/C++等代码文件，用于实现应用的逻辑功能。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>库文件&lt;/strong>
&lt;ul>
&lt;li>包括动态库（&lt;code>.so&lt;/code>文件）和静态库（&lt;code>.a&lt;/code>文件），用于支持应用的底层功能。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="hap包的类型">HAP包的类型
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>Entry HAP&lt;/strong>
&lt;ul>
&lt;li>主模块包，包含应用的核心功能和资源，是应用安装和运行的入口。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Feature HAP&lt;/strong>
&lt;ul>
&lt;li>功能模块包，包含应用的扩展功能，可以按需下载和安装，支持应用的动态扩展。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="hap包的特点">HAP包的特点
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>模块化设计&lt;/strong>
&lt;ul>
&lt;li>HAP包支持模块化开发，开发者可以将应用拆分为多个HAP包，实现功能的动态加载和按需安装。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>分布式能力&lt;/strong>
&lt;ul>
&lt;li>HAP包支持HarmonyOS的分布式特性，可以在多个设备上无缝协同运行。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>安全性&lt;/strong>
&lt;ul>
&lt;li>HAP包通过签名机制确保应用的完整性和安全性，防止篡改和恶意攻击。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="hap包的生成与安装">HAP包的生成与安装
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>生成&lt;/strong>
&lt;ul>
&lt;li>使用DevEco Studio开发工具，开发者可以编译和打包应用，生成HAP包。&lt;/li>
&lt;li>打包过程中会自动处理资源压缩、代码混淆等优化操作。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>安装&lt;/strong>
&lt;ul>
&lt;li>HAP包可以通过应用市场、ADB命令行或OTA方式安装到HarmonyOS设备上。&lt;/li>
&lt;li>安装过程中会进行签名验证和权限检查，确保应用的安全性。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="总结-2">总结
&lt;/h4>&lt;p>HAP包是HarmonyOS应用的安装包格式，包含了应用的代码、资源和配置文件，支持模块化设计和分布式能力。通过HAP包，开发者可以高效地开发、部署和运行HarmonyOS应用，为用户提供无缝的智能体验。&lt;/p>
&lt;h2 id="hvigor">hvigor
&lt;/h2>&lt;p>&lt;strong>hvigor&lt;/strong> 是 OpenHarmony 和 HarmonyOS 生态中的一种&lt;strong>构建工具&lt;/strong>，专为 HarmonyOS 应用开发设计。它基于 Gradle 构建系统，但针对 HarmonyOS 的特点进行了优化和扩展，旨在提高开发效率和构建性能。&lt;/p>
&lt;h4 id="hvigor-的核心功能">hvigor 的核心功能
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>项目构建&lt;/strong>
&lt;ul>
&lt;li>hvigor 支持 HarmonyOS 应用的编译、打包和构建，生成 HAP（HarmonyOS Ability Package）文件。&lt;/li>
&lt;li>它能够处理多模块项目的依赖关系，确保构建过程的正确性和高效性。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>任务管理&lt;/strong>
&lt;ul>
&lt;li>hvigor 提供了丰富的构建任务（如编译、打包、清理等），开发者可以通过命令行或 IDE（如 DevEco Studio）执行这些任务。&lt;/li>
&lt;li>支持自定义任务，满足特定项目的构建需求。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>依赖管理&lt;/strong>
&lt;ul>
&lt;li>hvigor 支持对项目依赖的管理，包括本地依赖和远程依赖。&lt;/li>
&lt;li>通过配置文件（如 &lt;code>build-profile.json5&lt;/code>），开发者可以声明项目的依赖关系。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>插件支持&lt;/strong>
&lt;ul>
&lt;li>hvigor 支持插件机制，开发者可以通过插件扩展构建功能。&lt;/li>
&lt;li>HarmonyOS 提供了多种官方插件，如代码混淆插件、资源压缩插件等。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>性能优化&lt;/strong>
&lt;ul>
&lt;li>hvigor 针对 HarmonyOS 应用的构建过程进行了优化，减少了构建时间，提高了构建效率。&lt;/li>
&lt;li>支持增量编译，只编译发生变化的代码和资源，进一步提升构建速度。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="hvigor-的配置文件">hvigor 的配置文件
&lt;/h4>&lt;p>hvigor 使用 JSON5 格式的配置文件来定义项目的构建规则和参数。主要配置文件包括：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>&lt;code>build-profile.json5&lt;/code>&lt;/strong>
&lt;ul>
&lt;li>定义项目的构建配置，如编译选项、依赖关系、插件配置等。&lt;br>
示例：&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code class="language-json5" data-lang="json5">{
&amp;#34;app&amp;#34;: {
&amp;#34;signingConfigs&amp;#34;: {
&amp;#34;release&amp;#34;: {
&amp;#34;storeFile&amp;#34;: &amp;#34;release.keystore&amp;#34;,
&amp;#34;storePassword&amp;#34;: &amp;#34;password&amp;#34;,
&amp;#34;keyAlias&amp;#34;: &amp;#34;key&amp;#34;,
&amp;#34;keyPassword&amp;#34;: &amp;#34;password&amp;#34;
}
},
&amp;#34;buildTypes&amp;#34;: {
&amp;#34;release&amp;#34;: {
&amp;#34;signingConfig&amp;#34;: &amp;#34;release&amp;#34;
}
}
}
}
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>&lt;strong>&lt;code>module.json5&lt;/code>&lt;/strong>
&lt;ul>
&lt;li>定义模块的元数据和配置，如模块名称、Ability 信息、资源路径等。&lt;br>
示例：&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code class="language-json5" data-lang="json5">{
&amp;#34;module&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;entry&amp;#34;,
&amp;#34;type&amp;#34;: &amp;#34;entry&amp;#34;,
&amp;#34;abilities&amp;#34;: [
{
&amp;#34;name&amp;#34;: &amp;#34;.MainAbility&amp;#34;,
&amp;#34;icon&amp;#34;: &amp;#34;$media:icon&amp;#34;,
&amp;#34;label&amp;#34;: &amp;#34;$string:app_name&amp;#34;,
&amp;#34;launchType&amp;#34;: &amp;#34;standard&amp;#34;
}
]
}
}
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ol>
&lt;h4 id="hvigor-的使用">hvigor 的使用
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>命令行使用&lt;/strong>
&lt;ul>
&lt;li>开发者可以通过命令行执行 hvigor 任务，例如：
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">hvigor clean &lt;span class="c1"># 清理构建目录&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hvigor build &lt;span class="c1"># 构建项目&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>集成到 DevEco Studio&lt;/strong>
&lt;ul>
&lt;li>DevEco Studio 内置了 hvigor 支持，开发者可以通过 IDE 的图形界面执行构建任务，查看构建日志和结果。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="hvigor-的优势">hvigor 的优势
&lt;/h4>&lt;ol>
&lt;li>&lt;strong>专为 HarmonyOS 优化&lt;/strong>
&lt;ul>
&lt;li>hvigor 针对 HarmonyOS 应用的构建需求进行了深度优化，提供了更好的性能和兼容性。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>简化构建流程&lt;/strong>
&lt;ul>
&lt;li>通过配置文件和插件机制，hvigor 简化了构建流程，降低了开发者的学习成本。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>高效开发体验&lt;/strong>
&lt;ul>
&lt;li>支持增量编译和任务并行执行，显著提升了开发效率。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h4 id="总结-3">总结
&lt;/h4>&lt;p>hvigor 是 HarmonyOS 生态中的核心构建工具，基于 Gradle 构建系统并针对 HarmonyOS 进行了优化。它提供了高效的构建能力、灵活的配置选项和丰富的插件支持，帮助开发者快速构建和部署 HarmonyOS 应用。通过 hvigor，开发者可以更专注于应用功能的实现，而无需过多关注构建细节。&lt;/p></description></item><item><title>【Base64】Encoding</title><link>https://dyhes.github.io/p/base64encoding/</link><pubDate>Mon, 30 Sep 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/base64encoding/</guid><description>&lt;h2 id="base64-encoding">Base64 Encoding
&lt;/h2>&lt;p>Base64 is a &lt;strong>binary-to-text&lt;/strong> encoding scheme that converts binary data into a set of 64 characters. Here&amp;rsquo;s a brief overview:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Purpose: It&amp;rsquo;s used to represent binary data using a limited set of printable ASCII characters, making it safer to transmit or store data in environments that only support text.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Character set: Base64 uses A-Z, a-z, 0-9, and typically &amp;lsquo;+&amp;rsquo; and &amp;lsquo;/&amp;rsquo; (with &amp;lsquo;=&amp;rsquo; for padding).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Process:&lt;/p>
&lt;ul>
&lt;li>Takes 3 bytes (24 bits) of binary data&lt;/li>
&lt;li>Divides it into 4 groups of 6 bits each&lt;/li>
&lt;li>Converts each group to its corresponding Base64 character&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Common uses:&lt;/p>
&lt;ul>
&lt;li>Encoding binary data in email attachments&lt;/li>
&lt;li>Storing complex data in JSON&lt;/li>
&lt;li>Embedding image data in CSS or HTML&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Advantages:&lt;/p>
&lt;ul>
&lt;li>Ensures data integrity during transfer&lt;/li>
&lt;li>Allows binary data to be treated as text&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Disadvantages:&lt;/p>
&lt;ul>
&lt;li>Increases data size by about &lt;strong>33%&lt;/strong> (3byte to 4byte)&lt;/li>
&lt;li>Not designed for encryption (it&amp;rsquo;s an encoding, not encryption)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>Would you like me to elaborate on any specific aspect of Base64 encoding?&lt;/p>
&lt;h2 id="why-it-is-preferred">Why it is preferred
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>ASCII compatibility:&lt;/p>
&lt;ul>
&lt;li>ASCII defines 128 characters, but only 95 of them are printable.&lt;/li>
&lt;li>Base64 uses 64 characters, which are all &lt;strong>printable and common&lt;/strong> across different systems.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>2^6 efficiency:&lt;/p>
&lt;ul>
&lt;li>64 is 2^6, which &lt;strong>aligns perfectly&lt;/strong> with binary data (multiples of 8 bits 6x4=3x8).&lt;/li>
&lt;li>This allows efficient conversion between binary and Base64 without wasting bits.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Avoiding special characters:&lt;/p>
&lt;ul>
&lt;li>Base64 mostly uses &lt;strong>alphanumeric&lt;/strong> characters, which are safe in most contexts.&lt;/li>
&lt;li>Higher bases would require more special characters, increasing the risk of conflicts.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>URL and filename safety:&lt;/p>
&lt;ul>
&lt;li>The standard Base64 character set is mostly &lt;strong>safe for URLs and filenames&lt;/strong>.&lt;/li>
&lt;li>Minor &lt;strong>variants&lt;/strong> (like Base64URL) make it completely safe for these uses.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Historical reasons:&lt;/p>
&lt;ul>
&lt;li>Base64 emerged when 6-bit character codes were common in early computing.&lt;/li>
&lt;li>It became a standard and has remained widely supported.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Tradeoffs with higher bases:&lt;/p>
&lt;ul>
&lt;li>Base128 would require 7 bits per character, not aligning well with 8-bit bytes.&lt;/li>
&lt;li>It would also require using many more special characters or non-printable ASCII characters.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Lower bases comparison:&lt;/p>
&lt;ul>
&lt;li>Base32 exists but increases size more than Base64.&lt;/li>
&lt;li>Base16 (hexadecimal) is simple but doubles the data size.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>While Base64 does increase data size, it &lt;strong>strikes a balance&lt;/strong> between efficiency, compatibility, and safety that has made it a lasting standard in data encoding.&lt;/p>
&lt;h2 id="comparison-with-base64url">Comparison With Base64URL
&lt;/h2>&lt;p>Base64 and Base64URL (also known as URL-safe Base64) are very similar encoding schemes, but they have a few key differences designed to make Base64URL safe for use in URLs and filenames. Here&amp;rsquo;s a comparison:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Character set:&lt;/p>
&lt;ul>
&lt;li>Base64: Uses A-Z, a-z, 0-9, &lt;strong>+, and /&lt;/strong>&lt;/li>
&lt;li>Base64URL: Uses A-Z, a-z, 0-9, &lt;strong>-, and _&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Padding:&lt;/p>
&lt;ul>
&lt;li>Base64: Uses = for padding&lt;/li>
&lt;li>Base64URL: Often omits padding, though some implementations may keep it&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Main differences:&lt;/p>
&lt;ul>
&lt;li>Base64URL replaces + with -&lt;/li>
&lt;li>Base64URL replaces / with _&lt;/li>
&lt;li>Base64URL often omits the = padding&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Purpose:&lt;/p>
&lt;ul>
&lt;li>Base64: General-purpose encoding for binary data&lt;/li>
&lt;li>Base64URL: Specifically designed for use in URLs and filenames&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>URL safety:&lt;/p>
&lt;ul>
&lt;li>Base64: Can cause issues in URLs due to +, /, and = characters&lt;/li>
&lt;li>Base64URL: Safe for use in URLs without escaping&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Example:
Original: Hello World!
Base64: SGVsbG8gV29ybGQh
Base64URL: SGVsbG8gV29ybGQh (in this case, they&amp;rsquo;re the same)&lt;/p>
&lt;p>Original: Subject?
Base64: U3ViamVjdD8=
Base64URL: U3ViamVjdD8 (note: padding removed)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Compatibility:&lt;/p>
&lt;ul>
&lt;li>Most Base64 decoders can handle Base64URL input&lt;/li>
&lt;li>The reverse is not always true&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Usage contexts:&lt;/p>
&lt;ul>
&lt;li>Base64: Email attachments, general data encoding&lt;/li>
&lt;li>Base64URL: URL parameters, JWT tokens, filenames&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Conversion:
To convert Base64 to Base64URL:&lt;/p>
&lt;ul>
&lt;li>Replace + with -&lt;/li>
&lt;li>Replace / with _&lt;/li>
&lt;li>Remove = padding (optional, depending on implementation)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>While the differences are small, they&amp;rsquo;re crucial for ensuring that encoded data can be safely used in URL contexts without requiring additional escaping or causing parsing issues. In most other respects, the two encodings function identically.&lt;/p>
&lt;h2 id="data-url">Data URL
&lt;/h2>&lt;p>Data URLs are a way to embed small files directly into web pages or CSS, and Base64 encoding plays a crucial role in this. Here&amp;rsquo;s an overview of Base64 usage in data URLs:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Purpose:&lt;/p>
&lt;ul>
&lt;li>Data URLs allow embedding file data directly in web pages or stylesheets.&lt;/li>
&lt;li>They eliminate the need for separate HTTP requests for small resources.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Structure:&lt;/p>
&lt;ul>
&lt;li>Format: &lt;code>data:[&amp;lt;media type&amp;gt;][;base64],&amp;lt;encoded data&amp;gt;&lt;/code>&lt;/li>
&lt;li>Example: &lt;code>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Base64 role:&lt;/p>
&lt;ul>
&lt;li>Binary data (like images) is encoded to Base64 to fit in the URL-safe text format.&lt;/li>
&lt;li>This allows binary content to be included directly in HTML or CSS.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Common uses:&lt;/p>
&lt;ul>
&lt;li>Small images (icons, logos)&lt;/li>
&lt;li>Custom fonts&lt;/li>
&lt;li>Small audio or video files&lt;/li>
&lt;li>Any small file where reducing HTTP requests is beneficial&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Advantages:&lt;/p>
&lt;ul>
&lt;li>Reduces HTTP requests, potentially improving load times&lt;/li>
&lt;li>Useful for resources that change frequently&lt;/li>
&lt;li>Simplifies deployment by bundling resources with code&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Disadvantages:&lt;/p>
&lt;ul>
&lt;li>Increases file size due to Base64 encoding overhead&lt;/li>
&lt;li>Not cached separately by the browser&lt;/li>
&lt;li>Can make HTML or CSS files larger and harder to read&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Best practices:&lt;/p>
&lt;ul>
&lt;li>Generally recommended for very small files (usually &amp;lt; 1-2 KB)&lt;/li>
&lt;li>For larger files, conventional URLs are usually more efficient&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Example usage in HTML:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==&amp;#34;&lt;/span> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Small dot&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Example usage in CSS:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">icon&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-image&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>Data URLs with Base64 encoding provide a way to embed resources directly in web documents, offering a trade-off between reducing HTTP requests and increasing document size. They&amp;rsquo;re particularly useful for small, frequently changing resources in web development.&lt;/p>
&lt;h3 id="why-not-base64url">Why not Base64URL
&lt;/h3>&lt;ul>
&lt;li>Data URLs are already part of a URL structure, so URL-safety is not a concern.&lt;/li>
&lt;li>The data portion is treated as an opaque blob, not as part of the URL syntax.&lt;/li>
&lt;/ul></description></item><item><title>【Node】.env</title><link>https://dyhes.github.io/p/node.env/</link><pubDate>Thu, 12 Sep 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/node.env/</guid><description>&lt;h2 id="basic">Basic
&lt;/h2>&lt;p>Using a &lt;code>.env&lt;/code> file is a great practice for managing environment variables in a Node.js project.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">dotenv&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;dotenv&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Load environment variables from .env file
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">dotenv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// usage
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">IMGBB_API_KEY&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="process">Process
&lt;/h2>&lt;p>Now, let&amp;rsquo;s go through the changes and additional steps to set up the &lt;code>.env&lt;/code> file:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>First, install the &lt;code>dotenv&lt;/code> package:&lt;/p>
&lt;pre tabindex="0">&lt;code>npm install dotenv @types/dotenv
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>
&lt;p>Create a &lt;code>.env&lt;/code> file in the root of your project with the following content:&lt;/p>
&lt;pre tabindex="0">&lt;code>IMGBB_API_KEY=your_actual_api_key_here
MARKDOWN_DIRECTORY=./path/to/your/markdown/files
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>
&lt;p>In the script, we&amp;rsquo;ve made the following changes:&lt;/p>
&lt;ul>
&lt;li>Imported the &lt;code>dotenv&lt;/code> package: &lt;code>import * as dotenv from 'dotenv';&lt;/code>&lt;/li>
&lt;li>Added &lt;code>dotenv.config();&lt;/code> to load the environment variables.&lt;/li>
&lt;li>Replaced the hardcoded API key with &lt;code>process.env.IMGBB_API_KEY&lt;/code>.&lt;/li>
&lt;li>Added error handling if the API key is not set.&lt;/li>
&lt;li>Used &lt;code>process.env.MARKDOWN_DIRECTORY&lt;/code> for the directory path, with a fallback.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Make sure to add &lt;code>.env&lt;/code> to your &lt;code>.gitignore&lt;/code> file to prevent committing sensitive information:&lt;/p>
&lt;pre tabindex="0">&lt;code>echo &amp;#34;.env&amp;#34; &amp;gt;&amp;gt; .gitignore
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ol></description></item><item><title>【Spring Data JPA】Recursive Model Query</title><link>https://dyhes.github.io/p/spring-data-jparecursive-model-query/</link><pubDate>Thu, 15 Aug 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-data-jparecursive-model-query/</guid><description>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// simplified&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Table&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;comments&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@EntityListeners&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AuditingEntityListener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Comment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToOne&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fetch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FetchType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LAZY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@JoinColumn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;parent_id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parent&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@OneToMany&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mappedBy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;parent&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">orphanRemoval&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">children&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="fetchtypeeager">FetchType.EAGER
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getCommentWithChildren&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commentId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commentRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">commentId&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">orElse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="derived-method">Derived Method
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findSubcomments&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commentId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rootComment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commentRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">commentId&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">orElse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rootComment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// or throw an exception if preferred&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">fetchChildren&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rootComment&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rootComment&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">fetchChildren&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parent&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">children&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commentRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findByParentId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">parent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getId&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">parent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setChildren&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">children&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">child&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">children&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">fetchChildren&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">child&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="common-table-expressions-ctes">Common Table Expressions (CTEs)
&lt;/h2>&lt;p>Spring Data JPA does not support recursive queries out-of-the-box, but you can use native queries to achieve this. Below is an example of how you can perform a recursive query using a native query in Spring Data JPA.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;WITH RECURSIVE Subcomments AS (&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; SELECT c.id, c.content, c.parent_id &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; FROM Comment c &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; WHERE c.id = :commentId &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; UNION ALL &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; SELECT c.id, c.content, c.parent_id &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; FROM Comment c &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; INNER JOIN Subcomments s ON c.parent_id = s.id&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;) &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;SELECT * FROM Subcomments&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nativeQuery&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Comment&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findSubcomments&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;commentId&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">commentId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The fetched result is a flatten list of Comment.&lt;/p>
&lt;h2 id="performance-considerations">Performance Considerations
&lt;/h2>&lt;h3 id="ctes">CTEs
&lt;/h3>&lt;h4 id="pros">Pros:
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Efficiency&lt;/strong>: Fetching the entire hierarchy in a single query is efficient and reduces the number of database round-trips.&lt;/li>
&lt;li>&lt;strong>Control&lt;/strong>: You have fine-grained control over how the data is processed and structured in the application layer.&lt;/li>
&lt;/ul>
&lt;h4 id="cons">Cons:
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Complexity&lt;/strong>: The reconstruction of the recursive structure in the application layer can be complex and error-prone.&lt;/li>
&lt;li>&lt;strong>Memory Usage&lt;/strong>: Depending on the size of the dataset, holding the entire hierarchy in memory for reconstruction can be memory-intensive.&lt;/li>
&lt;li>&lt;strong>Performance Overhead&lt;/strong>: The reconstruction process itself can introduce performance overhead, especially if the hierarchy is deep or has many nodes.&lt;/li>
&lt;/ul>
&lt;h3 id="performance-comparison">Performance Comparison
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>Native Query and CTEs with Reconstruction&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Pros&lt;/strong>:
&lt;ul>
&lt;li>Efficiently fetches the entire hierarchy in a single query.&lt;/li>
&lt;li>Minimizes the number of database round-trips.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Cons&lt;/strong>:
&lt;ul>
&lt;li>Complexity in reconstructing the hierarchy in the application layer.&lt;/li>
&lt;li>Potential memory usage concerns if the dataset is large.&lt;/li>
&lt;li>Additional performance overhead due to the reconstruction process.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>FetchType.EAGER&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Pros&lt;/strong>:
&lt;ul>
&lt;li>Simplifies data access by automatically fetching children.&lt;/li>
&lt;li>Avoids the need for manual reconstruction.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Cons&lt;/strong>:
&lt;ul>
&lt;li>Performance overhead due to eager fetching, especially with large datasets.&lt;/li>
&lt;li>Risk of the N+1 query problem.&lt;/li>
&lt;li>Increased memory usage due to loading entire collections.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Derived Methods and Manually Assembling&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Pros&lt;/strong>:
&lt;ul>
&lt;li>Flexibility and simplicity in using JPA abstractions.&lt;/li>
&lt;li>Allows for fine-grained control over data fetching and processing.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Cons&lt;/strong>:
&lt;ul>
&lt;li>Potential performance overhead due to multiple queries.&lt;/li>
&lt;li>Complexity in manually assembling the hierarchical structure.&lt;/li>
&lt;li>Risk of performance and consistency issues if not managed carefully.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="recommendations">Recommendations
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>For Large, Complex Hierarchies&lt;/strong>: Use native queries with CTEs for efficient data fetching. Be prepared to handle the complexity of reconstructing the hierarchy in the application layer. This approach provides the best performance but requires careful implementation.&lt;/li>
&lt;li>&lt;strong>For Small to Medium Hierarchies&lt;/strong>: Use &lt;code>FetchType.EAGER&lt;/code> for convenience and simplicity. Monitor performance and memory usage to ensure it remains within acceptable limits.&lt;/li>
&lt;li>&lt;strong>For Flexible, Maintainable Code&lt;/strong>: Use derived methods and manually assemble the hierarchical structure if the performance impact is manageable. This approach offers a good balance between flexibility and simplicity.&lt;/li>
&lt;/ul>
&lt;h3 id="conclusion">Conclusion
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Native Query and CTEs with Reconstruction&lt;/strong>: Best for performance but requires careful handling of the reconstruction phase.&lt;/li>
&lt;li>&lt;strong>FetchType.EAGER&lt;/strong>: Convenient but can lead to performance and memory overhead.&lt;/li>
&lt;li>&lt;strong>Derived Methods and Manual Assembly&lt;/strong>: Flexible and maintainable with acceptable performance for smaller datasets.&lt;/li>
&lt;/ul>
&lt;p>Ultimately, the choice depends on your specific use case, dataset size, and performance requirements. Always profile and benchmark your application to make an informed decision based on actual performance metrics.&lt;/p></description></item><item><title>【Antd】Button HtmlType</title><link>https://dyhes.github.io/p/antdbutton-htmltype/</link><pubDate>Fri, 09 Aug 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/antdbutton-htmltype/</guid><description>&lt;p>In Ant Design (AntD), a popular React UI library, the &lt;Button> component is often used to create buttons in user interfaces. The htmlType attribute of the &lt;Button> component is used to specify the native HTML type of the button element. This is analogous to the type attribute in a standard HTML &lt;button> element.&lt;/p>
&lt;p>When you set htmlType=&amp;ldquo;submit&amp;rdquo; in an AntD &lt;Button>, it means that the button will function as a submit button within a form. Here’s a breakdown of what this does:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Submit Button&lt;/strong>: When the button is clicked, it will trigger the form submission. This is the same behavior you would expect from a native HTML &lt;button type="submit">.&lt;/li>
&lt;/ul></description></item><item><title>【Antd】Form</title><link>https://dyhes.github.io/p/antdform/</link><pubDate>Fri, 09 Aug 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/antdform/</guid><description>&lt;h1 id="useform-and-antd-form">useForm and Antd Form
&lt;/h1>&lt;p>Both &lt;code>useForm&lt;/code> and the &lt;code>antd Form&lt;/code> component are popular tools for handling form state and validation in React applications, but they come from different libraries and have different approaches and features.&lt;/p>
&lt;h2 id="useform-from-react-hook-form">useForm (from &lt;code>react-hook-form&lt;/code>)
&lt;/h2>&lt;p>&lt;code>useForm&lt;/code> is a hook provided by the &lt;code>react-hook-form&lt;/code> library, which focuses on providing a highly performant and flexible way to handle form state and validation in React.&lt;/p>
&lt;h3 id="key-features">Key Features
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>Performance&lt;/strong>: &lt;code>useForm&lt;/code> minimizes re-renders, making it highly performant, especially for large forms.&lt;/li>
&lt;li>&lt;strong>Minimal Re-renders&lt;/strong>: By default, form state is managed in a way that prevents unnecessary re-renders of the entire form, updating only the specific fields that need to be updated.&lt;/li>
&lt;li>&lt;strong>Validation&lt;/strong>: Offers built-in validation and also supports schema validation using libraries like Yup.&lt;/li>
&lt;li>&lt;strong>Ease of Use&lt;/strong>: Simple API that makes it easy to integrate and manage form state.&lt;/li>
&lt;li>&lt;strong>Integration with UI Libraries&lt;/strong>: Can be easily integrated with various UI component libraries, although it doesn&amp;rsquo;t provide its own set of form components.&lt;/li>
&lt;/ol>
&lt;h3 id="example-usage">Example Usage
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useForm&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react-hook-form&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">MyForm&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">register&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleSubmit&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">formState&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">errors&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useForm&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">onSubmit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">onSubmit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleSubmit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">onSubmit&lt;/span>&lt;span class="p">)}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="na">...register&lt;/span>&lt;span class="err">(&amp;#39;&lt;/span>&lt;span class="na">firstName&lt;/span>&lt;span class="err">&amp;#39;,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="na">required&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="na">true&lt;/span> &lt;span class="p">}&lt;/span>&lt;span class="err">)&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">This&lt;/span> &lt;span class="nx">field&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">required&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="antd-form-component">antd Form Component
&lt;/h2>&lt;p>The &lt;code>antd Form&lt;/code> component is part of the Ant Design library, which is a popular UI framework for React. The &lt;code>Form&lt;/code> component provides a set of form management features that are tightly integrated with the Ant Design component library.&lt;/p>
&lt;h3 id="key-features-1">Key Features
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>Integrated with Ant Design&lt;/strong>: Comes with pre-styled form components that match the Ant Design aesthetic.&lt;/li>
&lt;li>&lt;strong>Declarative Syntax&lt;/strong>: Uses a declarative syntax to define form fields and validation rules.&lt;/li>
&lt;li>&lt;strong>Validation&lt;/strong>: Built-in support for validation rules and messages, including custom validation.&lt;/li>
&lt;li>&lt;strong>Data Binding&lt;/strong>: Provides mechanisms for data binding and state management.&lt;/li>
&lt;li>&lt;strong>Layout&lt;/strong>: Offers various layout options to organize form fields in a responsive manner.&lt;/li>
&lt;/ol>
&lt;h3 id="example-usage-1">Example Usage
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Form&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Button&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;antd&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="s1">&amp;#39;antd/dist/antd.css&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">MyForm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">onFinish&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Success:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">values&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">onFinishFailed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">errorInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Failed:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errorInfo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Form&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;basic&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">initialValues&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{{&lt;/span> &lt;span class="nx">remember&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onFinish&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">onFinish&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onFinishFailed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">onFinishFailed&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Form.Item&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Username&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">rules&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{[{&lt;/span> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Please input your username!&amp;#39;&lt;/span> &lt;span class="p">}]}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Input&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Form.Item&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Form.Item&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">rules&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{[{&lt;/span> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Please input your password!&amp;#39;&lt;/span> &lt;span class="p">}]}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Input.Password&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Form.Item&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Form.Item&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Button&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;primary&amp;#34;&lt;/span> &lt;span class="na">htmlType&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Submit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Form.Item&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">MyForm&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="summary">Summary
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>Performance&lt;/strong>: &lt;code>useForm&lt;/code> is generally more performant due to its minimal re-renders.&lt;/li>
&lt;li>&lt;strong>UI Integration&lt;/strong>: &lt;code>antd Form&lt;/code> is tightly integrated with the Ant Design component library, providing a consistent UI.&lt;/li>
&lt;li>&lt;strong>Flexibility&lt;/strong>: &lt;code>useForm&lt;/code> offers more flexibility for integrating with different UI libraries.&lt;/li>
&lt;li>&lt;strong>Declarative vs. Imperative&lt;/strong>: &lt;code>antd Form&lt;/code> uses a more declarative approach to define fields and validation, while &lt;code>useForm&lt;/code> relies on hooks and a more imperative approach.&lt;/li>
&lt;/ul>
&lt;p>Choosing between the two often depends on your specific needs, such as performance requirements, UI consistency, and the complexity of your form logic.&lt;/p></description></item><item><title>【Front】URL encoding</title><link>https://dyhes.github.io/p/fronturl-encoding/</link><pubDate>Wed, 07 Aug 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/fronturl-encoding/</guid><description>&lt;p>In URL encoding, &lt;strong>reserved characters&lt;/strong> that have special meanings and &lt;strong>unsafe characters&lt;/strong>
might be altered during transmission or have special meanings in certain contexts in URLs are typically encoded using a percent sign (&amp;rsquo;%&amp;rsquo;) followed by two hexadecimal digits representing the ASCII value of the character.
For example:&lt;/p>
&lt;ul>
&lt;li>The ASCII value of &amp;lsquo;/&amp;rsquo; is 47 in decimal.&lt;/li>
&lt;li>47 in hexadecimal is 2F.
⠀Thus, &amp;lsquo;/&amp;rsquo; becomes &amp;lsquo;%2F&amp;rsquo; when it is URL-encoded. This encoding is often necessary to ensure that URLs are transmitted correctly over the Internet, where certain characters might otherwise be misinterpreted.
Any characters outside the ASCII range (0-127) should also be encoded, as they might not be correctly interpreted by all systems. These are typically encoded using UTF-8 and then percent-encoded.
&lt;strong>Path&lt;/strong> and &lt;strong>Query Parameters&lt;/strong> usually need to be url-encoded.&lt;/li>
&lt;/ul></description></item><item><title>【Big Data】Hadoop</title><link>https://dyhes.github.io/p/big-datahadoop/</link><pubDate>Sun, 04 Aug 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/big-datahadoop/</guid><description>&lt;h2 id="hadoop">Hadoop
&lt;/h2>&lt;p>Hadoop is an open-source framework developed by the Apache Software Foundation used for &lt;strong>storing and processing&lt;/strong> large datasets in a &lt;strong>distributed&lt;/strong> computing environment. It is designed to scale up from a single server to thousands of machines, each offering local computation and storage. Hadoop is built to handle massive amounts of data in a fault-tolerant and efficient manner.&lt;/p>
&lt;h3 id="core-components">Core Components
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Hadoop Distributed File System (HDFS):&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Purpose:&lt;/strong> HDFS is designed to store large datasets reliably and to &lt;strong>stream&lt;/strong> those datasets to user applications at high bandwidth.&lt;/li>
&lt;li>&lt;strong>Architecture:&lt;/strong> It follows a &lt;strong>master-slave&lt;/strong> architecture. The HDFS cluster consists of a single &lt;strong>NameNode (master)&lt;/strong> that manages the file system namespace and regulates access to files by clients. There are multiple &lt;strong>DataNodes (slaves)&lt;/strong> that manage storage attached to the nodes they run on.&lt;/li>
&lt;li>&lt;strong>Features:&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Fault Tolerance:&lt;/strong> Data is &lt;strong>replicated&lt;/strong> across multiple nodes to ensure availability in case of hardware failure.&lt;/li>
&lt;li>&lt;strong>Scalability:&lt;/strong> Can scale up to thousands of nodes.&lt;/li>
&lt;li>&lt;strong>High Throughput:&lt;/strong> Optimized for high throughput of data access rather than low latency.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>MapReduce:&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Purpose:&lt;/strong> A &lt;strong>programming model&lt;/strong> and &lt;strong>execution engine&lt;/strong> that is used for processing and generating large datasets.&lt;/li>
&lt;li>&lt;strong>Components:&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>JobTracker:&lt;/strong> The &lt;strong>master&lt;/strong> node that manages the jobs and resources in the cluster.&lt;/li>
&lt;li>&lt;strong>TaskTracker:&lt;/strong> The &lt;strong>slave&lt;/strong> nodes that execute the tasks as directed by the JobTracker.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Phases:&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Map Phase:&lt;/strong> Processes input data and converts it into a set of key-value pairs.&lt;/li>
&lt;li>&lt;strong>Reduce Phase:&lt;/strong> Processes the intermediate key-value pairs to generate the final output.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>1&lt;/strong> &lt;strong>YARN (Yet Another Resource Negotiator):&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Purpose:&lt;/strong> Manages resources in the Hadoop cluster and schedules jobs.&lt;/li>
&lt;li>&lt;strong>Components:&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>ResourceManager:&lt;/strong> The master that controls and allocates resources.&lt;/li>
&lt;li>&lt;strong>NodeManager:&lt;/strong> Manages resources and monitoring on the individual nodes.&lt;/li>
&lt;li>&lt;strong>ApplicationMaster:&lt;/strong> Manages the lifecycle of applications running on YARN.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Hadoop Common:&lt;/strong>
&lt;ul>
&lt;li>&lt;strong>Purpose:&lt;/strong> Provides common utilities and libraries that support the other Hadoop components. It includes the necessary Java libraries and files needed to start Hadoop.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ecosystem-and-tools">Ecosystem and Tools
&lt;/h3>&lt;p>Hadoop has a rich ecosystem of tools and frameworks that enhance its functionality:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Hive:&lt;/strong> A data warehouse infrastructure that provides data summarization, query, and analysis. It uses a SQL-like language called HiveQL.&lt;/li>
&lt;li>&lt;strong>Pig:&lt;/strong> A high-level platform for creating MapReduce programs using a language called Pig Latin.&lt;/li>
&lt;li>&lt;strong>HBase:&lt;/strong> A distributed, scalable, big data store modeled after Google’s Bigtable and written in Java.&lt;/li>
&lt;li>&lt;strong>Sqoop:&lt;/strong> A tool designed for efficiently transferring bulk data between Hadoop and structured data stores such as relational databases.&lt;/li>
&lt;li>&lt;strong>Flume:&lt;/strong> A service for efficiently collecting, aggregating, and moving large amounts of log data.&lt;/li>
&lt;li>&lt;strong>Oozie:&lt;/strong> A workflow scheduling system to manage Hadoop jobs.&lt;/li>
&lt;li>&lt;strong>Zookeeper:&lt;/strong> A centralized service for maintaining configuration information, naming, providing distributed synchronization, and providing group services.&lt;/li>
&lt;li>&lt;strong>Spark:&lt;/strong> A fast and general engine for large-scale data processing that can run on Hadoop clusters.&lt;/li>
&lt;/ul>
&lt;h3 id="key-features">Key Features
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Scalability:&lt;/strong> Can scale horizontally to handle more data by adding more nodes to the cluster.&lt;/li>
&lt;li>&lt;strong>Cost-Effective:&lt;/strong> Uses commodity hardware, making it a cost-effective solution for big data processing.&lt;/li>
&lt;li>&lt;strong>Flexibility:&lt;/strong> Can process structured, semi-structured, and unstructured data.&lt;/li>
&lt;li>&lt;strong>Fault Tolerance:&lt;/strong> Automatically handles hardware failures by replicating data across multiple nodes.&lt;/li>
&lt;li>&lt;strong>Distributed Computing:&lt;/strong> Processes data in parallel across multiple nodes, increasing processing speed and efficiency.&lt;/li>
&lt;/ul>
&lt;h3 id="use-cases">⠀Use Cases
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Data Warehousing:&lt;/strong> Companies use Hadoop for storing vast amounts of structured and unstructured data.&lt;/li>
&lt;li>&lt;strong>Log Processing:&lt;/strong> Hadoop is used to analyze and process server logs for insights and troubleshooting.&lt;/li>
&lt;li>&lt;strong>Recommendation Systems:&lt;/strong> Used by companies like Netflix and Amazon for building recommendation engines.&lt;/li>
&lt;li>&lt;strong>Data Archival:&lt;/strong> Storing large volumes of historical data for compliance and analysis.&lt;/li>
&lt;/ul>
&lt;h2 id="spark">Spark
&lt;/h2>&lt;p>Apache Spark is an open-source, distributed computing system that provides an interface for programming entire clusters with implicit data parallelism and fault tolerance. Originally developed at UC Berkeley’s AMPLab, Spark offers a fast and general-purpose cluster-computing framework. It &lt;strong>extends the MapReduce model&lt;/strong> to support more types of computations and &lt;strong>optimizes performance&lt;/strong> by keeping data in memory whenever possible.&lt;/p>
&lt;h3 id="key-features-1">Key Features
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Speed:&lt;/strong>
&lt;ul>
&lt;li>Spark &lt;strong>processes data in memory&lt;/strong>, which significantly reduces the time to read and write to disk. This makes Spark up to 100 times faster than Hadoop MapReduce for certain applications.&lt;/li>
&lt;li>The DAG (Directed Acyclic Graph) execution engine optimizes task execution by breaking down jobs into stages and tasks, which can be executed in parallel.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Ease of Use:&lt;/strong>
&lt;ul>
&lt;li>Spark provides high-level APIs in Java, Scala, Python, and R. This versatility allows developers to use the language they are most comfortable with.&lt;/li>
&lt;li>The interactive shell provided by Spark allows for real-time data analysis and debugging.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Compatibility:&lt;/strong>
&lt;ul>
&lt;li>Spark is compatible with Hadoop’s HDFS and YARN, allowing it to be deployed on existing Hadoop clusters.&lt;/li>
&lt;li>It also supports a wide range of data sources, including HBase, Cassandra, Kafka, and more.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>【Umi】Tailwind</title><link>https://dyhes.github.io/p/umitailwind/</link><pubDate>Wed, 31 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/umitailwind/</guid><description>&lt;p>可以使用 umi 微生成器&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx umi g tailwindcss
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>快速下载tailwind&lt;/p></description></item><item><title>【CSS】Object-fit</title><link>https://dyhes.github.io/p/cssobject-fit/</link><pubDate>Thu, 25 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/cssobject-fit/</guid><description>&lt;p>The object-fit CSS property is used to specify how the content of a &lt;strong>replaced element&lt;/strong>, such as an &lt;img> or &lt;video>, should be resized to fit its container. Replaced elements are elements &lt;strong>whose content is not managed by the CSS box model,&lt;/strong> like images, videos, or iframes.
The object-fit property can take several values, which control how the replaced element’s content is resized:&lt;/p>
&lt;h2 id="fill">&lt;strong>fill&lt;/strong>
&lt;/h2>&lt;ul>
&lt;li>This is the &lt;strong>default&lt;/strong> value.&lt;/li>
&lt;li>The content is resized to fill the container, &lt;strong>ignoring its aspect ratio&lt;/strong>.&lt;/li>
&lt;li>The image or video may look distorted if the aspect ratio of the container &lt;strong>differs&lt;/strong> from that of the content.&lt;/li>
&lt;/ul>
&lt;h2 id="contain">&lt;strong>contain&lt;/strong>
&lt;/h2>&lt;ul>
&lt;li>The content is scaled to &lt;strong>maintain its aspect ratio&lt;/strong> while fitting within the container.&lt;/li>
&lt;li>The entire content will be visible, but there may be &lt;strong>empty space&lt;/strong> (letterboxing or pillarboxing) if the aspect ratios do not match.&lt;/li>
&lt;/ul>
&lt;h2 id="cover">&lt;strong>cover&lt;/strong>
&lt;/h2>&lt;ul>
&lt;li>The content is scaled to maintain its aspect ratio while covering the entire container.&lt;/li>
&lt;li>Parts of the content might be cropped if the aspect ratio of the container and content do not match.&lt;/li>
&lt;/ul>
&lt;h2 id="none">&lt;strong>none&lt;/strong>
&lt;/h2>&lt;ul>
&lt;li>The content is not resized.&lt;/li>
&lt;li>The content is displayed at its original size, and it may overflow the container if it is larger than the container.&lt;/li>
&lt;/ul>
&lt;h2 id="scale-down">&lt;strong>scale-down&lt;/strong>
&lt;/h2>&lt;ul>
&lt;li>The content is scaled down to fit within the container while maintaining its aspect ratio.&lt;/li>
&lt;li>This behaves like &lt;strong>contain&lt;/strong> if the content is larger than the container, or like &lt;strong>none&lt;/strong> if the content is smaller than the container.&lt;/li>
&lt;/ul></description></item><item><title>【React】ReactNode vs ReactElement</title><link>https://dyhes.github.io/p/reactreactnode-vs-reactelement/</link><pubDate>Thu, 25 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/reactreactnode-vs-reactelement/</guid><description>&lt;h2 id="reactelement">ReactElement
&lt;/h2>&lt;ul>
&lt;li>A ReactElement is a plain object describing a component instance or DOM node and its desired properties.&lt;/li>
&lt;li>It’s the &lt;strong>return type&lt;/strong> of React.createElement().&lt;/li>
&lt;li>It’s always an &lt;strong>object&lt;/strong> with a type and props.&lt;/li>
&lt;li>It’s more &lt;strong>specific&lt;/strong> and represents a single React element.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span>: &lt;span class="kt">React.ReactElement&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="reactnode">ReactNode
&lt;/h2>&lt;ul>
&lt;li>ReactNode is a &lt;strong>more general&lt;/strong> type that can represent a React element, a string, a number, a boolean, null, undefined, or &lt;strong>an array of ReactNodes&lt;/strong>.&lt;/li>
&lt;li>It’s a &lt;strong>union&lt;/strong> type that includes ReactElement.&lt;/li>
&lt;li>It’s more &lt;strong>flexible&lt;/strong> and can represent &lt;strong>any valid value&lt;/strong> that can be rendered in React.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">node1&lt;/span>: &lt;span class="kt">React.ReactNode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">node2&lt;/span>: &lt;span class="kt">React.ReactNode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">42&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">node3&lt;/span>: &lt;span class="kt">React.ReactNode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">World&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">node4&lt;/span>: &lt;span class="kt">React.ReactNode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">node1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">node2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">node3&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="key-differences">Key Differences
&lt;/h2>&lt;ul>
&lt;li>Specificity:
&lt;ul>
&lt;li>ReactElement is more specific and always represents a single React element.&lt;/li>
&lt;li>ReactNode is more general and can represent various types that React can render.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Usage:
&lt;ul>
&lt;li>ReactElement is typically used when you specifically need a React element.&lt;/li>
&lt;li>ReactNode is often used for &lt;strong>component children&lt;/strong> or when you want to accept any renderable content.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Type Hierarchy:
&lt;ul>
&lt;li>ReactNode &lt;strong>includes&lt;/strong> ReactElement, but not vice versa.&lt;/li>
&lt;li>All ReactElements are ReactNodes, but not all ReactNodes are ReactElements.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Common Use Cases:
&lt;ul>
&lt;li>ReactElement: When you’re working with specific React components or elements.&lt;/li>
&lt;li>ReactNode: When defining props that can accept various types of content, like children.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ReactElement&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ReactNode&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// This only accepts a single React element
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">ElementComponent&lt;/span>: &lt;span class="kt">React.FC&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="nx">content&lt;/span>: &lt;span class="kt">ReactElement&lt;/span> &lt;span class="p">}&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">({&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// This accepts any renderable content
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">NodeComponent&lt;/span>: &lt;span class="kt">React.FC&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="nx">content&lt;/span>: &lt;span class="kt">ReactNode&lt;/span> &lt;span class="p">}&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">({&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">App() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ElementComponent&lt;/span> &lt;span class="na">content&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="cm">/* Valid */&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="cm">/* &amp;lt;ElementComponent content=&amp;#34;Hello&amp;#34; /&amp;gt; */&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="cm">/* Invalid */&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NodeComponent&lt;/span> &lt;span class="na">content&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">World&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="cm">/* Valid */&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NodeComponent&lt;/span> &lt;span class="na">content&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="cm">/* Also Valid */&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【Spring Data JPA】Database Exception</title><link>https://dyhes.github.io/p/spring-data-jpadatabase-exception/</link><pubDate>Thu, 18 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-data-jpadatabase-exception/</guid><description>&lt;h2 id="emptyresultdataaccessexception">EmptyResultDataAccessException
&lt;/h2>&lt;h3 id="deletebyidid-id">deleteById(ID id)
&lt;/h3>&lt;ul>
&lt;li>Using deleteById(ID id) with @Transactional: If the method is annotated with @Transactional, it might throw an EmptyResultDataAccessException if the entity doesn’t exist.&lt;/li>
&lt;li>Using deleteById(ID id): This method doesn’t throw an exception if the entity doesn’t exist. It &lt;strong>silently does nothing&lt;/strong>.&lt;/li>
&lt;/ul></description></item><item><title>【Spring Data JPA】Reference Object</title><link>https://dyhes.github.io/p/spring-data-jpareference-object/</link><pubDate>Thu, 18 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-data-jpareference-object/</guid><description>&lt;p>benefits:&lt;/p>
&lt;ul>
&lt;li>It’s more &lt;strong>efficient&lt;/strong>, as it doesn’t require an additional database query to fetch the Space object.&lt;/li>
&lt;li>It’s particularly useful when you’re dealing with &lt;strong>large volumes of data&lt;/strong> or when the related entity (Space in this case) has &lt;strong>a lot of fields&lt;/strong> that you don’t need.&lt;/li>
&lt;/ul>
&lt;p>However, there are a few things to keep in mind:&lt;/p>
&lt;ul>
&lt;li>Make sure the Space with the given ID &lt;strong>actually exists&lt;/strong> in the database. If it doesn’t, you’ll get a EntityNotFoundException when the entity is first accessed.&lt;/li>
&lt;li>This approach only works for &lt;strong>setting the relationship&lt;/strong>. If you need to access properties of the Space object beyond its ID, you’ll need to fetch the full object from the database.&lt;/li>
&lt;li>Be aware of any &lt;strong>cascade operations&lt;/strong> or other JPA settings that might affect this behavior.&lt;/li>
&lt;/ul>
&lt;h2 id="entitymanagergetreference"> &lt;code>entityManager.getReference&lt;/code>
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">EntityManager&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">entityManager&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Post&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Post&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setTitle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;New Post Title&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setContent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Post content...&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">entityManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getReference&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">knownSpaceId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSpace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">postRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="pros">Pros
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Type-safe&lt;/strong>: It ensures the referenced entity type is correct.&lt;/li>
&lt;li>&lt;strong>JPA-compliant&lt;/strong>: It’s the standard JPA way of creating entity references.&lt;/li>
&lt;li>&lt;strong>Lazy-loading&lt;/strong>: The reference is a proxy that can lazy-load the full entity when needed.&lt;/li>
&lt;li>&lt;strong>Consistency&lt;/strong>: It maintains consistency with how JPA handles entity relationships.&lt;/li>
&lt;/ul>
&lt;h3 id="cons">Cons
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Dependency&lt;/strong>: It requires injecting EntityManager, which might not always be desirable or available.&lt;/li>
&lt;li>&lt;strong>Complexity&lt;/strong>: It adds a bit more complexity to your code.&lt;/li>
&lt;/ul>
&lt;h2 id="simple-reference-object">Simple Reference Object
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Post&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Post&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setTitle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;New Post Title&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setContent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Post content...&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">knownSpaceId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSpace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">postRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="pros-1">Pros
&lt;/h3>&lt;ul>
&lt;li>1 &lt;strong>Simplicity&lt;/strong>: It’s straightforward and easy to understand.&lt;/li>
&lt;li>2 &lt;strong>No additional dependencies&lt;/strong>: It doesn’t require EntityManager.&lt;/li>
&lt;li>3 &lt;strong>Lightweight&lt;/strong>: It’s a very lightweight operation.&lt;/li>
&lt;/ul>
&lt;h3 id="cons-1">Cons
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Not type-safe&lt;/strong>: You need to ensure you’re using the correct entity class and ID type.&lt;/li>
&lt;li>&lt;strong>Not a true JPA proxy&lt;/strong>: It won’t lazy-load additional entity details if accessed.&lt;/li>
&lt;li>&lt;strong>Potential for inconsistency&lt;/strong>: If not used carefully, it could lead to inconsistencies with how JPA manages entities.&lt;/li>
&lt;/ul>
&lt;h2 id="guidelines">Guidelines
&lt;/h2>&lt;ul>
&lt;li>If you’re working within a JPA/Hibernate context and have easy access to EntityManager, using EntityManager.getReference() is &lt;strong>generally the preferred&lt;/strong> method. It’s more aligned with JPA standards and provides better integration with JPA’s entity management.&lt;/li>
&lt;li>If you’re working in a simpler context, perhaps in a &lt;strong>service layer&lt;/strong> where you don’t want to introduce a dependency on EntityManager, using a simple reference object can be appropriate. This is especially true if you’re sure you won’t need to access any properties of the referenced entity beyond its ID.&lt;/li>
&lt;li>If you’re working on a large-scale application where &lt;strong>performance is critical&lt;/strong>, and you’re dealing with a high volume of entities, the simple reference object might be slightly more efficient as it doesn’t create a proxy object.&lt;/li>
&lt;li>If you’re using Spring Data JPA repositories, you can also use the &lt;strong>getOne() method (deprecated in newer versions) or getReferenceById() method&lt;/strong>, which internally use EntityManager.getReference().&lt;/li>
&lt;li>This approach combines the benefits of using EntityManager.getReference() with the convenience of working with repositories.
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Space&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getReferenceById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">knownSpaceId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">newPost&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSpace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>This approach combines the benefits of using EntityManager.getReference() with the convenience of working with repositories.&lt;/li>
&lt;li>In general, if you’re working within a JPA environment, using EntityManager.getReference() or the repository’s getReferenceById() method is often the most &lt;strong>robust and recommended&lt;/strong> approach. However, in simpler scenarios or where JPA is not heavily used, a simple reference object can be perfectly adequate.&lt;/li>
&lt;/ul>
&lt;h2 id="lazy-loaded-reference">Lazy-loaded Reference
&lt;/h2>&lt;p>When using a lazy-loaded reference (like those created by EntityManager.getReference() or JpaRepository.getReferenceById()), the full entity will be lazy-loaded in the following scenarios:&lt;/p>
&lt;h3 id="accessing-non-id-properties">Accessing Non-ID Properties
&lt;/h3>&lt;p>When you try to access any property of the entity other than its ID, the full entity will be loaded from the database.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Space&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">entityManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getReference&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// This will trigger lazy loading&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="invoking-methods">Invoking Methods
&lt;/h3>&lt;p>If you call any method on the proxy object that requires data from the entity, it will trigger lazy loading.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Space&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">entityManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getReference&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">someMethod&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// This will trigger lazy loading if the method uses any non-ID fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="relationship-navigation">Relationship Navigation
&lt;/h3>&lt;p>If you navigate from the proxy to related entities (that are not already loaded), it will trigger lazy loading.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Space&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">entityManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getReference&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Post&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">posts&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getPosts&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// This will trigger lazy loading&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="explicit-initialization">Explicit Initialization
&lt;/h3>&lt;p>If you explicitly initialize the proxy using Hibernate.initialize() or similar methods.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Space&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">entityManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getReference&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Hibernate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">initialize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// This will trigger lazy loading&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="tostring-equals-or-hashcode">toString(), equals(), or hashCode()
&lt;/h3>&lt;p>If these methods are overridden in your entity class to use non-ID fields, calling them will trigger lazy loading.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Space&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">entityManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getReference&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Space&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">spaceId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">spaceReference&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// This might trigger lazy loading if toString() is overridden&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="serialization">Serialization
&lt;/h3>&lt;p>If you try to serialize the proxy object, it will typically trigger lazy loading to ensure all data is available for serialization.&lt;/p>
&lt;h3 id="important-points">Important points
&lt;/h3>&lt;ul>
&lt;li>Lazy loading will only work within an &lt;strong>active persistence context&lt;/strong> (typically, within a transaction).&lt;/li>
&lt;li>If you try to access a lazy-loaded property outside of a persistence context, you might get a &lt;strong>LazyInitializationException&lt;/strong>.&lt;/li>
&lt;li>The ID of the entity is &lt;strong>always available&lt;/strong> without triggering a load, as it’s used to create the proxy.&lt;/li>
&lt;li>If the referenced entity doesn’t exist in the database, accessing it will throw an &lt;strong>EntityNotFoundException&lt;/strong> when lazy loading is triggered.&lt;/li>
&lt;/ul></description></item><item><title>【Java】Enum</title><link>https://dyhes.github.io/p/javaenum/</link><pubDate>Sun, 14 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/javaenum/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover19.png" alt="Featured image of post 【Java】Enum" />&lt;p>Java enums are a special type of class used to define collections of constants. They provide a way to represent a fixed set of values, which can be useful for categorizing data and ensuring type safety.&lt;/p>
&lt;h2 id="key-points">Key Points
&lt;/h2>&lt;ul>
&lt;li>Implicitly final and static: Enum constants are implicitly public, static, and final.&lt;/li>
&lt;li>values() method: Every enum has a static values() method that returns an array of all enum constants.&lt;/li>
&lt;li>valueOf(String) method: This static method returns the &lt;strong>enum constant&lt;/strong> with the specified name.&lt;/li>
&lt;li>The name() method returns the name of the enum constant as declared in its enum declaration. It&amp;rsquo;s an instance method available on all enum constants.&lt;/li>
&lt;li>valueOf(String) and name() provide a way to convert between the Enum and String.&lt;/li>
&lt;li>ordinal() method: Returns the &lt;strong>position&lt;/strong> of the enum constant (zero-based).&lt;/li>
&lt;li>Constructors, Fields, and Methods: Enums can have constructors, fields, and methods, allowing you to associate data and behavior with each constant.&lt;/li>
&lt;li>Implementing Interfaces: Enums can implement interfaces, providing a way to define behavior for each constant.&lt;/li>
&lt;li>EnumSet and EnumMap: These are specialized Set and Map implementations for use with enum types, offering &lt;strong>better performance&lt;/strong> than their general-purpose counterparts.&lt;/li>
&lt;li>Constant-specific method implementation: You can &lt;strong>override methods for specific enum&lt;/strong> constants, allowing for different behavior per constant.&lt;/li>
&lt;li>Abstract methods in enums: You can define abstract methods in an enum, forcing each constant to provide its own implementation.&lt;/li>
&lt;/ul>
&lt;h2 id="example">example
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Basic enum definition&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">enum&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Day&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">MONDAY&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TUESDAY&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">WEDNESDAY&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">THURSDAY&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FRIDAY&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SATURDAY&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SUNDAY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// Enum with constructor, fields, and methods&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">enum&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Planet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">MERCURY&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">303e&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">23&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">4397e6&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">VENUS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">4&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">869e&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">24&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">6&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">0518e6&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">EARTH&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">976e&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">24&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">6&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">37814e6&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mass&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// in kilograms&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// in meters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Planet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mass&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">mass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mass&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">radius&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getMass&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mass&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getRadius&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Enum constant-specific method implementation&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">surfaceGravity&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">6&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">67300E&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">11&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// Usage examples&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">EnumExample&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Basic usage&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Day&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">today&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Day&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">MONDAY&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Today is &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">today&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Switch statement with enum&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">switch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">today&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">case&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MONDAY&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Start of the work week&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">case&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FRIDAY&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;TGIF!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Midweek&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Using enum methods&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Planet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">earth&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Planet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">EARTH&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Earth&amp;#39;s mass: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">earth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getMass&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Earth&amp;#39;s surface gravity: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">earth&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">surfaceGravity&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Iterating over enum values&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Planet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">planet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Planet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">values&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">planet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">planet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">surfaceGravity&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="usage-with-pageable">Usage with Pageable
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">enum&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserSortField&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ID&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">FIRST_NAME&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;firstName&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">LAST_NAME&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;lastName&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">EMAIL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">CREATED_DATE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;createdDate&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fieldName&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">UserSortField&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fiel&lt;/span>&lt;span class="err">&lt;/span>&lt;span class="n">dName&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">fieldName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fieldName&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getFieldName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fieldName&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RestController&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/api/users&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userService&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ResponseEntity&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getAllUsers&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">defaultValue&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">defaultValue&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;10&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">defaultValue&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;ID&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserSortField&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sortBy&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Page&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userPage&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAllUsers&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sortBy&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// ... rest of the method remains the same&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserService&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Autowired&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userRepository&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Page&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getAllUsers&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserSortField&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sortBy&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Pageable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pageable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PageRequest&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sortBy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getFieldName&lt;/span>&lt;span class="p">()));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pageable&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="usage-with-spring-data-jpa">Usage with Spring Data JPA
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">enum&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Status&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ACTIVE&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">INACTIVE&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PENDING&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">javax.persistence.*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Enumerated&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">EnumType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">STRING&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Status&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The @Enumerated annotation is used to specify how the Enum should be persisted in the database. There are two options:&lt;/p>
&lt;p>EnumType.ORDINAL: Stores the Enum as an integer (the ordinal value of the Enum constant).
EnumType.STRING: Stores the Enum as a string (the name of the Enum constant).&lt;/p>
&lt;h3 id="enumtypeordinal">EnumType.ORDINAL
&lt;/h3>&lt;h4 id="pros">Pros
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Database efficiency&lt;/strong>: Stores enums as integers, which typically use less storage space than strings.&lt;/li>
&lt;li>&lt;strong>Potentially faster queries&lt;/strong>: Integer comparisons are generally faster than string comparisons.&lt;/li>
&lt;li>&lt;strong>Simpler database representation&lt;/strong>: The database column is a simple integer type.&lt;/li>
&lt;/ul>
&lt;h4 id="cons">Cons
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Fragility to enum order changes&lt;/strong>: If you add, remove, or reorder enum constants, the ordinal values change, which can corrupt existing data.&lt;/li>
&lt;li>&lt;strong>Less readable in raw database queries&lt;/strong>: You see numbers instead of meaningful names.&lt;/li>
&lt;li>&lt;strong>Potential for invalid states&lt;/strong>: If the database contains an integer that doesn’t correspond to any enum constant, it can lead to runtime errors.&lt;/li>
&lt;/ul>
&lt;h3 id="enumtypestring">EnumType.STRING
&lt;/h3>&lt;h4 id="pros-1">Pros
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Readability&lt;/strong>: The database stores the actual names of the enum constants, making raw database queries more understandable.&lt;/li>
&lt;li>&lt;strong>Resilience to enum order changes&lt;/strong>: Adding or reordering enum constants doesn’t affect existing data.&lt;/li>
&lt;li>&lt;strong>Self-documenting&lt;/strong>: The database schema itself documents the possible enum values.&lt;/li>
&lt;li>&lt;strong>Safety&lt;/strong>: It’s harder to accidentally introduce invalid states, as any string not matching an enum constant will be rejected.&lt;/li>
&lt;/ul>
&lt;h4 id="cons-1">Cons
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Less efficient storage&lt;/strong>: Strings typically use more storage space than integers.&lt;/li>
&lt;li>&lt;strong>Potentially slower queries&lt;/strong>: String comparisons can be slower than integer comparisons, especially for large datasets.&lt;/li>
&lt;li>&lt;strong>Case sensitivity&lt;/strong>: By default, the comparison is case-sensitive, which might lead to issues if not handled carefully.&lt;/li>
&lt;/ul>
&lt;h3 id="recommendation">Recommendation
&lt;/h3>&lt;p>In most cases, EnumType.STRING is the safer and more maintainable choice, despite the slight performance trade-off. The benefits of readability, safety, and resilience to changes &lt;strong>usually outweigh&lt;/strong> the minor efficiency gains of EnumType.ORDINAL.&lt;/p>
&lt;p>However, if you’re dealing with a very large dataset where performance and storage efficiency are critical, and you can guarantee that the enum order will never change, EnumType.ORDINAL might be considered.&lt;/p>
&lt;h3 id="best-practices">Best Practices
&lt;/h3>&lt;p>&lt;strong>Default&lt;/strong> to EnumType.STRING unless you have a compelling reason not to.
If using EnumType.ORDINAL, document it clearly and warn about the dangers of changing the enum order.
Consider using a &lt;strong>custom UserType&lt;/strong> for more complex enum persistence scenarios.
If using EnumType.STRING, be aware of &lt;strong>case sensitivity&lt;/strong> in your database queries.&lt;/p></description></item><item><title>【Spring Data JPA】@Query and JPQL</title><link>https://dyhes.github.io/p/spring-data-jpa@query-and-jpql/</link><pubDate>Sun, 14 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-data-jpa@query-and-jpql/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover19.png" alt="Featured image of post 【Spring Data JPA】@Query and JPQL" />&lt;h2 id="query">@Query
&lt;/h2>&lt;p>@Query is an annotation provided by Spring Data JPA. It allows you to define custom queries using either JPQL (Java Persistence Query Language) or native SQL. This annotation is typically used on repository method declarations to specify the query that should be executed when the method is called.&lt;/p>
&lt;h3 id="native-query">Native Query
&lt;/h3>&lt;p>While @Query typically uses JPQL, you can also use native SQL by setting the nativeQuery attribute to true.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;SELECT * FROM users WHERE status = ?1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nativeQuery&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findUsersByStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="positional-parameters">Positional Parameters
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JpaRepository&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT u FROM User u WHERE u.email = ?1&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findByEmail&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">email&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="named-parameters">Named Parameters
&lt;/h3>&lt;p>Instead of positional parameters (?1, ?2), you can use named parameters:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT u FROM User u WHERE u.status = :status AND u.name LIKE :nameLike&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findUsersByStatusAndNameLike&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;status&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;nameLike&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nameLike&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="modifying-queries">Modifying Queries
&lt;/h3>&lt;p>For update or delete operations, use the @Modifying annotation along with @Query (mandatory)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Modifying&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;UPDATE User u SET u.status = :status WHERE u.lastLoginDate &amp;lt; :date&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">updateUserStatusByLastLoginDate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;status&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;date&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LocalDate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">date&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="jpql-java-persistence-query-language">JPQL (Java Persistence Query Language)
&lt;/h2>&lt;p>JPQL is a query language similar to SQL, but it operates &lt;strong>on JPA entity objects&lt;/strong> rather than database tables. It&amp;rsquo;s used to define queries against entities to search for and retrieve entity objects. JPQL is &lt;strong>database-independent&lt;/strong>, which means you can write queries that work across different database systems.&lt;/p>
&lt;h2 id="join">JOIN
&lt;/h2>&lt;p>In database terms, a JOIN is an operation that &lt;strong>combines rows from two or more tables based on a related column between them&lt;/strong>. In the context of JPQL, a JOIN allows you to fetch associated entities based on their relationships.&lt;/p>
&lt;h3 id="type">Type
&lt;/h3>&lt;h4 id="entity-definition">Entity Definition
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">email&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@OneToMany&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mappedBy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Order&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">orders&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Order&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">product&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">quantity&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToOne&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@JoinColumn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="inner-join">Inner Join
&lt;/h4>&lt;p>Retrieves records that have matching values in both entities.&lt;/p>
&lt;p>In JPQL (Java Persistence Query Language), the keyword JOIN by itself &lt;strong>defaults to an INNER JOIN&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JpaRepository&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT u FROM User u INNER JOIN u.orders o WHERE o.product = :product&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// equals&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT u FROM User u JOIN u.orders o WHERE o.product = :product&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findUsersByProduct&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;product&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">product&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="left-outer-join">Left (Outer) Join
&lt;/h4>&lt;p>Retrieves &lt;strong>all records from the left&lt;/strong> entity and &lt;strong>the matched records from the right&lt;/strong> entity. If no match is found, NULL values are returned for columns from the right entity.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JpaRepository&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT u FROM User u LEFT JOIN u.orders o WHERE u.name = :name&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findUsersWithOrders&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="fetch-join">Fetch Join
&lt;/h4>&lt;p>An &lt;strong>optimization technique&lt;/strong> to eagerly fetch associated entities in a single query.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">UserRepository&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JpaRepository&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT u FROM User u LEFT JOIN FETCH u.orders WHERE u.name = :name&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findUsersWithOrdersFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="right-outer-join">Right (Outer) Join
&lt;/h4>&lt;p>Retrieves &lt;strong>all records from the right&lt;/strong> entity and &lt;strong>the matched records from the left&lt;/strong> entity. If no match is found, NULL values are returned for columns from the left entity. (&lt;strong>Less commonly used&lt;/strong> in JPQL)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT o FROM Order o RIGHT JOIN o.user u&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Order&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findAllOrdersWithUsers&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="full-outer-join">Full (Outer) Join
&lt;/h4>&lt;p>Retrieves records when there is a match in one of the entities. (&lt;strong>Not supported in JPQL&lt;/strong>; you would typically use a combination of left and right joins to achieve this effect)&lt;/p>
&lt;h3 id="implicit-join">Implicit Join
&lt;/h3>&lt;p>In JPQL, you can use implicit joins by simply referencing related entities in the WHERE clause.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT u FROM User u WHERE u.address.city = :city&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findUsersByCity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;city&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">city&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SELECT u FROM User u JOIN u.address a WHERE a.city = :city&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findUsersByCity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;city&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">city&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="differences">Differences
&lt;/h4>&lt;p>In general, implicit joins do not inherently have performance issues compared to explicit joins. The database optimizer &lt;strong>typically treats them the same way&lt;/strong>. However, there are some important considerations:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Query Optimization:&lt;/strong> Modern database management systems (DBMS) are quite sophisticated in their query optimization. They often &lt;strong>transform implicit joins into explicit joins&lt;/strong> during the query execution plan generation. This means that in many cases, there&amp;rsquo;s no performance difference between implicit and explicit joins.&lt;/li>
&lt;li>&lt;strong>Readability and Maintainability&lt;/strong>: While not strictly a performance issue, explicit joins are often considered more readable and maintainable. This can indirectly affect performance if &lt;strong>unclear&lt;/strong> queries lead to misunderstandings and suboptimal database usage.&lt;/li>
&lt;li>&lt;strong>Complex Queries&lt;/strong>: In more complex scenarios, especially involving multiple joins or outer joins, explicit joins can &lt;strong>be clearer&lt;/strong> and might help the optimizer make better decisions. This is more about query complexity than implicit vs. explicit syntax.&lt;/li>
&lt;li>&lt;strong>Potential Pitfalls of implicit join&lt;/strong>:
&lt;ul>
&lt;li>&lt;strong>N+1 Query Problem&lt;/strong>: This can occur with lazy loading and implicit joins, but it&amp;rsquo;s not due to the implicit join itself. It&amp;rsquo;s more about how the ORM (Object-Relational Mapping) handles lazy loading.&lt;/li>
&lt;li>&lt;strong>Cartesian Products&lt;/strong>: In rare cases, implicit joins might lead to unintended cartesian products, especially in complex queries. Explicit joins make the intentions clearer.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="performance-considerations">Performance Considerations
&lt;/h3>&lt;ul>
&lt;li>JOINs can be &lt;strong>expensive&lt;/strong> operations, especially on large tables.&lt;/li>
&lt;li>&lt;strong>Proper indexing&lt;/strong> on join columns is crucial for performance.&lt;/li>
&lt;li>Be cautious with &lt;strong>JOIN FETCHes on collections&lt;/strong>, as they can lead to cartesian products and duplicate results. Use DISTINCT when necessary.&lt;/li>
&lt;/ul></description></item><item><title>【Spring Data JPA】Pageable and Sort</title><link>https://dyhes.github.io/p/spring-data-jpapageable-and-sort/</link><pubDate>Sun, 14 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-data-jpapageable-and-sort/</guid><description>&lt;h2 id="pageable">Pageable
&lt;/h2>&lt;p>Pageable is an interface in Spring Data JPA that&amp;rsquo;s used for &lt;strong>pagination and sorting&lt;/strong> when working with the PagingAndSortingRepository. It allows you to retrieve data from a database in smaller chunks (pages) and specify sorting criteria.&lt;/p>
&lt;h3 id="creation">Creation
&lt;/h3>&lt;p>Creating Pageable objects:&lt;/p>
&lt;ul>
&lt;li>Use &lt;strong>PageRequest.of()&lt;/strong> static factory methods&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Page&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUsersPage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Pageable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pageable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PageRequest&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;lastName&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">ascending&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">findAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pageable&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="performance-considerations">Performance Considerations
&lt;/h3>&lt;ul>
&lt;li>Pagination can significantly &lt;strong>improve performance&lt;/strong> for large datasets.&lt;/li>
&lt;li>Be cautious with &lt;strong>offset-based pagination&lt;/strong> (which Pageable uses) for very large datasets, as it can become inefficient.&lt;/li>
&lt;li>For large datasets, consider using indexed columns for sorting and filtering.&lt;/li>
&lt;li>Be cautious with &lt;strong>complex joins&lt;/strong> in paginated queries, as they can impact performance.&lt;/li>
&lt;/ul>
&lt;h3 id="method-signature">Method Signature
&lt;/h3>&lt;ul>
&lt;li>The method should return a &lt;strong>Page&lt;T>&lt;/strong> object.&lt;/li>
&lt;li>Include a &lt;strong>Pageable parameter&lt;/strong> in the method signature.&lt;/li>
&lt;/ul>
&lt;h3 id="sorting">Sorting
&lt;/h3>&lt;ul>
&lt;li>The Pageable object includes sorting information.&lt;/li>
&lt;li>Spring Data &lt;strong>adds ORDER BY&lt;/strong> clauses based on the Sort specification in the Pageable object.&lt;/li>
&lt;li>The sorting specified in the Pageable object &lt;strong>overrides&lt;/strong> any ORDER BY clause in your query.&lt;/li>
&lt;/ul>
&lt;h3 id="native-queries">Native Queries
&lt;/h3>&lt;ul>
&lt;li>The query can be in JPQL (Java Persistence Query Language) or native SQL.&lt;/li>
&lt;li>When using native SQL queries, you need to provide &lt;strong>a separate count query&lt;/strong> for pagination.&lt;/li>
&lt;li>Use the countQuery attribute of the @Query annotation for this.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;SELECT * FROM users u WHERE u.created_date &amp;gt; :date&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">countQuery&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;SELECT count(*) FROM users u WHERE u.created_date &amp;gt; :date&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">nativeQuery&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Page&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">findUsersCreatedAfter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@Param&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;date&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">date&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Pageable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pageable&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="sort">Sort
&lt;/h2>&lt;p>Sort is a class in Spring Data that represents sorting parameters. It&amp;rsquo;s used to specify the order in which data should be returned from a query.&lt;/p>
&lt;h3 id="creation-1">Creation
&lt;/h3>&lt;p>Use static factory methods like Sort.by() to create Sort instances.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Sort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sortByName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="direction">Direction
&lt;/h3>&lt;ul>
&lt;li>Default direction is &lt;strong>ascending&lt;/strong>.&lt;/li>
&lt;li>Use Direction.ASC or Direction.DESC to specify direction.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Sort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sortByAgeDesc&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Direction&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DESC&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;age&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="order">Order
&lt;/h3>&lt;ul>
&lt;li>The Order class represents a single sort criterion (property + direction).&lt;/li>
&lt;li>Multiple Order objects can be combined in a Sort.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">complexSort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Order&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">asc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;department&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Order&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">desc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;salary&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="method-chaining">Method Chaining
&lt;/h3>&lt;ul>
&lt;li>Sort provides a fluent API for method chaining.&lt;/li>
&lt;li>Use and() to combine multiple sort criteria.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">chainedSort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;department&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">ascending&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">and&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;salary&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">descending&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="null-handling">Null Handling
&lt;/h3>&lt;p>Null handling:&lt;/p>
&lt;ul>
&lt;li>You can specify null handling with nullsFirst() or nullsLast().&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Sort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Order&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">asc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;department&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">nullsLast&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Order&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">desc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;salary&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">nullsFirst&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ignoring-case">Ignoring case
&lt;/h3>&lt;ul>
&lt;li>Use ignoreCase() for case-insensitive sorting.&lt;/li>
&lt;/ul>
&lt;h3 id="typed-sort">⠀Typed Sort
&lt;/h3>&lt;ul>
&lt;li>For type-safe sorting, use Sort.sort(Class).&lt;/li>
&lt;/ul>
&lt;h3 id="example">Example
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.data.domain.Sort&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.data.domain.Sort.Direction&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.data.domain.Sort.Order&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">SortExample&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">demonstrateSort&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Sorting by multiple properties&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sortByLastNameThenFirstName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;lastName&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">and&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">by&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;firstName&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Combining sorts&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Sort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">combinedSort&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sortByName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">and&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sortByAgeDesc&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【Git】Update Author Information</title><link>https://dyhes.github.io/p/gitupdate-author-information/</link><pubDate>Sat, 13 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/gitupdate-author-information/</guid><description>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git filter-branch --env-filter &lt;span class="s1">&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">CORRECT_NAME=&amp;#34;dyes&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">CORRECT_EMAIL=&amp;#34;1325574784@qq.com&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">if [ &amp;#34;$GIT_COMMITTER_EMAIL&amp;#34; != &amp;#34;$CORRECT_EMAIL&amp;#34; ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">then
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> export GIT_COMMITTER_NAME=&amp;#34;$CORRECT_NAME&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> export GIT_COMMITTER_EMAIL=&amp;#34;$CORRECT_EMAIL&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">fi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">if [ &amp;#34;$GIT_AUTHOR_EMAIL&amp;#34; != &amp;#34;$CORRECT_EMAIL&amp;#34; ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">then
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> export GIT_AUTHOR_NAME=&amp;#34;$CORRECT_NAME&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> export GIT_AUTHOR_EMAIL=&amp;#34;$CORRECT_EMAIL&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">fi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">&amp;#39;&lt;/span> --tag-name-filter cat -- --branches --tags
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后执行&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git push --force --tags origin &lt;span class="s1">&amp;#39;refs/heads/*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【Spring Boot】Uploaded Image Processing</title><link>https://dyhes.github.io/p/spring-bootuploaded-image-processing/</link><pubDate>Sat, 13 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-bootuploaded-image-processing/</guid><description>&lt;h2 id="example">example
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.http.ResponseEntity&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.web.bind.annotation.*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.web.multipart.MultipartFile&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.io.IOException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.nio.file.Files&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.nio.file.Path&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.nio.file.Paths&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.UUID&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RestController&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/api/users&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AVATAR_UPLOAD_DIR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;uploads/avatars/&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@PostMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/register&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ResponseEntity&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">registerUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestPart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;userInfo&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserRegistrationDto&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userInfo&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;avatar&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">required&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MultipartFile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">avatarFile&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Generate a unique user ID&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UUID&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">randomUUID&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Process user information&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Registering user: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUsername&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Email: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getEmail&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Here you would typically save the user information to a database&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Process avatar if provided&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">avatarUrl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">avatarFile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">avatarFile&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isEmpty&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">avatarUrl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">saveAvatar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">avatarFile&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Construct response&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;User registered successfully. &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Username: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUsername&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;, Email: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getEmail&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">avatarUrl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;, Avatar URL: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">avatarUrl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ResponseEntity&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">ok&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">saveAvatar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MultipartFile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fileName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userId&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;_&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getOriginalFilename&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Paths&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AVATAR_UPLOAD_DIR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fileName&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Files&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getBytes&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;/avatars/&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fileName&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Return the relative URL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserRegistrationDto&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">email&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">password&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Note: In a real application, never store passwords in plain text&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>We use &lt;code>@RequestPart&lt;/code> for userInfo because it&amp;rsquo;s a complex object (JSON data) that needs to be deserialized into a &lt;code>UserRegistrationDto&lt;/code> object.
We use &lt;code>@RequestParam&lt;/code> for avatarFile because it&amp;rsquo;s a simple file upload. While we could use &lt;code>@RequestPart&lt;/code> here &lt;strong>as well&lt;/strong>, &lt;code>@RequestParam&lt;/code> is sufficient and clearly indicates that it&amp;rsquo;s an optional parameter.&lt;/p>
&lt;h2 id="requestpart">@RequestPart
&lt;/h2>&lt;h2 id="requestparam">@RequestParam
&lt;/h2>&lt;p>Typically used for simple values like strings, numbers, or booleans.
By default, parameters are required. You can make them optional by setting &lt;strong>required = false&lt;/strong>.&lt;/p>
&lt;ul>
&lt;li>For GET requests, it looks at &lt;strong>query parameters&lt;/strong>.&lt;/li>
&lt;li>For requests with application/x-www-form-urlencoded, it looks at the &lt;strong>form data&lt;/strong> in the request body.&lt;/li>
&lt;li>For requests with multipart/form-data, it can look at &lt;strong>both&lt;/strong> the URL and the parts of the multipart request.&lt;/li>
&lt;li>It can even extract data from the &lt;strong>query string for POST requests&lt;/strong>, which is occasionally useful.&lt;/li>
&lt;/ul>
&lt;h3 id="compare-with-pathvariable">compare with @PathVariable
&lt;/h3>&lt;h4 id="pathvariable">@PathVariable
&lt;/h4>&lt;ul>
&lt;li>Used to handle &lt;strong>template variables&lt;/strong> in the request URI.&lt;/li>
&lt;li>&lt;strong>Part of the path&lt;/strong> itself, not a query string.&lt;/li>
&lt;li>Typically used for &lt;strong>mandatory&lt;/strong> parameters that identify a resource.&lt;/li>
&lt;li>Cannot have default values (if the value is not in the URL, the route won&amp;rsquo;t match).&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/users/{id}&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@PathVariable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Implementation&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="request-body">@Request Body
&lt;/h2>&lt;p>For application/json or application/xml&lt;/p>
&lt;h2 id="applicationx-www-form-urlencoded-and-multipartform-data">&lt;code>application/x-www-form-urlencoded&lt;/code> and &lt;code>multipart/form-data&lt;/code>
&lt;/h2>&lt;h3 id="applicationx-www-form-urlencoded">&lt;code>application/x-www-form-urlencoded&lt;/code>
&lt;/h3>&lt;p>This is the default content type for HTML form submissions and is widely used for sending simple data.&lt;/p>
&lt;h4 id="key-characteristics">Key characteristics
&lt;/h4>&lt;ul>
&lt;li>Data is encoded in &lt;strong>key-value&lt;/strong> pairs&lt;/li>
&lt;li>Keys and values are &lt;strong>URL-encoded&lt;/strong> (spaces become &amp;lsquo;+&amp;rsquo; or &amp;lsquo;%20&amp;rsquo;, special characters are percent-encoded)&lt;/li>
&lt;li>Pairs are separated by &amp;lsquo;&lt;strong>&amp;amp;&lt;/strong>&amp;rsquo;&lt;/li>
&lt;/ul>
&lt;h4 id="pros">Pros
&lt;/h4>&lt;ul>
&lt;li>Simple and widely supported&lt;/li>
&lt;li>Efficient for small amounts of text data&lt;/li>
&lt;li>Easy to generate and parse&lt;/li>
&lt;/ul>
&lt;h4 id="cons">⠀Cons
&lt;/h4>&lt;ul>
&lt;li>Not suitable for sending large amounts of data&lt;/li>
&lt;li>Not efficient for sending binary data (like files)&lt;/li>
&lt;li>Can become unwieldy with complex data structures&lt;/li>
&lt;/ul>
&lt;h3 id="multipartform-data">&lt;code>multipart/form-data&lt;/code>
&lt;/h3>&lt;p>This content type is used when the form includes &lt;strong>files, non-ASCII data&lt;/strong>, or when you need to send &lt;strong>binary data&lt;/strong>.&lt;/p>
&lt;h4 id="key-characteristics-1">Key characteristics
&lt;/h4>&lt;ul>
&lt;li>The body is divided into &lt;strong>separate parts&lt;/strong>, each representing a form field or file&lt;/li>
&lt;li>Each part can have &lt;strong>its own content type&lt;/strong>&lt;/li>
&lt;li>Parts are separated &lt;strong>by a boundary delimiter&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h4 id="example-1">example
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="err">--boundary
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Disposition: form-data; name=&amp;#34;name&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">John Doe
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">--boundary
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Disposition: form-data; name=&amp;#34;file&amp;#34;; filename=&amp;#34;example.txt&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Type: text/plain
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">[File content goes here]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">--boundary--
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="pros-1">Pros
&lt;/h4>&lt;ul>
&lt;li>Can handle file uploads &lt;strong>efficiently&lt;/strong>&lt;/li>
&lt;li>Supports &lt;strong>mixed data types&lt;/strong> (text fields and files) in a single request&lt;/li>
&lt;li>Better for sending large amounts of data or binary data&lt;/li>
&lt;li>Each part can have its own content type&lt;/li>
&lt;/ul>
&lt;h4 id="cons-1">⠀Cons
&lt;/h4>&lt;ul>
&lt;li>More complex to parse and generate&lt;/li>
&lt;li>Slightly larger overhead due to boundaries and headers&lt;/li>
&lt;/ul>
&lt;h2 id="get-method">Get Method
&lt;/h2>&lt;h3 id="http-specification">HTTP Specification
&lt;/h3>&lt;p>According to the HTTP/1.1 specification (RFC 7231), a GET request &lt;strong>can have a body&lt;/strong>. However, the specification also states that a GET request with a body &lt;strong>has no defined semantics, meaning servers are not required to process or even acknowledge the body&lt;/strong>.&lt;/p>
&lt;h3 id="real-world-practice">Real-world Practice
&lt;/h3>&lt;p>In practice, while it&amp;rsquo;s &lt;strong>technically possible&lt;/strong> to send a body with a GET request, it&amp;rsquo;s generally &lt;strong>discouraged&lt;/strong> and often not supported for several reasons:&lt;/p>
&lt;ul>
&lt;li>Many servers, clients, and proxies &lt;strong>ignore&lt;/strong> the body of a GET request.&lt;/li>
&lt;li>Some implementations might &lt;strong>reject&lt;/strong> GET requests with a body.&lt;/li>
&lt;li>It goes against the &lt;strong>intended&lt;/strong> use of GET as defined in the HTTP specification.&lt;/li>
&lt;/ul>
&lt;h3 id="restful-api-design">RESTful API Design
&lt;/h3>&lt;p>In RESTful API design, GET requests are meant to be &lt;strong>safe and idempotent&lt;/strong>. They should retrieve resources without modifying server state. Including a body in a GET request could imply that the request is intended to modify something, which contradicts these principles.&lt;/p></description></item><item><title>【Spring Data JPA】Polymophic Query</title><link>https://dyhes.github.io/p/spring-data-jpapolymophic-query/</link><pubDate>Sat, 13 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-data-jpapolymophic-query/</guid><description>&lt;h2 id="inheritance-type">Inheritance type
&lt;/h2>&lt;h3 id="inheritancetypesingle_table">&lt;code>InheritanceType.SINGLE_TABLE&lt;/code>
&lt;/h3>&lt;h4 id="pros">Pros
&lt;/h4>&lt;ul>
&lt;li>Simplest to implement and typically offers &lt;strong>the best performance&lt;/strong> for polymorphic queries.&lt;/li>
&lt;li>No join operations needed when querying the base class.&lt;/li>
&lt;li>Easy to add new subclasses without schema changes.&lt;/li>
&lt;/ul>
&lt;h4 id="cons">Cons
&lt;/h4>&lt;ul>
&lt;li>All columns for all subclasses are in one table, which can lead to &lt;strong>many nullable columns&lt;/strong>.&lt;/li>
&lt;li>The table can become &lt;strong>very wide&lt;/strong> if there are many subclasses or attributes.&lt;/li>
&lt;li>Potential for &lt;strong>wasted space&lt;/strong> in the database.&lt;/li>
&lt;/ul>
&lt;h3 id="inheritancetypetable_per_class">&lt;code>InheritanceType.TABLE_PER_CLASS&lt;/code>
&lt;/h3>&lt;h4 id="pros-1">Pros
&lt;/h4>&lt;ul>
&lt;li>Each entity has its own table, which can be more &lt;strong>intuitive&lt;/strong>.&lt;/li>
&lt;li>&lt;strong>Easy to add new attributes&lt;/strong> to subclasses without affecting other classes.&lt;/li>
&lt;li>Good for cases where subclasses &lt;strong>have many unique attributes&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;h4 id="cons-1">Cons
&lt;/h4>&lt;ul>
&lt;li>Polymorphic queries can be &lt;strong>inefficient&lt;/strong>, often requiring UNION operations.&lt;/li>
&lt;li>&lt;strong>Redundant storage&lt;/strong> of common attributes across tables.&lt;/li>
&lt;li>&lt;strong>Not well supported&lt;/strong> by all JPA providers.&lt;/li>
&lt;/ul>
&lt;h3 id="inheritancetypejoined">&lt;code>InheritanceType.JOINED&lt;/code>
&lt;/h3>&lt;h4 id="pros-2">Pros
&lt;/h4>&lt;ul>
&lt;li>Normalized database design with minimal data redundancy.&lt;/li>
&lt;li>Flexible for adding new subclasses or attributes.&lt;/li>
&lt;li>&lt;strong>Good balance&lt;/strong> between normalization and performance.&lt;/li>
&lt;/ul>
&lt;h4 id="cons-2">Cons
&lt;/h4>&lt;ul>
&lt;li>Requires joins for polymorphic queries, which can &lt;strong>impact performance&lt;/strong>.&lt;/li>
&lt;li>Inserts and updates may affect multiple tables.&lt;/li>
&lt;li>More complex queries compared to SINGLE_TABLE.&lt;/li>
&lt;/ul>
&lt;h2 id="general-consideration">General consideration
&lt;/h2>&lt;ul>
&lt;li>SINGLE_TABLE is often the &lt;strong>default choice&lt;/strong> due to its simplicity and performance.&lt;/li>
&lt;li>JOINED is a good choice when you need a &lt;strong>more normalized&lt;/strong> database structure.&lt;/li>
&lt;li>TABLE_PER_CLASS can be useful in specific scenarios but is &lt;strong>often avoided&lt;/strong> due to performance concerns with polymorphic queries.&lt;/li>
&lt;li>The choice often depends on your specific use case, the number of subclasses, how often you perform polymorphic queries, and your database design preferences.&lt;/li>
&lt;/ul></description></item><item><title>【Java】Dates and Times</title><link>https://dyhes.github.io/p/javadates-and-times/</link><pubDate>Fri, 12 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/javadates-and-times/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover19.png" alt="Featured image of post 【Java】Dates and Times" />&lt;h2 id="javautildate">&lt;code>java.util.Date&lt;/code>
&lt;/h2>&lt;p>You&amp;rsquo;re right to ask about the Date class. The pre-Java 8 java.util.Date class is indeed still available, but it&amp;rsquo;s generally considered &lt;strong>outdated&lt;/strong> for modern Java projects.&lt;/p>
&lt;h3 id="issues">Issues
&lt;/h3>&lt;ul>
&lt;li>Mutable (not &lt;strong>thread-safe&lt;/strong>)&lt;/li>
&lt;li>Poorly designed API&lt;/li>
&lt;li>Doesn&amp;rsquo;t handle time zones well&lt;/li>
&lt;li>Only &lt;strong>millisecond&lt;/strong> precision&lt;/li>
&lt;li>Confusing method names (e.g., getYear() returns year since 1900)&lt;/li>
&lt;/ul>
&lt;h3 id="modern-alternatives">Modern alternatives
&lt;/h3>&lt;ul>
&lt;li>Java 8+ java.time package (recommended)&lt;/li>
&lt;li>Third-party libraries like Joda-Time (for pre-Java 8 projects)&lt;/li>
&lt;/ul>
&lt;h3 id="migration">Migration
&lt;/h3>&lt;ul>
&lt;li>java.time provides methods to convert between old and new date/time classes&lt;/li>
&lt;/ul>
&lt;h2 id="javatime">&lt;code>java.time&lt;/code>
&lt;/h2>&lt;p>&lt;code>java.time&lt;/code> introduced in Java 8, provides a comprehensive and much-improved API for handling dates, times, and durations.&lt;/p>
&lt;h3 id="localdate">LocalDate
&lt;/h3>&lt;p>Represents a date without time or time zone.&lt;/p>
&lt;h3 id="localtime">LocalTime
&lt;/h3>&lt;p>Represents a time without date or time zone.&lt;/p>
&lt;h3 id="localdatetime">LocalDateTime
&lt;/h3>&lt;p>Combines date and time, without a time zone.&lt;/p>
&lt;h3 id="zoneddatetime">ZonedDateTime
&lt;/h3>&lt;p>Date and time with a time zone.&lt;/p>
&lt;h3 id="zoneid">ZoneId
&lt;/h3>&lt;p>represents a time zone&lt;/p>
&lt;h3 id="instant">Instant
&lt;/h3>&lt;p>Instant represents a point in time on the timeline, typically in UTC (Coordinated Universal Time). It&amp;rsquo;s essentially a &lt;strong>timestamp&lt;/strong> with nanosecond precision.&lt;/p>
&lt;h3 id="period">Period
&lt;/h3>&lt;p>Represents a &lt;strong>date-based&lt;/strong> amount of time.&lt;/p>
&lt;h3 id="duration">Duration
&lt;/h3>&lt;p>Represents a &lt;strong>time-based&lt;/strong> amount of time.&lt;/p>
&lt;h3 id="datetimeformatter">DateTimeFormatter
&lt;/h3>&lt;p>is used for parsing and formatting date-time objects.&lt;/p>
&lt;h2 id="usage-in-database">Usage in Database
&lt;/h2>&lt;h3 id="recommended-classes">Recommended classes
&lt;/h3>&lt;ul>
&lt;li>LocalDate: For date-only fields (e.g., birthdate)&lt;/li>
&lt;li>LocalDateTime: For date and time without time zone&lt;/li>
&lt;li>Instant: For timestamps (e.g., created_at, updated_at)&lt;/li>
&lt;li>ZonedDateTime: If you need to store time zone information&lt;/li>
&lt;/ul>
&lt;h3 id="considerations">Considerations
&lt;/h3>&lt;ul>
&lt;li>Instant is often preferred &lt;strong>for timestamps&lt;/strong> because it&amp;rsquo;s always in UTC and avoids time zone ambiguities.&lt;/li>
&lt;li>If using an &lt;strong>older version of Hibernate&lt;/strong> (pre-5.0), you might need additional configuration or converters.&lt;/li>
&lt;li>Some databases might require specific column definitions. For example, &lt;strong>PostgreSQL might need @Column(columnDefinition = &amp;ldquo;TIMESTAMP WITH TIME ZONE&amp;rdquo;) for Instant&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;h3 id="database-specific-notes">Database-specific notes
&lt;/h3>&lt;ul>
&lt;li>MySQL: LocalDateTime is typically stored as DATETIME, Instant as TIMESTAMP.&lt;/li>
&lt;li>PostgreSQL: Supports all types well, but ensure your JDBC driver is up to date.&lt;/li>
&lt;li>Oracle: May require additional configuration for LocalDate and LocalDateTime.&lt;/li>
&lt;/ul>
&lt;h3 id="best-practices">Best practices
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Use Instant for audit fields&lt;/strong> (created_at, updated_at).&lt;/li>
&lt;li>Use LocalDateTime for user-entered date-times if time zone isn&amp;rsquo;t important.&lt;/li>
&lt;li>Always consider time zone implications in your application logic.
You can set the following property to ensure proper handling of JDBC time zones:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">spring&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">jpa&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">properties&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">hibernate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">jdbc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">time_zone&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">UTC&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="example">example
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">javax.persistence.*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.time.Instant&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.time.LocalDate&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.time.LocalDateTime&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LocalDate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">birthDate&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">LocalDateTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lastLogin&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Column&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">columnDefinition&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;TIMESTAMP&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">createdAt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="instant-usage">Instant usage
&lt;/h2>&lt;p>Use Instant for:&lt;/p>
&lt;ul>
&lt;li>System-generated timestamps (created_at, updated_at)&lt;/li>
&lt;li>Event occurrences (lastLogin, orderPlacedAt)&lt;/li>
&lt;li>Any time you need to record a specific moment and &lt;strong>might deal with different time zones&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="audit-field">Audit field
&lt;/h3>&lt;ul>
&lt;li>created_at: When a record was created&lt;/li>
&lt;li>updated_at: When a record was last modified&lt;/li>
&lt;li>sometimes deleted_at: When a record was soft-deleted&lt;/li>
&lt;/ul>
&lt;h3 id="benifits">Benifits
&lt;/h3>&lt;p>Querying&lt;/p>
&lt;ul>
&lt;li>Easy to query for records created or updated within a specific time range.&lt;/li>
&lt;/ul>
&lt;p>Sorting&lt;/p>
&lt;ul>
&lt;li>Straightforward to sort records by creation or update time.&lt;/li>
&lt;/ul>
&lt;p>Time zone handling&lt;/p>
&lt;ul>
&lt;li>When displaying to users, you can easily convert Instant to their local time zone.&lt;/li>
&lt;/ul>
&lt;p>Potential pitfall to avoid&lt;/p>
&lt;ul>
&lt;li>Don&amp;rsquo;t use LocalDateTime for audit fields unless you&amp;rsquo;re absolutely sure all your servers and databases will always be in the same time zone.&lt;/li>
&lt;/ul>
&lt;p>Converting for display&lt;/p>
&lt;ul>
&lt;li>When you need to display these times to users
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ZoneId&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userZone&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ZoneId&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;America/New_York&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">createdAt&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">entity&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getCreatedAt&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">ZonedDateTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userTime&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ZonedDateTime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">ofInstant&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">createdAt&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userZone&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="database-considerations">Database considerations
&lt;/h3>&lt;ul>
&lt;li>For MySQL: Use TIMESTAMP column type&lt;/li>
&lt;li>For PostgreSQL: Use TIMESTAMP WITH TIME ZONE&lt;/li>
&lt;/ul>
&lt;h3 id="jpa-auditting">JPA Auditting
&lt;/h3>&lt;p>If you want to use Spring Data JPA&amp;rsquo;s automatic auditing features, such as:&lt;/p>
&lt;ul>
&lt;li>@CreatedDate&lt;/li>
&lt;li>@LastModifiedDate&lt;/li>
&lt;li>@CreatedBy&lt;/li>
&lt;li>@LastModifiedBy
enable JPA Auditing.&lt;/li>
&lt;/ul>
&lt;h3 id="manual-auditting">manual Auditting
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MyEntity&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// other fields&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Column&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">updatable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">createdAt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">updatedAt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@PrePersist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">onCreate&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">createdAt&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">updatedAt&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@PreUpdate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">onUpdate&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">updatedAt&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">now&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="example-1">example
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.data.annotation.CreatedDate&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.data.annotation.LastModifiedDate&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.springframework.data.jpa.domain.support.AuditingEntityListener&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">javax.persistence.*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.time.Instant&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@EntityListeners&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">AuditingEntityListener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">AuditedEntity&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@CreatedDate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Column&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">updatable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">createdAt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@LastModifiedDate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Instant&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">updatedAt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@EnableJpaAuditing&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">JpaConfig&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// other configurations &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="other-usage">Other usage
&lt;/h3>&lt;p>It&amp;rsquo;s often a good practice to store times as Instant and convert to appropriate local times when presenting to users.&lt;/p>
&lt;p>This ensures consistent storage and easier querying, while still allowing flexible display options.&lt;/p>
&lt;p>While Instant is great for many scenarios, there are cases where other types might be more appropriate:&lt;/p>
&lt;ul>
&lt;li>a) LocalDate: When you only need the date without time (e.g., birthDate, holidayDate).&lt;/li>
&lt;li>b) LocalDateTime: When you need date and time, but the time zone is implicit or unnecessary.&lt;/li>
&lt;li>c) ZonedDateTime: When you need to &lt;strong>preserve&lt;/strong> the specific time zone information.&lt;/li>
&lt;/ul></description></item><item><title>【Java】Releases</title><link>https://dyhes.github.io/p/javareleases/</link><pubDate>Fri, 12 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/javareleases/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover9.png" alt="Featured image of post 【Java】Releases" />&lt;p>Oracle has moved to a new release model since Java 9:&lt;/p>
&lt;ul>
&lt;li>There are new Java releases every six months.&lt;/li>
&lt;li>Every two (three before java17) years, the September release is designated as an LTS release.&lt;/li>
&lt;li>Non-LTS releases are supported only until the next release.&lt;/li>
&lt;/ul>
&lt;h2 id="java-10-1996">Java 1.0 (1996)
&lt;/h2>&lt;ul>
&lt;li>First public release&lt;/li>
&lt;/ul>
&lt;h2 id="java-11-1997">Java 1.1 (1997)
&lt;/h2>&lt;ul>
&lt;li>Inner classes&lt;/li>
&lt;li>JavaBeans&lt;/li>
&lt;li>JDBC&lt;/li>
&lt;li>RMI (Remote Method Invocation)&lt;/li>
&lt;/ul>
&lt;h2 id="java-12-1998">Java 1.2 (1998)
&lt;/h2>&lt;ul>
&lt;li>Collections framework&lt;/li>
&lt;li>Swing GUI&lt;/li>
&lt;li>JIT (Just-In-Time) compiler&lt;/li>
&lt;/ul>
&lt;h2 id="java-13-2000">Java 1.3 (2000)
&lt;/h2>&lt;ul>
&lt;li>HotSpot JVM&lt;/li>
&lt;li>JNDI (Java Naming and Directory Interface)&lt;/li>
&lt;/ul>
&lt;h2 id="java-14-2002">Java 1.4 (2002)
&lt;/h2>&lt;ul>
&lt;li>Assert keyword&lt;/li>
&lt;li>Regular expressions&lt;/li>
&lt;li>Logging API&lt;/li>
&lt;li>NIO (New Input/Output)&lt;/li>
&lt;/ul>
&lt;h2 id="java-5-2004">Java 5 (2004)
&lt;/h2>&lt;ul>
&lt;li>Generics&lt;/li>
&lt;li>Annotations&lt;/li>
&lt;li>Autoboxing/Unboxing&lt;/li>
&lt;li>Enumerations&lt;/li>
&lt;li>Varargs&lt;/li>
&lt;li>Enhanced for loop&lt;/li>
&lt;/ul>
&lt;h2 id="java-6-2006">Java 6 (2006)
&lt;/h2>&lt;ul>
&lt;li>Scripting language support&lt;/li>
&lt;li>JDBC 4.0&lt;/li>
&lt;li>Java Compiler API&lt;/li>
&lt;/ul>
&lt;h2 id="java-7-2011">Java 7 (2011)
&lt;/h2>&lt;ul>
&lt;li>Try-with-resources&lt;/li>
&lt;li>Diamond operator&lt;/li>
&lt;li>Switch with Strings&lt;/li>
&lt;li>NIO 2.0&lt;/li>
&lt;/ul>
&lt;h2 id="java-8-2014---lts">Java 8 (2014) - LTS
&lt;/h2>&lt;ul>
&lt;li>Lambda expressions&lt;/li>
&lt;li>Stream API&lt;/li>
&lt;li>Optional class&lt;/li>
&lt;li>Default methods in interfaces&lt;/li>
&lt;li>New Date and Time API&lt;/li>
&lt;/ul>
&lt;h2 id="java-9-2017">Java 9 (2017)
&lt;/h2>&lt;ul>
&lt;li>Module system (Project Jigsaw)&lt;/li>
&lt;li>JShell (REPL)&lt;/li>
&lt;li>Private methods in interfaces&lt;/li>
&lt;/ul>
&lt;h2 id="java-10-2018">Java 10 (2018)
&lt;/h2>&lt;ul>
&lt;li>Local variable type inference (var keyword)&lt;/li>
&lt;/ul>
&lt;h2 id="java-11-2018---lts">Java 11 (2018) - LTS
&lt;/h2>&lt;ul>
&lt;li>HTTP Client API&lt;/li>
&lt;li>Launch single-file source-code programs&lt;/li>
&lt;/ul>
&lt;h2 id="java-12-2019">Java 12 (2019)
&lt;/h2>&lt;ul>
&lt;li>Switch expressions (preview)&lt;/li>
&lt;/ul>
&lt;h2 id="java-13-2019">Java 13 (2019)
&lt;/h2>&lt;ul>
&lt;li>Text blocks (preview)&lt;/li>
&lt;/ul>
&lt;h2 id="java-14-2020">Java 14 (2020)
&lt;/h2>&lt;ul>
&lt;li>Records (preview)&lt;/li>
&lt;li>Pattern matching for instanceof (preview)&lt;/li>
&lt;/ul>
&lt;h2 id="java-15-2020">Java 15 (2020)
&lt;/h2>&lt;ul>
&lt;li>Sealed classes (preview)&lt;/li>
&lt;li>Hidden classes&lt;/li>
&lt;/ul>
&lt;h2 id="java-16-2021">Java 16 (2021)
&lt;/h2>&lt;ul>
&lt;li>Pattern matching for instanceof (finalized)&lt;/li>
&lt;li>Records (finalized)&lt;/li>
&lt;/ul>
&lt;h2 id="java-17-2021---lts">Java 17 (2021) - LTS
&lt;/h2>&lt;ul>
&lt;li>Sealed classes (finalized)&lt;/li>
&lt;li>Pattern matching for switch (preview)&lt;/li>
&lt;/ul>
&lt;h2 id="java-18-2022">Java 18 (2022)
&lt;/h2>&lt;ul>
&lt;li>Simple web server&lt;/li>
&lt;li>Code snippets in Java API documentation&lt;/li>
&lt;/ul>
&lt;h2 id="java-19-2022">Java 19 (2022)
&lt;/h2>&lt;ul>
&lt;li>Virtual threads (preview)&lt;/li>
&lt;li>Pattern matching for switch (second preview)&lt;/li>
&lt;/ul>
&lt;h2 id="java-20-2023">Java 20 (2023)
&lt;/h2>&lt;ul>
&lt;li>Scoped values (incubator)&lt;/li>
&lt;li>Record patterns (second preview)&lt;/li>
&lt;/ul>
&lt;h2 id="java-212023---lts">Java 21(2023) - LTS
&lt;/h2>&lt;ul>
&lt;li>Virtual Threads (finalized)&lt;/li>
&lt;li>Pattern Matching for Switch (finalized)&lt;/li>
&lt;li>Record Patterns (finalized)&lt;/li>
&lt;li>Sequenced Collections&lt;/li>
&lt;li>String Templates (preview)&lt;/li>
&lt;li>Unnamed Classes and Instance Main Methods (preview)&lt;/li>
&lt;li>Unnamed Patterns and Variables (preview)&lt;/li>
&lt;li>Scoped Values (preview)&lt;/li>
&lt;li>Foreign Function &amp;amp; Memory API (preview)&lt;/li>
&lt;li>Structured Concurrency (preview)&lt;/li>
&lt;li>Vector API (incubator)&lt;/li>
&lt;/ul></description></item><item><title>【Spring Data JPA】Cascade Operations</title><link>https://dyhes.github.io/p/spring-data-jpacascade-operations/</link><pubDate>Fri, 12 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-data-jpacascade-operations/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover7.png" alt="Featured image of post 【Spring Data JPA】Cascade Operations" />&lt;h2 id="types">Types
&lt;/h2>&lt;ul>
&lt;li>ALL: Applies all cascade types&lt;/li>
&lt;li>PERSIST: Cascades the persist (&lt;strong>create&lt;/strong>) operation&lt;/li>
&lt;li>MERGE: Cascades the merge (&lt;strong>update&lt;/strong>) operation&lt;/li>
&lt;li>REMOVE: Cascades the remove (&lt;strong>delete&lt;/strong>) operation&lt;/li>
&lt;li>REFRESH: Cascades the refresh operation&lt;/li>
&lt;li>DETACH: Cascades the detach operation&lt;/li>
&lt;/ul>
&lt;h2 id="common-use-cases">Common use cases
&lt;/h2>&lt;ul>
&lt;li>CascadeType.PERSIST: When you &lt;strong>save&lt;/strong> a parent entity, all its child entities are also saved.&lt;/li>
&lt;li>CascadeType.REMOVE: When you &lt;strong>delete&lt;/strong> a parent entity, all its child entities are also deleted.&lt;/li>
&lt;li>CascadeType.ALL: Applies all cascade types, useful when you want full propagation of operations.&lt;/li>
&lt;/ul>
&lt;h2 id="benefits">Benefits
&lt;/h2>&lt;ul>
&lt;li>Simplifies entity management by automating related entity operations&lt;/li>
&lt;li>Helps maintain data integrity and consistency&lt;/li>
&lt;li>&lt;strong>Reduces boilerplate code&lt;/strong> for handling related entities&lt;/li>
&lt;/ul>
&lt;h2 id="best-practices">Best practices
&lt;/h2>&lt;p>&lt;strong>Avoid using CascadeType.ALL by default&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Don&amp;rsquo;t automatically apply CascadeType.ALL to every @OneToMany relationship&lt;/li>
&lt;li>Can lead to unexpected behavior and potential issues
&lt;strong>Use specific cascade types&lt;/strong>&lt;/li>
&lt;li>Choose cascade types that match your specific needs:
&lt;ul>
&lt;li>CascadeType.PERSIST: For saving related entities&lt;/li>
&lt;li>CascadeType.REMOVE: For deleting related entities&lt;/li>
&lt;li>CascadeType.MERGE: For updating related entities
&lt;strong>Be cautious with CascadeType.REMOVE&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Can lead to unintended deletions&lt;/li>
&lt;li>Consider &lt;strong>using orphanRemoval=true instead&lt;/strong> for more controlled deletions
&lt;strong>Avoid cascades for shared references&lt;/strong>&lt;/li>
&lt;li>Don&amp;rsquo;t use cascades when child entities can &lt;strong>exist independently or be shared&lt;/strong>&lt;/li>
&lt;li>Example: User (parent) and Address (child) where addresses might be shared
&lt;strong>Consider performance implications&lt;/strong>&lt;/li>
&lt;li>Cascading operations can impact performance, especially with large datasets&lt;/li>
&lt;li>Use judiciously and test thoroughly&lt;/li>
&lt;/ul>
&lt;h2 id="conversation-with-claude-35">Conversation with Claude 3.5
&lt;/h2>&lt;p>Can i understand cascade operations like this: it is only necessary when i need to update entity from the non-owning part (namely the collection field holder, the one part in a @OneToMany relationship)?&lt;/p>
&lt;blockquote>
&lt;p>Your understanding is on the right track, but it&amp;rsquo;s not entirely accurate.&lt;/p>
&lt;p>Cascade operations are not only necessary when updating an entity from the non-owning side (the collection field holder in a @OneToMany relationship). They are useful in various scenarios, regardless of which side of the relationship you&amp;rsquo;re operating on.&lt;/p>
&lt;p>&lt;strong>Cascade from parent to children:&lt;/strong> In a @OneToMany relationship, you might want to cascade operations from the parent (the &amp;ldquo;one&amp;rdquo; side) to the children (the &amp;ldquo;many&amp;rdquo; side). This is &lt;strong>common&lt;/strong> when the child entities&amp;rsquo; lifecycle is dependent on the parent.&lt;/p>
&lt;p>&lt;strong>Cascade from child to parent:&lt;/strong> In some cases, you might want to cascade operations from the child to the parent. This is less common but can be useful in certain scenarios.&lt;/p>
&lt;p>&lt;strong>Bidirectional relationships:&lt;/strong> In bidirectional relationships, you can define cascades on both sides, although this requires &lt;strong>careful consideration&lt;/strong> to avoid unintended consequences.&lt;/p>
&lt;/blockquote></description></item><item><title>【Spring Data JPA】Join Table Entity</title><link>https://dyhes.github.io/p/spring-data-jpajoin-table-entity/</link><pubDate>Fri, 12 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-data-jpajoin-table-entity/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover13.png" alt="Featured image of post 【Spring Data JPA】Join Table Entity" />&lt;h2 id="composite-key">Composite key
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">BookAuthor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@EmbeddedId&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">BookAuthorId&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToOne&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@MapsId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;bookId&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Book&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">book&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToOne&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@MapsId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;authorId&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Author&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">author&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Other fields, getters, setters...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Embeddable&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">BookAuthorId&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Serializable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bookId&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authorId&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Constructors, equals, hashCode...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="pros">Pros
&lt;/h3>&lt;ul>
&lt;li>Naturally represents the relationship between entities.&lt;/li>
&lt;li>Ensures data integrity at the database level.&lt;/li>
&lt;li>Can be more &lt;strong>space-efficient&lt;/strong> in some cases.&lt;/li>
&lt;li>Useful when the combination of fields has a natural, real-world uniqueness.&lt;/li>
&lt;/ul>
&lt;h3 id="cons">Cons
&lt;/h3>&lt;ul>
&lt;li>Can be &lt;strong>more complex to work with in queries and code&lt;/strong>.&lt;/li>
&lt;li>May lead to longer primary keys, which can impact performance in large tables.&lt;/li>
&lt;li>Less flexible if the relationship structure changes.&lt;/li>
&lt;/ul>
&lt;h2 id="separate-primary-key">Separate primary key
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">BookAuthor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToOne&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Book&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">book&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToOne&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Author&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">author&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Other fields, getters, setters...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="pros-1">Pros
&lt;/h3>&lt;ul>
&lt;li>Simpler to work with in code and queries.&lt;/li>
&lt;li>More flexible if relationships change.&lt;/li>
&lt;li>Can &lt;strong>improve performance&lt;/strong> in some scenarios, especially with large datasets.&lt;/li>
&lt;li>Easier to reference from other tables.&lt;/li>
&lt;/ul>
&lt;h3 id="cons-1">Cons
&lt;/h3>&lt;ul>
&lt;li>Requires an additional column in the table.&lt;/li>
&lt;li>May not represent the natural relationship as clearly.&lt;/li>
&lt;/ul>
&lt;h2 id="consideration">Consideration
&lt;/h2>&lt;h3 id="consider-using-a-composite-key">Consider using a Composite Key
&lt;/h3>&lt;ul>
&lt;li>The combination of foreign keys naturally and uniquely identifies the relationship.&lt;/li>
&lt;li>You want to enforce referential integrity at the database level.&lt;/li>
&lt;li>The relationship is &lt;strong>stable&lt;/strong> and unlikely to change.&lt;/li>
&lt;li>You’re working with a &lt;strong>relatively small&lt;/strong> dataset.&lt;/li>
&lt;/ul>
&lt;h3 id="consider-using-a-separate-primary-key">Consider using a Separate Primary Key
&lt;/h3>&lt;ul>
&lt;li>1 You need more flexibility in your data model.&lt;/li>
&lt;li>2 You’re working with &lt;strong>large datasets&lt;/strong> where query performance is crucial.&lt;/li>
&lt;li>3 You anticipate changes in the relationship structure.&lt;/li>
&lt;li>4 You want to simplify your code and queries.&lt;/li>
&lt;li>5 You need to &lt;strong>reference this join table from other entities&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;h3 id="additional-considerations">Additional Considerations
&lt;/h3>&lt;ul>
&lt;li>Database Performance: Test both approaches with your expected data volume to see which performs better.&lt;/li>
&lt;li>ORM Tool: Some ORM tools work better with one approach over the other.&lt;/li>
&lt;li>Team Preference: Consider what your team is more comfortable working with.&lt;/li>
&lt;li>Existing Patterns: If your project already uses one approach consistently, it might be best to stick with it for consistency.&lt;/li>
&lt;/ul>
&lt;p>In many modern applications, &lt;strong>using a separate primary key is often preferred&lt;/strong> due to its simplicity and flexibility. However, there are still valid use cases for composite keys, especially in systems where the relationship itself has significant business meaning.&lt;/p></description></item><item><title>Many-One Relationship</title><link>https://dyhes.github.io/p/many-one-relationship/</link><pubDate>Thu, 11 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/many-one-relationship/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover19.png" alt="Featured image of post Many-One Relationship" />&lt;h2 id="onetomany">@OneToMany
&lt;/h2>&lt;ul>
&lt;li>This annotation is used to define a one-to-many relationship between two entities.&lt;/li>
&lt;li>It’s typically &lt;strong>used on the “one” side&lt;/strong> of the relationship.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Department&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@OneToMany&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mappedBy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;department&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cascade&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CascadeType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">ALL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Employee&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">employees&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="manytoone">@ManyToOne
&lt;/h2>&lt;ul>
&lt;li>This annotation is used to define a many-to-one relationship between two entities.&lt;/li>
&lt;li>It’s typically &lt;strong>used on the “many” side&lt;/strong> of the relationship.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Employee&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToOne&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@JoinColumn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;department_id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Department&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">department&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Often, @OneToMany and @ManyToOne are used together to create a bidirectional relationship. The @OneToMany side uses mappedBy to indicate the field that owns the relationship. The @ManyToOne side use @JoinColumn to specify the &lt;strong>foreign key column&lt;/strong>.&lt;/p>
&lt;h2 id="cascade-operation">Cascade operation
&lt;/h2>&lt;p>Cascade operations in ORM frameworks like Hibernate and JPA allow you to &lt;strong>automatically apply operations performed on a parent entity to its associated child entities&lt;/strong>. This feature is particularly useful in managing relationships between entities and can significantly simplify database operations.&lt;/p>
&lt;h3 id="types">Types
&lt;/h3>&lt;ul>
&lt;li>PERSIST: Saves the child entity when the parent is saved.&lt;/li>
&lt;li>MERGE: Updates the child entity when the parent is updated.&lt;/li>
&lt;li>REMOVE: Deletes the child entity when the parent is deleted.&lt;/li>
&lt;li>REFRESH: Refreshes the child entity when the parent is refreshed.&lt;/li>
&lt;li>DETACH: Detaches the child entity when the parent is detached (from the persistence context).&lt;/li>
&lt;li>ALL: Applies all cascade types (PERSIST, MERGE, REMOVE, REFRESH, DETACH).&lt;/li>
&lt;/ul>
&lt;h3 id="usage">Usage
&lt;/h3>&lt;p>You can specify cascade operations in the @OneToMany, @ManyToOne, @OneToOne, or @ManyToMany annotations:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@OneToMany&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cascade&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CascadeType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">ALL&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ChildEntity&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">children&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@OneToMany&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cascade&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">CascadeType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">PERSIST&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CascadeType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">MERGE&lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ChildEntity&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">children&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="considerations">Considerations
&lt;/h3>&lt;ul>
&lt;li>Orphan Removal: Used in conjunction with cascading, orphanRemoval = true will remove child entities that are no longer referenced by the parent.&lt;/li>
&lt;li>Bi-directional Relationships: Be cautious with cascade operations in &lt;strong>bi-directional relationships&lt;/strong> to avoid unintended side effects.&lt;/li>
&lt;li>Performance: Cascading can &lt;strong>impact performance&lt;/strong>, especially with large datasets. Use it judiciously&lt;/li>
&lt;/ul></description></item><item><title>One-One Relationship</title><link>https://dyhes.github.io/p/one-one-relationship/</link><pubDate>Thu, 11 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/one-one-relationship/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover21.jpg" alt="Featured image of post One-One Relationship" />&lt;p>A one-to-one relationship means that each instance of an entity is associated with precisely one instance of another entity. This relationship is bidirectional or unidirectional:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Unidirectional One-to-One&lt;/strong>: One entity has a reference to another entity, but not vice versa.&lt;/li>
&lt;li>&lt;strong>Bidirectional One-to-One&lt;/strong>: Both entities have references to each other.
In the context of object-relational mapping (ORM) in Java, specifically when using Java Persistence API (JPA) or Hibernate, the @OneToOne annotation is used to define a one-to-one relationship between two entities.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// unidirectional &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@OneToOne&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cascade&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CascadeType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">ALL&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@JoinColumn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;profile_id&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">referencedColumnName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserProfile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userProfile&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserProfile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//bidirectional&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">username&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@OneToOne&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cascade&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CascadeType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">ALL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mappedBy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;user&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UserProfile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userProfile&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">UserProfile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">strategy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GenerationType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">IDENTITY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@OneToOne&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@JoinColumn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【Mac】.DB_Store file</title><link>https://dyhes.github.io/p/mac.db_store-file/</link><pubDate>Wed, 10 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/mac.db_store-file/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover20.jpg" alt="Featured image of post 【Mac】.DB_Store file" />&lt;p>提代码的时候发现change里有两个名为.DB_Store文件，查了一下是什么东西，记录一下。&lt;/p>
&lt;p>Content generated by GPT-4o:&lt;/p>
&lt;p>The .DS_Store file is a hidden system file created by macOS (formerly Mac OS X) to store custom attributes of a folder, such as the position of icons, the choice of a background image, and other folder view options. The name stands for “Desktop Services Store.”&lt;/p>
&lt;p>It is generally a good practice to add .DS_Store to your .gitignore file in Git repositories.&lt;/p></description></item><item><title>Many-Many Relationship</title><link>https://dyhes.github.io/p/many-many-relationship/</link><pubDate>Wed, 10 Jul 2024 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/many-many-relationship/</guid><description>&lt;img src="https://dyhes.github.io/covers/cover20.jpg" alt="Featured image of post Many-Many Relationship" />&lt;h2 id="manytomany">@ManyToMany
&lt;/h2>&lt;p>The @ManyToMany annotation is used in Java persistence frameworks, particularly in Java Persistence API (JPA) and Object-Relational Mapping (ORM) tools like Hibernate. It’s used to define a &lt;strong>many-to-many relationship&lt;/strong> between two entities.&lt;/p>
&lt;ul>
&lt;li>Relationship: It represents a relationship where multiple instances of one entity can be associated with multiple instances of another entity.&lt;/li>
&lt;li>Database representation: In a relational database, this is typically implemented using a join table that contains foreign keys to both entities.&lt;/li>
&lt;li>Bidirectional vs Unidirectional: The relationship can be &lt;strong>bidirectional&lt;/strong> (defined on both entities) or &lt;strong>unidirectional&lt;/strong> (defined on only one entity, namely the owning one).&lt;/li>
&lt;li>Usage: It’s typically used on a &lt;strong>collection field&lt;/strong> in an entity class.&lt;/li>
&lt;li>Join Table: By default, JPA will create a join table, but you can &lt;strong>customize&lt;/strong> this using the &lt;strong>@JoinTable&lt;/strong> annotation.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Table&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;students&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Student&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToMany&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@JoinTable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;student_course&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">joinColumns&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@JoinColumn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;student_id&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">inverseJoinColumns&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@JoinColumn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;course_id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Course&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">signedCourses&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Entity&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Table&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;courses&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Course&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Id&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GeneratedValue&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@ManyToMany&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mappedBy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;signedCourses&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Set&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Student&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">students&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// getters and setters&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this example:&lt;/p>
&lt;ul>
&lt;li>A student can enroll in multiple courses, and a course can have multiple students.&lt;/li>
&lt;li>The @JoinTable annotation specifies the details of the join table.&lt;/li>
&lt;li>The mappedBy attribute in the Course entity indicates that Student is the owning side of the relationship.&lt;/li>
&lt;/ul>
&lt;p>When using @ManyToMany, consider these best practices:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Use Set&lt;/strong> instead of List to avoid duplicate entries.&lt;/li>
&lt;li>Be cautious with bidirectional relationships, as they can &lt;strong>lead to performance issues&lt;/strong> if not managed properly.&lt;/li>
&lt;li>Consider using &lt;strong>lazy loading&lt;/strong> (fetch = FetchType.LAZY) to improve performance.&lt;/li>
&lt;li>In some cases, it might be better to model the relationship as &lt;strong>two one-to-many&lt;/strong> relationships with an intermediate entity, especially if you need to store &lt;strong>additional information&lt;/strong> about the relationship.&lt;/li>
&lt;/ul>
&lt;h2 id="mappedby">mappedBy
&lt;/h2>&lt;p>The mappedBy attribute in a @ManyToMany relationship is used to indicate the non-owning side of a &lt;strong>bidirectional&lt;/strong> relationship. &lt;/p>
&lt;ul>
&lt;li>In a @ManyToMany relationship, one side needs to be the owning side, and the other is the non-owning (inverse) side.&lt;/li>
&lt;li>The owning side is where &lt;strong>the @JoinTable is specified&lt;/strong> (if using a custom join table).&lt;/li>
&lt;li>The non-owning side uses mappedBy to &lt;strong>refer to the property&lt;/strong> on the owning side.
Key Points&lt;/li>
&lt;li>&lt;strong>Only&lt;/strong> the owning side of the relationship is responsible for updating the join table.&lt;/li>
&lt;li>Changes made to the non-owning side &lt;strong>won’t be reflected in the database&lt;/strong> unless the owning side is also updated.
Benefits&lt;/li>
&lt;li>&lt;strong>Prevents duplicate&lt;/strong> join tables.&lt;/li>
&lt;li>Clarifies which side of the relationship is responsible for managing the association.
Common Mistake:&lt;/li>
&lt;li>Forgetting to specify mappedBy on one side, which can lead to &lt;strong>two separate join table&lt;/strong>s being created.
Bidirectional Relationship Management:&lt;/li>
&lt;li>Even though mappedBy is specified, you typically need to update both sides of the relationship in your Java code &lt;strong>for consistency.&lt;/strong>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">student&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getCourses&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">course&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">course&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getStudents&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">student&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>Database Perspective:&lt;/p>
&lt;ul>
&lt;li>The database structure is the same regardless of which side is the owning side.&lt;/li>
&lt;li>The choice affects how JPA manages the relationship, not the underlying database schema.&lt;/li>
&lt;/ul>
&lt;h2 id="lazy-loading">lazy loading
&lt;/h2>&lt;ul>
&lt;li>Lazy loading means that an object &lt;strong>doesn’t load all of its associated data&lt;/strong> from the database when it’s first retrieved.&lt;/li>
&lt;li>Instead, it loads only the data it needs immediately and loads other related data &lt;strong>only when it’s specifically requested&lt;/strong>.
In ORM Context:&lt;/li>
&lt;li>When you fetch an entity from the database, lazy loading allows you to retrieve the entity &lt;strong>without immediately loading all of its associated entities or collections&lt;/strong>.&lt;/li>
&lt;li>The associated data is loaded only when you try to &lt;strong>access it&lt;/strong>.
When to use:&lt;/li>
&lt;li>Use lazy loading for associations that are not always needed.&lt;/li>
&lt;li>Use eager loading for associations that are almost always needed with the main entity.
Implementation:&lt;/li>
&lt;li>In JPA, lazy loading is often the default &lt;strong>for collection associations&lt;/strong> (@OneToMany, @ManyToMany).&lt;/li>
&lt;li>&lt;strong>For single-valued associations&lt;/strong> (@ManyToOne, @OneToOne), eager loading is usually the default.
Best Practices:&lt;/li>
&lt;li>Use lazy loading as the default strategy.&lt;/li>
&lt;li>Switch to eager loading only when you’re certain that the related data is always needed.&lt;/li>
&lt;/ul></description></item><item><title>【Docker】Introduction</title><link>https://dyhes.github.io/p/dockerintroduction/</link><pubDate>Tue, 21 Mar 2023 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/dockerintroduction/</guid><description>&lt;h2 id="what-is-docker">What is Docker
&lt;/h2>&lt;p>Docker is an open source platform for building, deploying, and managing containerized applications.&lt;/p>
&lt;p>It enables developers to package applications into containers—standardized &lt;strong>executable components&lt;/strong> combining &lt;strong>application source code&lt;/strong> with the o&lt;strong>perating system (OS) libraries and dependencies&lt;/strong> required to run that code in any environment.&lt;/p>
&lt;p>Developers can create containers &lt;strong>without&lt;/strong> Docker, but the platform makes it &lt;strong>easier, simpler, and safer&lt;/strong> to build, deploy and manage containers.&lt;/p>
&lt;p>Docker is essentially a &lt;strong>toolkit&lt;/strong> that enables developers to build, deploy, run, update, and stop containers using simple commands and work-saving automation through a single API.&lt;/p>
&lt;p>Containers are made possible by &lt;strong>process isolation&lt;/strong> and &lt;strong>virtualization capabilities&lt;/strong> built into the &lt;strong>Linux kernel&lt;/strong>.&lt;/p>
&lt;h2 id="docker-tools">Docker tools
&lt;/h2>&lt;h3 id="dockerfile">DockerFile
&lt;/h3>&lt;p>Every Docker container &lt;em>&lt;strong>starts with&lt;/strong>&lt;/em> &lt;strong>a simple text file&lt;/strong> containing &lt;strong>instructions&lt;/strong> for how to build the Docker container image. &lt;em>DockerFile&lt;/em> &lt;strong>automates&lt;/strong> the process of Docker image creation. It’s essentially a list of command-line interface (CLI) instructions that Docker Engine will run in order to assemble the image.&lt;/p>
&lt;h3 id="docker-images">Docker images
&lt;/h3>&lt;p>&lt;em>Docker images&lt;/em> contain &lt;strong>executable application source code&lt;/strong> as well as all the &lt;strong>tools, libraries, and dependencies&lt;/strong> that the application code needs to run as a container.&lt;/p>
&lt;p>When you run the Docker image, it &lt;strong>becomes one instance&lt;/strong> (or multiple instances) of the container.&lt;/p>
&lt;p>Multiple Docker images can be created from a single base image, and they’ll share the commonalities of their stack.&lt;/p>
&lt;p>Docker images are made up of &lt;em>&lt;strong>layers&lt;/strong>&lt;/em>, and each layer corresponds to &lt;strong>a version&lt;/strong> of the image. Whenever a developer makes changes to the image, a new top layer is created, and this top layer replaces the previous &lt;strong>top layer&lt;/strong> as the &lt;strong>current version&lt;/strong> of the image. Previous layers are saved for &lt;strong>rollbacks&lt;/strong> or to be &lt;strong>re-used&lt;/strong> in other projects.&lt;/p>
&lt;p>Each time a container is created from a Docker image, yet another new layer called the &lt;strong>container layer&lt;/strong> is created. Changes made to the container—such as the addition or deletion of files—are saved to the container layer only and exist only while the container is running.&lt;/p>
&lt;p>This iterative image-creation process enables increased &lt;strong>overall efficiency&lt;/strong> since multiple live container instances can run from just a single base image, and when they do so, they leverage a common stack.&lt;/p>
&lt;h3 id="docker-containers">&lt;strong>Docker containers&lt;/strong>
&lt;/h3>&lt;p>Docker containers are the &lt;strong>live, running instances&lt;/strong> of Docker images. While Docker images are &lt;strong>read-only&lt;/strong> files, containers are live, ephemeral, executable content. Users can interact with them, and administrators can adjust their settings and conditions using docker commands.&lt;/p>
&lt;h3 id="docker-hub">&lt;strong>Docker Hub&lt;/strong>
&lt;/h3>&lt;p>Docker Hub is the &lt;strong>public repository of Docker images&lt;/strong> It includes images that have been produced by Docker, Inc., certified images belonging to the Docker Trusted Registry, and many thousands of other images.&lt;/p>
&lt;p>All Docker Hub users can share their images at will. They can also download predefined base images from the Docker filesystem to use as a starting point for any containerization project.&lt;/p>
&lt;h3 id="docker-daemon">&lt;strong>Docker daemon&lt;/strong>
&lt;/h3>&lt;p>Docker daemon is a &lt;strong>service&lt;/strong> running on your operating system This service creates and manages your Docker images for you using the commands from the client, acting as the &lt;strong>control center&lt;/strong> of your Docker implementation.&lt;/p>
&lt;h3 id="docker-registry">&lt;strong>Docker registry&lt;/strong>
&lt;/h3>&lt;p>A Docker registry is a scalable open-source &lt;strong>storage and distribution system&lt;/strong> for docker images. The registry enables you to track image versions in repositories, using tagging for identification. This is accomplished using git, a version control tool.&lt;/p>
&lt;h3 id="docker-compose">&lt;strong>Docker Compose&lt;/strong>
&lt;/h3>&lt;p>If you’re &lt;strong>building an application out of processes in multiple containers&lt;/strong> that all reside on the same host, you can use &lt;em>Docker Compose&lt;/em> to manage the application’s architecture. Docker Compose creates a YAML file that specifies which services are included in the application and can deploy and run containers with a single command. Using Docker Compose, you can also define persistent volumes for storage, specify base nodes, and document and configure service dependencies.&lt;/p>
&lt;h3 id="kubernetes">&lt;strong>Kubernetes&lt;/strong>
&lt;/h3>&lt;p>To monitor and manage container lifecycles in more complex environments, you’ll need to turn to a &lt;strong>container orchestration tool.&lt;/strong> While Docker includes its own orchestration tool (called Docker Swarm), most developers choose Kubernetes instead.&lt;/p>
&lt;p>Kubernetes is an open-source container orchestration platform descended from a project developed for internal use at Google. Kubernetes schedules and automates tasks integral to the management of container-based architectures, including container deployment, updates, service discovery, storage provisioning, load balancing, health monitoring, and more. In addition, the open source ecosystem of tools for Kubernetes—including Istio and Knative—enables organizations to deploy a high-productivity Platform-as-a-Service (PaaS) for containerized applications and a faster on-ramp to serverless computing.&lt;/p></description></item><item><title>【NGINX】浅尝</title><link>https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/</link><pubDate>Wed, 09 Nov 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/</guid><description>&lt;img src="https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/cover.png" alt="Featured image of post 【NGINX】浅尝" />&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>Nginx is a web server that can also be used as a reverse proxy, load balancer, mail proxy and HTTP cache.&lt;/p>
&lt;blockquote>
&lt;p>Nginx是可以用于反向代理，负载均衡，邮件代理和HTTP缓存的Web服务器&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image1.png"
width="1133"
height="584"
srcset="https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image1_hu9047729220891669032.png 480w, https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image1_hu16195881139315642197.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="194"
data-flex-basis="465px"
>&lt;/p>
&lt;h2 id="installation">Installation
&lt;/h2>&lt;p>ubuntu:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>查看状态&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl status nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image2.png"
width="870"
height="230"
srcset="https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image2_hu16239560865597572882.png 480w, https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image2_hu294152219136151475.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="378"
data-flex-basis="907px"
>&lt;/p>
&lt;p>&lt;strong>管理&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl stop nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl start nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl restart nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl reload nginx &lt;span class="c1">##configuration changed&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo nginx -s reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl disable nginx &lt;span class="c1">##disable the behavior of starting automatically when the server boots&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl &lt;span class="nb">enable&lt;/span> nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="terminology">Terminology
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>context&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">events&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>directive&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">worker_connections&lt;/span> &lt;span class="mi">768&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>context内的键值对&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="bugs">Bugs
&lt;/h2>&lt;h3 id="css-textplain">css text/plain
&lt;/h3>&lt;p>NGINX: CSS was not loaded because its MIME type, &amp;ldquo;text/plain&amp;rdquo;, is not &amp;ldquo;text/css&amp;rdquo;&lt;/p>
&lt;p>修改为&lt;/p>
&lt;p>&lt;img src="https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image3.png"
width="281"
height="123"
srcset="https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image3_hu16829738045661340366.png 480w, https://dyhes.github.io/p/nginx%E6%B5%85%E5%B0%9D/image3_hu15806035806556138684.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="228"
data-flex-basis="548px"
>&lt;/p>
&lt;p>后仍未加载&lt;/p>
&lt;p>原因为&lt;strong>浏览器缓存&lt;/strong>&lt;/p>
&lt;p>&lt;code>Ctrl+Shift+R&lt;/code> hard reload 解决问题&lt;/p></description></item><item><title>【Linux】Basics</title><link>https://dyhes.github.io/p/linuxbasics/</link><pubDate>Mon, 07 Nov 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/linuxbasics/</guid><description>&lt;h2 id="history">History
&lt;/h2>&lt;p>When Linus Torvalds was studying at the University of Helsinki, he was using a version of the UNIX operating system called &amp;lsquo;Minix&amp;rsquo;. Linus and other users sent requests for modifications and improvements to Minix&amp;rsquo;s creator, Andrew Tanenbaum, but he felt that they weren&amp;rsquo;t necessary. That&amp;rsquo;s when Linus decided to create his own operating system that would take into account users&amp;rsquo; comments and suggestions for improvements.&lt;/p>
&lt;p>In 1991, ideal conditions existed that would create Linux. In essence, Linus Torvalds had a kernel but no programs of his own, Richard Stallman and GNU had programs but no working kernel. Late in 1991, Linus Torvalds had his kernel and a few GNU programs wrapped around it so it would work well enough to show other people what he had done.&lt;/p>
&lt;h2 id="distributions">Distributions
&lt;/h2>&lt;p>The three most popular Desktop distributions of Linux are;&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://www.linux.org/resources/fedora.12/" target="_blank" rel="noopener"
>Fedora&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.linux.org/resources/ubuntu-desktop.10/" target="_blank" rel="noopener"
>Ubuntu&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.linux.org/resources/linux-mint.16/" target="_blank" rel="noopener"
>Linux Mint&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>The four most popular Server versions of Linux are;&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.linux.org/resources/debian.11/" target="_blank" rel="noopener"
>Debian&lt;/a>&lt;/p>
&lt;p>The Debian Project was founded by Ian Murdock in 1993. Debian gets its name from the combination of Ian Murdock and his wife Debra&amp;rsquo;s name (Deb-Ian) .Despite its not-for-profit status, Debian is an extremely versatile distribution. It forms the base of many user-friendly distributions like Ubuntu, Linspire and Xandros.&lt;/p>
&lt;p>mv sources.list.old sources.list&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.linux.org/resources/centos.8/" target="_blank" rel="noopener"
>CentOS&lt;/a> (Linux.org runs on a CentOS Linux VPS)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.linux.org/resources/opensuse.15/" target="_blank" rel="noopener"
>OpenSUSE&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.linux.org/resources/slackware.9/" target="_blank" rel="noopener"
>Slackware&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="install-new-software">install new software
&lt;/h2>&lt;ul>
&lt;li>dpkg&lt;/li>
&lt;li>dselect&lt;/li>
&lt;li>rpm&lt;/li>
&lt;li>yum&lt;/li>
&lt;/ul>
&lt;h2 id="file-system">File System
&lt;/h2>&lt;h3 id="heading">/
&lt;/h3>&lt;p>This will get you into the &amp;lsquo;root&amp;rsquo; or main directory, not /root&lt;/p>
&lt;h4 id="root">root
&lt;/h4>&lt;p>root user&amp;rsquo;s home directory&lt;/p>
&lt;h4 id="home">home
&lt;/h4>&lt;p>directory that contains non-root user&amp;rsquo;s home directory&lt;/p>
&lt;h4 id="bin">bin
&lt;/h4>&lt;p>bin/ is one of the most important directories in Linux. You&amp;rsquo;ll find all of the most used commands there. Right now you should be seeing a lot of red (or green, depending on your version of Linux). Those are programs.&lt;/p>
&lt;h4 id="sbin">sbin
&lt;/h4>&lt;p>This directory is like /bin in that it has frequently used programs in it, but they&amp;rsquo;re only meant to be used by root.&lt;/p>
&lt;h4 id="etc">etc
&lt;/h4>&lt;p>This houses most of the configuration files for Linux.&lt;/p>
&lt;h4 id="dev">dev
&lt;/h4>&lt;p>These are the devices that your system uses or can use.&lt;/p>
&lt;h4 id="boot">boot
&lt;/h4>&lt;p>where the Linux kernel usually is.&lt;/p>
&lt;h4 id="tmp">tmp
&lt;/h4>&lt;p>/tmp is a directory that is used to store temporary files, as the name may suggest.&lt;/p>
&lt;h4 id="var">var
&lt;/h4>&lt;p>/var is a directory for certain files that may change their size (i.e. variable size) For example, there are a few excellent databases for Linux. One is called MySQL. Normally, MySQL keeps its data in a subdirectory of /var called /var/mysql/.&lt;/p>
&lt;h4 id="usr">usr
&lt;/h4>&lt;p>unix system resources&lt;/p>
&lt;p>containing dynamically combined programs, user files and manually-installed programs&lt;/p>
&lt;p>The usr/ directory contains files and programs meant to be used by all of the users on the system.&lt;/p>
&lt;h4 id="lib">lib
&lt;/h4>&lt;p>/lib is for library files. That&amp;rsquo;s where the name /lib comes from.&lt;/p>
&lt;h4 id="other-directories">other directories
&lt;/h4>&lt;p>Most installations of Linux will also provide these directories:&lt;/p>
&lt;p>/mnt
/cdrom
/floppy&lt;/p>
&lt;p>These shouldn&amp;rsquo;t contain anything. Later on, we&amp;rsquo;ll explain in more detail what these are for. Let&amp;rsquo;s just say that in Linux, if you want to see what&amp;rsquo;s on a floppy disk or a CD, you&amp;rsquo;re not going to be able to just click on an &amp;lsquo;a:&amp;rsquo; icon or a &amp;rsquo;d:&amp;rsquo; icon. You&amp;rsquo;re going to do&lt;/p>
&lt;h3 id="file-permission">File Permission
&lt;/h3>&lt;p>Let&amp;rsquo;s look at what these symbols mean:&lt;/p>
&lt;p>start with -(d for directories)&lt;/p>
&lt;h4 id="three-entity-types">three entity types
&lt;/h4>&lt;ul>
&lt;li>owner&lt;/li>
&lt;li>group&lt;/li>
&lt;li>world&lt;/li>
&lt;/ul>
&lt;h5 id="permission-symbol">permission symbol
&lt;/h5>&lt;ul>
&lt;li>r:read 4&lt;/li>
&lt;li>w:write 2&lt;/li>
&lt;li>x:execute 1&lt;/li>
&lt;/ul>
&lt;h2 id="file-backup">File Backup
&lt;/h2>&lt;h3 id="tar">tar
&lt;/h3>&lt;p>an archiving utility&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tar -cvf&lt;span class="o">(&lt;/span>create verbose file&lt;span class="o">)&lt;/span> tarname files
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -czvf&lt;span class="o">(&lt;/span>create zip verbose file&lt;span class="o">)&lt;/span> tar.gzName files
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&amp;rsquo;tar&amp;rsquo; just assembles the files together into only one file. There is no reduction in the size of these files (the tarball might even be bigger!) Now we would have to do one more thing in order to reduce this file into a more manageable size: use &amp;lsquo;gzip&amp;rsquo;.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tar -zxvpf my_tar_file.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>-z - unzip the file first
-x - extract the files from the tarball
-v - &amp;amp;quot;verbose&amp;amp;quot; (i.e tar tells you what files it&amp;rsquo;s extracting)
-p - preserves dates, permissions of the original files
-f - use the file in question (if you don&amp;rsquo;t specify this, tar just sort of sits around doing nothing)&lt;/p>
&lt;h3 id="gzip">gzip
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">gzip tar_file.tar
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>the file extension becomes .tar.gz&lt;/p>
&lt;h2 id="text-editor">Text Editor
&lt;/h2>&lt;h3 id="vi">vi
&lt;/h3>&lt;p>The most popular text editor for Linux is called &amp;lsquo;vi&amp;rsquo;. This is a program that comes from UNIX. There is a more recent version called &amp;lsquo;vim&amp;rsquo; which means &amp;lsquo;vi improved&amp;rsquo;.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ESC + i start editing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ESC + :w save
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ESC + ：wq save and quit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ESC + :q quit without saving
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ESC + :q! quit without saving and warning
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="joe">joe
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Ctrl+k+h
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="pico">pico
&lt;/h3>&lt;p>&amp;hellip;&lt;/p>
&lt;h2 id="user">User
&lt;/h2>&lt;h3 id="adduser">adduser
&lt;/h3>&lt;p>create a new user or update default new user information&lt;/p>
&lt;h2 id="userdel">userdel
&lt;/h2>&lt;p>delete a user&lt;/p>
&lt;h3 id="passwd">passwd
&lt;/h3>&lt;p>change user password&lt;/p>
&lt;h2 id="package">Package
&lt;/h2>&lt;h3 id="slackware">slackware
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">installpkg file.tgz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">removepkg file.tgz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">upgradepkg file.tgz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="debian">debian
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">dpkg file.deb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>advanced package tool&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-setup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get install package.deb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get remove package.deb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get upgrade &lt;span class="o">[&lt;/span>p&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="commands">Commands
&lt;/h2>&lt;h3 id="shutdown">shutdown
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">shutdown -h&lt;span class="o">(&lt;/span>halt&lt;span class="o">)&lt;/span> now
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">shutdown -r&lt;span class="o">(&lt;/span>reboot&lt;span class="o">)&lt;/span> now
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">shutdown -r now
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">shutdown -h +5 &lt;span class="o">(&lt;/span>&lt;span class="m">5&lt;/span> minutes&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="man">man
&lt;/h3>&lt;p>This command will show the manual for a command or program. The manual is a file that shows you how to use the command and list the different options for the command in question.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">man mkdir
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="info">info
&lt;/h3>&lt;p>Typing info [command name] will get you more information on a command and is more current than most man files and perhaps a little more readable. In fact, some &amp;lsquo;man&amp;rsquo; files will actually tell you to consult the &amp;lsquo;info&amp;rsquo; file. The &amp;lsquo;info&amp;rsquo; files are not always installed automatically. so you may want to consult your own version of Linux about these files.&lt;/p>
&lt;h3 id="whatis">whatis
&lt;/h3>&lt;p>display one-line manual page descriptions&lt;/p>
&lt;h3 id="apropos">apropos
&lt;/h3>&lt;p>search the manual page names and descriptions&lt;/p>
&lt;h3 id="chmod">chmod
&lt;/h3>&lt;p>Change access permissions&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">644&lt;/span> myDoc.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="chown">chown
&lt;/h3>&lt;p>Change file owner and group&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">chown owner.group filename
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown bob.bob example.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="last">last
&lt;/h3>&lt;p>show a listing of last logged in users&lt;/p>
&lt;h3 id="df">df
&lt;/h3>&lt;p>report file system disk space usage&lt;/p>
&lt;h3 id="free">free
&lt;/h3>&lt;p>Display amount of free and used memory in the system&lt;/p>
&lt;h3 id="du">du
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">du -b filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ps">ps
&lt;/h3>&lt;p>report a snapshot of the current processes&lt;/p>
&lt;h3 id="kill">kill
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">kill&lt;/span> PID
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>kill a process&lt;/p>
&lt;h3 id="mkdir">mkdir
&lt;/h3>&lt;p>make directories&lt;/p>
&lt;h3 id="rmdir">rmdir
&lt;/h3>&lt;p>remove empty directories&lt;/p>
&lt;h3 id="rm">rm
&lt;/h3>&lt;p>remove files or directories&lt;/p>
&lt;h3 id="mv">mv
&lt;/h3>&lt;p>move or rename files&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mv tonyd/&lt;span class="o">(&lt;/span>dir&lt;span class="o">)&lt;/span> my_friends/&lt;span class="o">(&lt;/span>dir&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="cp">cp
&lt;/h3>&lt;p>copy files and directories&lt;/p>
&lt;h3 id="touch">touch
&lt;/h3>&lt;p>change file timestamps&lt;/p>
&lt;h3 id="find">find
&lt;/h3>&lt;p>search for files&lt;/p>
&lt;h3 id="grep">grep
&lt;/h3>&lt;p>prints lines that contain a match for one or more patterns&lt;/p>
&lt;h3 id="who">who
&lt;/h3>&lt;p>prints information about users who are currently logged on.&lt;/p>
&lt;h3 id="tee">tee
&lt;/h3>&lt;p>read from standard input and write to standard output and files&lt;/p>
&lt;p>&amp;gt; does the same without |&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls -l &lt;span class="p">|&lt;/span> tee directory_listing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">date &amp;gt; directory_listing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">date &amp;gt;&amp;gt; directory_listing&lt;span class="o">(&lt;/span>append&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="whereis">whereis
&lt;/h3>&lt;p>locate the binary,source, and manual page files for a command&lt;/p>
&lt;h3 id="which">which
&lt;/h3>&lt;p>locate a command&lt;/p>
&lt;h3 id="echo">echo
&lt;/h3>&lt;p>display a line of text&lt;/p>
&lt;h3 id="wc">wc
&lt;/h3>&lt;p>print newline, word, and byte counts for each file&lt;/p>
&lt;h3 id="dir">dir
&lt;/h3>&lt;p>list directory contents&lt;/p>
&lt;h3 id="pwd">pwd
&lt;/h3>&lt;p>print working directory&lt;/p>
&lt;h3 id="cal">cal
&lt;/h3>&lt;p>displays a calendar and the adte of Easter&lt;/p>
&lt;h3 id="tab">&amp;lt;TAB&amp;gt;
&lt;/h3>&lt;p>auto complete&lt;/p>
&lt;h3 id="up-arrow">up arrow
&lt;/h3>&lt;p>show last command&lt;/p>
&lt;h3 id="down-arrw">down arrw
&lt;/h3>&lt;p>most recent commands&lt;/p></description></item><item><title>【Solidity】Concepts</title><link>https://dyhes.github.io/p/solidityconcepts/</link><pubDate>Thu, 13 Oct 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/solidityconcepts/</guid><description>&lt;h2 id="smart-contract">smart contract
&lt;/h2>&lt;p>A contract in the sense of Solidity is a collection of code (its &lt;em>functions&lt;/em>) and data (its &lt;em>state&lt;/em>) that resides at a specific address on the Ethereum blockchain.&lt;/p>
&lt;h2 id="transactions">Transactions
&lt;/h2>&lt;p>A transaction is a message that is sent from one account to another account (which might be the same or empty, see below). It can include binary data (which is called “payload”) and Ether.&lt;/p>
&lt;p>If the target account contains code, that code is executed and the payload is provided as input data.&lt;/p>
&lt;p>If the target account is not set (the transaction does not have a recipient or the recipient is set to null), the transaction creates a new contract. As already mentioned, the address of that contract is not the zero address but an address derived from the sender and its number of transactions sent (the “nonce”). The payload of such a contract creation transaction is taken to be EVM bytecode and executed. The output data of this execution is permanently stored as the code of the contract. This means that in order to create a contract, you do not send the actual code of the contract, but in fact code that returns that code when executed.&lt;/p>
&lt;h2 id="gas">Gas
&lt;/h2>&lt;p>Upon creation, each transaction is charged with a certain amount of &lt;strong>gas&lt;/strong> that has to be paid for by the originator of the transaction (&lt;code>tx.origin&lt;/code>). While the EVM executes the transaction, the gas is gradually depleted according to specific rules. If the gas is used up at any point (i.e. it would be negative), an out-of-gas exception is triggered, which ends execution and reverts all modifications made to the state in the current call frame.&lt;/p>
&lt;h2 id="storage-memory-and-stacks">Storage, Memory and Stacks
&lt;/h2>&lt;p>The Ethereum Virtual Machine has three areas where it can store data: storage, memory and the stack.&lt;/p>
&lt;p>Each account has a data area called &lt;strong>storage&lt;/strong>, which is persistent between function calls and transactions. Storage is a key-value store that maps 256-bit words to 256-bit words. It is not possible to enumerate storage from within a contract, it is comparatively costly to read, and even more to initialise and modify storage. Because of this cost, you should minimize what you store in persistent storage to what the contract needs to run. Store data like derived calculations, caching, and aggregates outside of the contract. A contract can neither read nor write to any storage apart from its own.&lt;/p>
&lt;p>The second data area is called &lt;strong>memory&lt;/strong>, of which a contract obtains a freshly cleared instance for each message call. Memory is linear and can be addressed at byte level, but reads are limited to a width of 256 bits, while writes can be either 8 bits or 256 bits wide. Memory is expanded by a word (256-bit), when accessing (either reading or writing) a previously untouched memory word (i.e. any offset within a word). At the time of expansion, the cost in gas must be paid. Memory is more costly the larger it grows (it scales quadratically).&lt;/p>
&lt;p>The EVM is not a register machine but a stack machine, so all computations are performed on a data area called the &lt;strong>stack&lt;/strong>. It has a maximum size of 1024 elements and contains words of 256 bits. Access to the stack is limited to the top end in the following way: It is possible to copy one of the topmost 16 elements to the top of the stack or swap the topmost element with one of the 16 elements below it. All other operations take the topmost two (or one, or more, depending on the operation) elements from the stack and push the result onto the stack. Of course it is possible to move stack elements to storage or memory in order to get deeper access to the stack, but it is not possible to just access arbitrary elements deeper in the stack without first removing the top of the stack.&lt;/p></description></item><item><title>【数据加密】概念</title><link>https://dyhes.github.io/p/%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86%E6%A6%82%E5%BF%B5/</link><pubDate>Thu, 13 Oct 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86%E6%A6%82%E5%BF%B5/</guid><description>&lt;h2 id="数据加密">数据加密
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>对称加密&lt;/strong> 算法：DES、3DES、DESX、Blowfish、IDEA、RC4、RC5、RC6 和 AES&lt;/li>
&lt;li>&lt;strong>非对称算法&lt;/strong> ：RSA、ECC （移动设备用）、Diffie-Hellman、El Gamal、DSA （数字签名用）&lt;/li>
&lt;li>&lt;strong>散列（Hash）算法&lt;/strong> ：MD2、MD4、MD5、HAVAL、SHA、SHA-1、HMAC、HMAC-MD5、HMAC-SHA1&lt;/li>
&lt;/ul>
&lt;h2 id="对称加密">对称加密
&lt;/h2>&lt;p>Symmetric Key Encryption&lt;/p>
&lt;p>对称密码算法的加密密钥能够从解密密钥中推算出来，反过来也成立。在大多数对称算法中，加密解密密钥是相同的。它要求发送者和接收者在安全通信之前，商定一个密钥。&lt;/p>
&lt;p>对称算法又可分为两类。&lt;/p>
&lt;ul>
&lt;li>一次只对明文中的单个&lt;strong>位&lt;/strong>（有时对&lt;strong>字节&lt;/strong>）运算的算法称为&lt;strong>序列算法&lt;/strong>或序列密码。&lt;/li>
&lt;li>另一类算法是对明文的&lt;strong>一组位&lt;/strong>进行运算，这些位组称为分组，相应的算法称为&lt;strong>分组算法&lt;/strong>或分组密码。现代计算机密码算法的典型分组长度为&lt;strong>64位&lt;/strong>――这个长度既考虑到分析破译密码的难度，又考虑到使用的方便性。后来，随着破译能力的发展，分组长度又提高到&lt;strong>128位&lt;/strong>或更长。分组加密算法中，一般有ECB,CBC,CFB,OFB这几种算法模式。&lt;/li>
&lt;/ul>
&lt;h3 id="des">DES
&lt;/h3>&lt;p>DES是&lt;strong>Data Encryption Standard&lt;/strong>（数据加密标准）的缩写。它是由IBM公司研制的一种对称密码算法，美国国家标准局于1977年公布把它作为非机要部门使用的数据加密标准，三十年来，它一直活跃在国际保密通信的舞台上，扮演了十分重要的角色。&lt;/p>
&lt;p>DES是一个&lt;strong>分组加密&lt;/strong>算法，典型的DES以&lt;strong>64位&lt;/strong>为分组对数据加密，加密和解密用的是同一个算法。它的密钥长度是&lt;strong>56位&lt;/strong>（因为每个第8位都用作奇偶校验），密钥可以是任意的56位的数，而且可以任意时候改变。其中有极少数被认为是易破解的弱密钥，但是很容易避开它们不用。所以保密性依赖于密钥。&lt;/p>
&lt;h3 id="3des">3DES
&lt;/h3>&lt;p>3DES，即triple-DES，简单地说就是3次DES加解密的组合。现已不推荐使用&lt;/p>
&lt;h3 id="aes">AES
&lt;/h3>&lt;p>Advanced Encryption Standard，是现行的对称加密标准。目前（2017）如果使用对称加密，应该使用AES&lt;/p>
&lt;p>分组：128bit。&lt;/p>
&lt;p>密钥：128bit、192bit、256bit。&lt;/p>
&lt;h2 id="非对称加密">非对称加密
&lt;/h2>&lt;p>Asymmetric Key Encryption&lt;/p>
&lt;p>公开密钥加密（英语：public-key cryptography，又译为公开密钥加密），也称为非对称加密（asymmetric cryptography），一种密码学算法类型，在这种密码学方法中，需要一对密钥(其实这里密钥说法不好，就是“钥”)，一个是私人密钥，另一个则是公开密钥。这两个密钥是数学相关，用某用户密钥加密后所得的信息，只能用该用户的解密密钥才能解密。如果知道了其中一个，并不能计算出另外一个。因此如果公开了一对密钥中的一个，并不会危害到另外一个的秘密性质。称公开的密钥为公钥；不公开的密钥为私钥。&lt;/p>
&lt;h3 id="rsa">RSA
&lt;/h3>&lt;p>RSA加密算法是一种非对称加密算法，在公开密钥加密和电子商业中被广泛使用。RSA是1977年由罗纳德·李维斯特（Ron Rivest）、阿迪·萨莫尔（Adi Shamir）和伦纳德·阿德曼（Leonard Adleman）一起提出的。当时他们三人都在麻省理工学院工作。RSA就是他们三人姓氏开头字母拼在一起组成的。
这种算法非常可靠，密钥越长，它就越难破解。根据已经披露的文献，目前被破解的最长RSA密钥是768个二进制位。也就是说，长度超过768位的密钥，还无法破解（至少没人公开宣布）。因此可以认为，1024位的RSA密钥基本安全，2048位的密钥极其安全。&lt;/p>
&lt;h2 id="hash">Hash
&lt;/h2>&lt;p>Hash 算法特别的地方在于它是一种单向算法，用户可以通过 Hash 算法对目标信息生成一段特定长度的唯一的 Hash 值，却不能通过这个 Hash 值重新获得目标信息。因此 Hash 算法常用在不可还原的密码存储、信息完整性校验等。
单向散列函数一般用于产生消息摘要，密钥加密等，常见的有：
MD5 （Message Digest Algorithm 5）：是 RSA 数据安全公司开发的一种单向散列算法，非可逆，相同的明文产生相同的密文；
SHA （Secure Hash Algorithm）：可以对任意长度的数据运算生成一个 160 位的数值。
SHA-1 与 MD5 的比较 :
因为二者均由 MD4 导出，SHA-1 和 MD5 彼此很相似。相应的，他们的强度和其他特性也是相似，但还有以下几点不同：
对强行供给的安全性：最显著和最重要的区别是 SHA-1 摘要比 MD5 摘要长 32 位。使用强行技术，产生任何一个报文使其摘要等于给定报摘要的难度对 MD5 是 2128 数量级的操作，而对 SHA-1 则是 2160 数量级的操作。这样，SHA-1 对强行攻击有更大的强度；
对密码分析的安全性：由于 MD5 的设计，易受密码分析的攻击，SHA-1 显得不易受这样的攻击；
速度：在相同的硬件上，SHA-1 的运行速度比 MD5 慢。&lt;/p>
&lt;h2 id="数字签名">数字签名
&lt;/h2>&lt;p>Digit Signature&lt;/p>
&lt;p>数字签名是只有信息的发送者才能产生的别人无法伪造的一段数字串，这段数字串同时也是对信息的发送者发送信息真实性的一个有效证明。它是一种类似写在纸上的普通的物理签名，但是在使用了公钥加密领域的技术来实现的，用于鉴别数字信息的方法。一套数字签名通常定义两种互补的运算，一个用于签名，另一个用于验证。数字签名是非对称密钥加密技术与数字摘要技术的应用。&lt;/p></description></item><item><title>【Rust】Basics</title><link>https://dyhes.github.io/p/rustbasics/</link><pubDate>Mon, 12 Sep 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/rustbasics/</guid><description>&lt;h2 id="expressions-and--statements">Expressions and Statements
&lt;/h2>&lt;p>&lt;em>Statements&lt;/em> are instructions that perform some action and do not return a value. &lt;em>Expressions&lt;/em> evaluate to a resulting value.&lt;/p>
&lt;h2 id="ownship">Ownship
&lt;/h2>&lt;p>&lt;em>Ownership&lt;/em> is a set of rules that governs how a Rust program manages memory.&lt;/p>
&lt;p>All data stored on the stack must have a known, fixed size. Data with an unknown size at compile time or a size that might change must be stored on the heap instead.&lt;/p>
&lt;p>Keeping track of what parts of code are using what data on the heap, minimizing the amount of duplicate data on the heap, and cleaning up unused data on the heap so you don’t run out of space are all problems that ownership addresses.&lt;/p>
&lt;h3 id="ownership-ruleshttpsdocrust-langorgstablebookch04-01-what-is-ownershiphtmlownership-rules">&lt;a class="link" href="https://doc.rust-lang.org/stable/book/ch04-01-what-is-ownership.html#ownership-rules" target="_blank" rel="noopener"
>Ownership Rules&lt;/a>
&lt;/h3>&lt;ul>
&lt;li>Each value in Rust has an &lt;em>owner&lt;/em>.&lt;/li>
&lt;li>There can only be one owner at a time.&lt;/li>
&lt;li>When the owner goes out of scope, the value will be dropped.&lt;/li>
&lt;/ul>
&lt;p>The ownership of a variable follows the same pattern every time: assigning a value to another variable moves it.&lt;/p>
&lt;p>A reference is like a pointer in that it’s an address we can follow to access the data stored at that address; that data is owned by some other variable.&lt;/p>
&lt;h2 id="module-systems">Module Systems
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>Packages:&lt;/strong> A Cargo feature that lets you build, test, and share crates&lt;/li>
&lt;li>&lt;strong>Crates:&lt;/strong> A tree of modules that produces a library or executable&lt;/li>
&lt;li>&lt;strong>Modules&lt;/strong> and &lt;strong>use:&lt;/strong> Let you control the organization, scope, and privacy of paths&lt;/li>
&lt;li>&lt;strong>Paths:&lt;/strong> A way of naming an item, such as a struct, function, or module&lt;/li>
&lt;/ul></description></item><item><title>【Kaggle】Some Knowledge</title><link>https://dyhes.github.io/p/kagglesome-knowledge/</link><pubDate>Tue, 09 Aug 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/kagglesome-knowledge/</guid><description>&lt;p>The first step in any machine learning project is familiarize yourself with the data. You&amp;rsquo;ll use the Pandas library for this. Pandas is the primary tool data scientists use for exploring and manipulating data.&lt;/p>
&lt;p>The most important part of the Pandas library is the DataFrame. A DataFrame holds the type of data you might think of as a table. This is similar to a sheet in Excel, or a table in a SQL database.&lt;/p>
&lt;p>Pandas has powerful methods for most things you&amp;rsquo;ll want to do with this type of data.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># save filepath to variable for easier access&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">melbourne_file_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;../input/melbourne-housing-snapshot/melb_data.csv&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># read the data and store data in DataFrame titled melbourne_data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">melbourne_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_csv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">melbourne_file_path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># print a summary of the data in Melbourne data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">melbourne_data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">describe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="building-your-model">Building Your Model
&lt;/h2>&lt;p>You will use the &lt;strong>scikit-learn&lt;/strong> library to create your models. When coding, this library is written as &lt;strong>sklearn&lt;/strong>, as you will see in the sample code. Scikit-learn is easily the most popular library for modeling the types of data typically stored in DataFrames.&lt;/p>
&lt;p>The steps to building and using a model are:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Define:&lt;/strong> What type of model will it be? A decision tree? Some other type of model? Some other parameters of the model type are specified too.&lt;/li>
&lt;li>&lt;strong>Fit:&lt;/strong> Capture patterns from provided data. This is the heart of modeling.&lt;/li>
&lt;li>&lt;strong>Predict:&lt;/strong> Just what it sounds like&lt;/li>
&lt;li>&lt;strong>Evaluate&lt;/strong>: Determine how accurate the model&amp;rsquo;s predictions are.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">sklearn.tree&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">DecisionTreeRegressor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Define model. Specify a number for random_state to ensure same results each run&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">melbourne_model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">DecisionTreeRegressor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">random_state&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Fit model&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">melbourne_model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Many machine learning models allow some randomness in model training. Specifying a number for &lt;code>random_state&lt;/code> ensures you get the same results in each run. This is considered a good practice. You use any number, and model quality won&amp;rsquo;t depend meaningfully on exactly what value you choose.&lt;/p>
&lt;p>We now have a fitted model that we can use to make predictions.&lt;/p>
&lt;p>In practice, you&amp;rsquo;ll want to make predictions for new houses coming on the market rather than the houses we already have prices for. But we&amp;rsquo;ll make predictions for the first few rows of the training data to see how the predict function works.&lt;/p>
&lt;p>The scikit-learn library has a function &lt;code>train_test_split&lt;/code> to break up the data into two pieces. We&amp;rsquo;ll use some of that data as training data to fit the model, and we&amp;rsquo;ll use the other data as validation data to calculate &lt;code>mean_absolute_error&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">sklearn.model_selection&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">train_test_split&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># split data into training and validation data, for both features and target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># The split is based on a random number generator. Supplying a numeric value to&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># the random_state argument guarantees we get the same split every time we&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># run this script.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">train_X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">val_X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">train_y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">val_y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">train_test_split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">random_state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Define model&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">melbourne_model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">DecisionTreeRegressor&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Fit model&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">melbourne_model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">train_X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">train_y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># get predicted prices on validation data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">val_predictions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">melbourne_model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">predict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">val_X&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mean_absolute_error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">val_y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">val_predictions&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Since we care about accuracy on new data, which we estimate from our validation data, we want to find the sweet spot between underfitting and overfitting. Visually, we want the low point of the (red) validation curve in the figure below.&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220201221001169.png"
loading="lazy"
alt="image-20220201221001169"
>&lt;/p>
&lt;h2 id="pipeline">pipeline
&lt;/h2>&lt;p>&lt;strong>Pipelines&lt;/strong> are a simple way to keep your data preprocessing and modeling code organized. Specifically, a pipeline bundles preprocessing and modeling steps so you can use the whole bundle as if it were a single step.&lt;/p>
&lt;h2 id="cross-validation">Cross-validation
&lt;/h2>&lt;p>In &lt;strong>cross-validation&lt;/strong>, we run our modeling process on different subsets of the data to get multiple measures of model quality.&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220207221137378.png"
loading="lazy"
alt="image-20220207221137378"
>&lt;/p>
&lt;h2 id="deep-learning">Deep Learning
&lt;/h2>&lt;p>&lt;strong>Deep learning&lt;/strong> is an approach to machine learning characterized by deep stacks of computations. This depth of computation is what has enabled deep learning models to disentangle the kinds of complex and hierarchical patterns found in the most challenging real-world datasets.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">tensorflow&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">keras&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">tensorflow.keras&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">layers&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Create a network with 1 linear unit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">keras&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Sequential&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">layers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Dense&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">units&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">input_shape&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>With the first argument, &lt;code>units&lt;/code>, we define how many outputs we want.&lt;/p>
&lt;p>With the second argument, &lt;code>input_shape&lt;/code>, we tell Keras the dimensions of the inputs.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Many Kinds of Layers&lt;/strong>
A &amp;ldquo;layer&amp;rdquo; in Keras is a very general kind of thing. A layer can be, essentially, any kind of &lt;em>data transformation&lt;/em>. Many layers, like the &lt;a class="link" href="https://www.tensorflow.org/api_docs/python/tf/keras/layers/Conv2D" target="_blank" rel="noopener"
>convolutional&lt;/a> and &lt;a class="link" href="https://www.tensorflow.org/api_docs/python/tf/keras/layers/RNN" target="_blank" rel="noopener"
>recurrent&lt;/a> layers, transform data through use of neurons and differ primarily in the pattern of connections they form. Others though are used for &lt;a class="link" href="https://www.tensorflow.org/api_docs/python/tf/keras/layers/Embedding" target="_blank" rel="noopener"
>feature engineering&lt;/a> or just &lt;a class="link" href="https://www.tensorflow.org/api_docs/python/tf/keras/layers/Add" target="_blank" rel="noopener"
>simple arithmetic&lt;/a>. There&amp;rsquo;s a whole world of layers to discover &amp;ndash; &lt;a class="link" href="https://www.tensorflow.org/api_docs/python/tf/keras/layers" target="_blank" rel="noopener"
>check them out&lt;/a>!&lt;/p>
&lt;/blockquote>
&lt;p>It turns out, however, that two dense layers with nothing in between are no better than a single dense layer by itself. Dense layers by themselves can never move us out of the world of lines and planes. What we need is something &lt;em>nonlinear&lt;/em>. What we need are activation functions.&lt;/p>
&lt;p>&lt;em>Without activation functions, neural networks can only learn linear relationships. In order to fit curves, we&amp;rsquo;ll need to use activation functions.&lt;/em>&lt;/p>
&lt;p>An &lt;strong>activation function&lt;/strong> is simply some function we apply to each of a layer&amp;rsquo;s outputs (its &lt;em>activations&lt;/em>). The most common is the &lt;em>rectifier&lt;/em> function max(0,x)max(0,x).&lt;/p>
&lt;h2 id="stochastic-gradient-descent">Stochastic Gradient Descent
&lt;/h2>&lt;p>In addition to the training data, we need two more things:&lt;/p>
&lt;ul>
&lt;li>A &amp;ldquo;loss function&amp;rdquo; that measures how good the network&amp;rsquo;s predictions are.&lt;/li>
&lt;li>An &amp;ldquo;optimizer&amp;rdquo; that can tell the network how to change its weights.&lt;/li>
&lt;/ul>
&lt;p>The optimizer is an algorithm that adjusts the weights to minimize the loss.&lt;/p>
&lt;p>Virtually all of the optimization algorithms used in deep learning belong to a family called &lt;strong>stochastic gradient descent&lt;/strong>. They are iterative algorithms that train a network in steps. One &lt;strong>step&lt;/strong> of training goes like this:&lt;/p>
&lt;ol>
&lt;li>Sample some training data and run it through the network to make predictions.&lt;/li>
&lt;li>Measure the loss between the predictions and the true values.&lt;/li>
&lt;li>Finally, adjust the weights in a direction that makes the loss smaller.&lt;/li>
&lt;/ol>
&lt;p>Then just do this over and over until the loss is as small as you like (or until it won&amp;rsquo;t decrease any further.)&lt;/p>
&lt;p>Each iteration&amp;rsquo;s sample of training data is called a &lt;strong>minibatch&lt;/strong> (or often just &amp;ldquo;batch&amp;rdquo;), while a complete round of the training data is called an &lt;strong>epoch&lt;/strong>. The number of epochs you train for is how many times the network will see each training example.&lt;/p>
&lt;p>After defining a model, you can add a loss function and optimizer with the model&amp;rsquo;s &lt;code>compile&lt;/code> method:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">compile&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;adam&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;mae&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="overfitting-and-underfitting">overfitting and underfitting
&lt;/h2>&lt;p>A model&amp;rsquo;s &lt;strong>capacity&lt;/strong> refers to the size and complexity of the patterns it is able to learn. For neural networks, this will largely be determined by how many neurons it has and how they are connected together. If it appears that your network is underfitting the data, you should try increasing its capacity.&lt;/p>
&lt;p>You can increase the capacity of a network either by making it &lt;em>wider&lt;/em> (more units to existing layers) or by making it &lt;em>deeper&lt;/em> (adding more layers). Wider networks have an easier time learning more linear relationships, while deeper networks prefer more nonlinear ones. Which is better just depends on the dataset.&lt;/p>
&lt;h2 id="other-kind-of-layers-beside-dense-layer">other kind of layers beside dense layer
&lt;/h2>&lt;h3 id="dropout-layer">dropout layer
&lt;/h3>&lt;p>can help correct overfitting.&lt;/p>
&lt;p>To break up these conspiracies, we randomly &lt;em>drop out&lt;/em> some fraction of a layer&amp;rsquo;s input units every step of training, making it much harder for the network to learn those spurious patterns in the training data. Instead, it has to search for broad, general patterns, whose weight patterns tend to be more robust.&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/a86utxY.gif"
loading="lazy"
alt="An animation of a network cycling through various random dropout configurations."
>&lt;/p>
&lt;p>In Keras, the dropout rate argument &lt;code>rate&lt;/code> defines what percentage of the input units to shut off. Put the &lt;code>Dropout&lt;/code> layer just before the layer you want the dropout applied to:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">keras&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Sequential&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">layers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Dropout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rate&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.3&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="c1"># apply 30% dropout to the next layer&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">layers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Dense&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>When adding dropout, you may need to increase the number of units in your &lt;code>Dense&lt;/code> layers.&lt;/p>
&lt;h2 id="classification">Classification
&lt;/h2>&lt;p>&lt;strong>Accuracy&lt;/strong> is one of the many metrics in use for measuring success on a classification problem. Accuracy is the ratio of correct predictions to total predictions: &lt;code>accuracy = number_correct / total&lt;/code>. A model that always predicted correctly would have an accuracy score of &lt;code>1.0&lt;/code>. All else being equal, accuracy is a reasonable metric to use whenever the classes in the dataset occur with about the same frequency.&lt;/p>
&lt;p>The problem with accuracy (and most other classification metrics) is that it can&amp;rsquo;t be used as a loss function. SGD needs a loss function that changes smoothly, but accuracy, being a ratio of counts, changes in &amp;ldquo;jumps&amp;rdquo;. So, we have to choose a substitute to act as the loss function. This substitute is the &lt;em>cross-entropy&lt;/em> function.&lt;/p>
&lt;p>Now, recall that the loss function defines the &lt;em>objective&lt;/em> of the network during training. With regression, our goal was to minimize the distance between the expected outcome and the predicted outcome. We chose MAE to measure this distance.&lt;/p>
&lt;p>For classification, what we want instead is a distance between &lt;em>probabilities&lt;/em>, and this is what cross-entropy provides. &lt;strong>Cross-entropy&lt;/strong> is a sort of measure for the distance from one probability distribution to another.&lt;/p>
&lt;h2 id="reinforcement-learning">Reinforcement Learning
&lt;/h2>&lt;p>This idea of using reward to track the performance of an agent is a core idea in the field of reinforcement learning. Once we define the problem in this way, we can use any of a variety of reinforcement learning algorithms to produce an agent.&lt;/p>
&lt;h2 id="computer-vision">Computer Vision
&lt;/h2>&lt;p>&lt;img src="https://i.imgur.com/U0n5xjU.png"
loading="lazy"
alt="The parts of a convnet: image, base, head, class; input, extract, classify, output."
>&lt;/p>
&lt;p>A convnet used for image classification consists of two parts: a &lt;strong>convolutional base&lt;/strong> and a &lt;strong>dense head&lt;/strong>.&lt;/p>
&lt;p>The base is used to &lt;strong>extract the features&lt;/strong> from an image. It is formed primarily of layers performing the convolution operation, but often includes other kinds of layers as well.&lt;/p>
&lt;p>The head is used to &lt;strong>determine the class&lt;/strong> of the image. It is formed primarily of dense layers, but might include other layers like dropout.&lt;/p>
&lt;p>The goal of the network during training is to learn two things:&lt;/p>
&lt;ol>
&lt;li>which features to extract from an image (base),&lt;/li>
&lt;li>which class goes with what features (head).&lt;/li>
&lt;/ol>
&lt;p>These days, convnets are rarely trained from scratch. More often, we &lt;strong>reuse the base of a pretrained model&lt;/strong>. To the pretrained base we then &lt;strong>attach an untrained head&lt;/strong>. In other words, we reuse the part of a network that has already learned to do &lt;em>1. Extract features&lt;/em>, and attach to it some fresh layers to learn &lt;em>2. Classify&lt;/em>&lt;/p>
&lt;p>The most commonly used dataset for pretraining is &lt;a class="link" href="http://image-net.org/about-overview" target="_blank" rel="noopener"
>&lt;em>ImageNet&lt;/em>&lt;/a>, a large dataset of many kind of natural images. Keras includes a variety models pretrained on ImageNet in its &lt;a class="link" href="https://www.tensorflow.org/api_docs/python/tf/keras/applications" target="_blank" rel="noopener"
>&lt;code>applications&lt;/code> module&lt;/a>.&lt;/p>
&lt;h2 id="feature-extraction">Feature Extraction
&lt;/h2>&lt;p>The &lt;strong>feature extraction&lt;/strong> performed by the base consists of &lt;strong>three basic operations&lt;/strong>:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Filter&lt;/strong> an image for a particular feature (convolution)&lt;/li>
&lt;li>&lt;strong>Detect&lt;/strong> that feature within the filtered image (ReLU)&lt;/li>
&lt;li>&lt;strong>Condense&lt;/strong> the image to enhance the features (maximum pooling)&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://i.imgur.com/IYO9lqp.png"
loading="lazy"
alt="An example of the feature extraction process."
>&lt;/p>
&lt;p>The &lt;strong>weights&lt;/strong> a convnet learns during training are primarily contained in its convolutional layers. These weights we call &lt;strong>kernels&lt;/strong>. We can represent them as small arrays:&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/uJfD9r9.png"
loading="lazy"
alt="A 3x3 kernel."
>&lt;/p>
&lt;p>A kernel operates by scanning over an image and producing a &lt;em>weighted sum&lt;/em> of pixel values. In this way, a kernel will act sort of like a polarized lens, emphasizing or deemphasizing certain patterns of information.&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/j3lk26U.png"
loading="lazy"
alt="A kernel acts as a kind of lens."
>A kernel acts as a kind of lens.&lt;/p>
&lt;p>Kernels define how a convolutional layer is connected to the layer that follows. The kernel above will connect each neuron in the output to nine neurons in the input. By setting the dimensions of the kernels with &lt;code>kernel_size&lt;/code>, you are telling the convnet how to form these connections. Most often, a kernel will have odd-numbered dimensions &amp;ndash; like &lt;code>kernel_size=(3, 3)&lt;/code> or &lt;code>(5, 5)&lt;/code> &amp;ndash; so that a single pixel sits at the center, but this is not a requirement.&lt;/p>
&lt;p>The kernels in a convolutional layer determine what kinds of features it creates. During training, a convnet tries to learn what features it needs to solve the classification problem. This means finding the best values for its kernels.&lt;/p>
&lt;p>The &lt;strong>activations&lt;/strong> in the network we call &lt;strong>feature maps&lt;/strong>. They are what result when we apply a filter to an image; they contain the visual features the kernel extracts. Here are a few kernels pictured with feature maps they produced.&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/JxBwchH.png"
loading="lazy"
alt="Three kernels and the feature maps they produce."
>Kernels and features.&lt;/p>
&lt;p>From the pattern of numbers in the kernel, you can tell the kinds of feature maps it creates. Generally, what a convolution accentuates in its inputs will match the shape of the &lt;em>positive&lt;/em> numbers in the kernel. The left and middle kernels above will both filter for horizontal shapes.&lt;/p>
&lt;p>With the &lt;code>filters&lt;/code> parameter, you tell the convolutional layer how many feature maps you want it to create as output.&lt;/p>
&lt;p>Notice that after applying the ReLU function (&lt;strong>Detect&lt;/strong>) the feature map ends up with a lot of &amp;ldquo;dead space,&amp;rdquo; that is, large areas containing only 0&amp;rsquo;s (the black areas in the image). Having to carry these 0 activations through the entire network would increase the size of the model without adding much useful information. Instead, we would like to &lt;em>condense&lt;/em> the feature map to retain only the most useful part &amp;ndash; the feature itself.&lt;/p>
&lt;p>This in fact is what &lt;strong>maximum pooling&lt;/strong> does. Max pooling takes a patch of activations in the original feature map and replaces them with the maximum activation in that patch.&lt;/p>
&lt;p>The pooling step increases the proportion of active pixels to zero pixels.&lt;/p>
&lt;p>In fact, the zero-pixels carry &lt;em>positional information&lt;/em>. The blank space still positions the feature within the image. When &lt;code>MaxPool2D&lt;/code> removes some of these pixels, it removes some of the positional information in the feature map. This gives a convnet a property called &lt;strong>translation invariance&lt;/strong>. This means that a convnet with maximum pooling will tend not to distinguish features by their &lt;em>location&lt;/em> in the image.&lt;/p>
&lt;p>We mentioned in the previous exercise that average pooling has largely been superceeded by maximum pooling within the convolutional base. There is, however, a kind of average pooling that is still widely used in the &lt;em>head&lt;/em> of a convnet. This is &lt;strong>global average pooling&lt;/strong>. A &lt;code>GlobalAvgPool2D&lt;/code> layer is often used as an alternative to some or all of the hidden &lt;code>Dense&lt;/code> layers in the head of the network&lt;/p>
&lt;p>There are two additional parameters affecting both convolution and pooling layers &amp;ndash; these are the &lt;code>strides&lt;/code> of the window and whether to use &lt;code>padding&lt;/code> at the image edges. The &lt;code>strides&lt;/code> parameter says how far the window should move at each step, and the &lt;code>padding&lt;/code> parameter describes how we handle the pixels at the edges of the input.&lt;/p>
&lt;p>.&lt;/p>
&lt;p>Increasing the stride means that we miss out on potentially valuble information in our summary. Maximum pooling layers, however, will almost always have stride values greater than 1, like &lt;code>(2, 2)&lt;/code> or &lt;code>(3, 3)&lt;/code>, but not larger than the window itself.&lt;/p>
&lt;p>What the convolution does with these boundary values is determined by its &lt;code>padding&lt;/code> parameter. In TensorFlow, you have two choices: either &lt;code>padding='same'&lt;/code> or &lt;code>padding='valid'&lt;/code>. There are trade-offs with each.&lt;/p>
&lt;p>When we set &lt;code>padding='valid'&lt;/code>, the convolution window will stay entirely inside the input. The drawback is that the output shrinks (loses pixels), and shrinks more for larger kernels. This will limit the number of layers the network can contain, especially when inputs are small in size.&lt;/p>
&lt;p>The alternative is to use &lt;code>padding='same'&lt;/code>. The trick here is to &lt;strong>pad&lt;/strong> the input with 0&amp;rsquo;s around its borders, using just enough 0&amp;rsquo;s to make the size of the output the &lt;em>same&lt;/em> as the size of the input. This can have the effect however of diluting the influence of pixels at the borders. The animation below shows a sliding window with &lt;code>'same'&lt;/code> padding.&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/RvGM2xb.gif"
loading="lazy"
alt="Illustration of zero (same) padding."
>&lt;/p>
&lt;p>The VGG model we&amp;rsquo;ve been looking at uses &lt;code>same&lt;/code> padding for all of its convolutional layers. Most modern convnets will use some combination of the two.&lt;/p>
&lt;p>. A single round of feature extraction can only extract relatively simple features from an image, things like simple lines or contrasts. These are too simple to solve most classification problems. Instead, convnets will repeat this extraction over and over, so that the features become more complex and refined as they travel deeper into the network.&lt;/p>
&lt;p>It does this by passing them through long chains of &lt;strong>convolutional blocks&lt;/strong> which perform this extraction.&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/pr8VwCZ.png"
loading="lazy"
alt="Extraction as a sequence of blocks."
>&lt;/p>
&lt;p>These convolutional blocks are stacks of &lt;code>Conv2D&lt;/code> and &lt;code>MaxPool2D&lt;/code> layers, whose role in feature extraction we learned about in the last few lessons.&lt;/p>
&lt;p>&lt;img src="https://i.imgur.com/8D6IhEw.png"
loading="lazy"
alt="A kind of extraction block: convolution, ReLU, pooling."
>&lt;/p>
&lt;p>Each block represents a round of extraction, and by composing these blocks the convnet can combine and recombine the features produced, growing them and shaping them to better fit the problem at hand. The deep structure of modern convnets is what allows this sophisticated feature engineering and has been largely responsible for their superior performance.&lt;/p></description></item><item><title>【Kaggle】Concepts</title><link>https://dyhes.github.io/p/kaggleconcepts/</link><pubDate>Mon, 08 Aug 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/kaggleconcepts/</guid><description>&lt;p>Kaggle is a cloud computational environment that enables reproducible and collaborative analysis&lt;/p>
&lt;h2 id="types-of-noteboooks">Types of Noteboooks
&lt;/h2>&lt;h3 id="script">Script
&lt;/h3>&lt;p>Scripts are files that execute everything as code sequentially. To start a script, click on “Create Notebook” and select “Script”. This will open the Scripts editing interface.&lt;/p>
&lt;h3 id="notebooks">Notebooks
&lt;/h3>&lt;p>The last type is Jupyter notebooks (usually just “notebooks”). Jupyter notebooks consist of a sequence of cells, where each cell is formatted in either Markdown (for writing text) or in a programming language of your choice (for writing code). To start a notebook, click on “Create Notebook”, and select “Notebook”. This will open the Notebooks editing interface.&lt;/p>
&lt;h2 id="datasets-and-competitions">Datasets and Competitions
&lt;/h2>&lt;p>Data on Kaggle is available through either Datasets or our Competitions.&lt;/p>
&lt;p>There are two ways of loading a Dataset in a Notebook. The first is to navigate to a chosen dataset’s landing page, then click on the &lt;a class="link" href="https://www.kaggle.com/notebooks?modal=true" target="_blank" rel="noopener"
>“New Notebook” button&lt;/a>. This will launch a new Notebook session with the dataset in question spun up and ready to go.&lt;/p>
&lt;p>Alternatively, you may wish to add datasets after creating your Notebook. To do that, navigate to the “Data” pane in a Notebook editor and click the “Add Data” button. This will open a modal that lets you select Datasets to add to your Notebook.&lt;/p>
&lt;p>You will notice that there is a third option in the “Add Data” modal: Notebook Output Files.&lt;/p>
&lt;p>Up to 20 GBs of output from a Notebook may be saved to disk in /kaggle/working. This data is saved automatically and you can then reuse that data in any future Notebook: just navigate to the “Data” pane in a Notebook editor, click on “Add Data”, click on the &amp;ldquo;Notebook Output Files&amp;rdquo; tab, find a Notebook of interest, and then click to add it to your current Notebook.&lt;/p>
&lt;p>By chaining Notebooks as data sources in this way, it’s possible to build &lt;strong>pipelines&lt;/strong> and generate more and better content than you could in a single notebook alone.&lt;/p>
&lt;h2 id="editor">Editor
&lt;/h2>&lt;p>Kaggle Notebooks may be created and edited via the Notebook editor. On larger screens, the Notebook editor consists of three parts:&lt;/p>
&lt;ul>
&lt;li>An editing window&lt;/li>
&lt;li>A console&lt;/li>
&lt;li>A settings window&lt;/li>
&lt;/ul>
&lt;h2 id="collaboration">Collaboration
&lt;/h2>&lt;p>From your Notebook editor or viewer, public or private, you may navigate to the &amp;lsquo;Share&amp;rsquo; or &amp;lsquo;Sharing&amp;rsquo; button in the Notebook’s menu to expose, among other settings, the Collaborators options. There, use the search box to find and add other users as Notebook collaborators.&lt;/p>
&lt;p>If your Notebook is private, you may choose between giving Collaborators either viewing privileges (“Can view”) or editing privileges (“Can edit”). If your Notebook is public, Collaborators can only be added with editing privileges (“Can edit”), as anyone can view it already.&lt;/p>
&lt;p>When you add a collaborator, they will receive a notification via email.&lt;/p>
&lt;p>Your Notebook collaborators won’t automatically have the same access to any private Datasets as you unless they are explicitly invited to collaborate on the Dataset. Anyone has access to Datasets shared publicly.&lt;/p>
&lt;h2 id="environment">Environment
&lt;/h2>&lt;p>Notebooks is more than just a code editor. It’s a versioned computational environment designed to make it easy to reproduce data science work. In the Notebooks IDE, you have access to an interactive session running in a Docker container with pre-installed packages, the ability to mount versioned data sources, customizable compute resources like GPUs, and more.&lt;/p>
&lt;h3 id="modifying-a-notebook-specific-environment">Modifying a Notebook-specific Environment
&lt;/h3>&lt;p>It is also possible to modify the Docker container associated with the current Notebook image.&lt;/p>
&lt;h4 id="using-a-standard-package-installer">Using a standard package installer
&lt;/h4>&lt;p>In the Notebook Editor, &lt;strong>make sure &amp;ldquo;Internet&amp;rdquo; is enabled&lt;/strong> in the Settings pane (it will be by default if it&amp;rsquo;s a new notebook).&lt;/p>
&lt;p>For Python, you can &lt;strong>run&lt;/strong> &lt;strong>arbitrary shell commands&lt;/strong> &lt;strong>by prepending ! to a code cell&lt;/strong>. For instance, to install a new package using pip, run &lt;code>!pip install my-new-package&lt;/code>. You can also upgrade or downgrade an existing package by running &lt;code>!pip install my-existing-package==X.Y.Z&lt;/code>.&lt;/p></description></item><item><title>【设计模式】概览</title><link>https://dyhes.github.io/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A6%82%E8%A7%88/</link><pubDate>Sat, 06 Aug 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A6%82%E8%A7%88/</guid><description>&lt;h2 id="设计模式">设计模式
&lt;/h2>&lt;p>设计模式，即Design Patterns，是指在软件设计中，被反复使用的一种代码设计经验。使用设计模式的目的是为了可重用代码，提高代码的可扩展性和可维护性。。&lt;/p>
&lt;h4 id="开闭原则">开闭原则
&lt;/h4>&lt;p>由Bertrand Meyer提出的开闭原则（Open Closed Principle）是指，软件应该对扩展开放，而对修改关闭。这里的意思是在增加新功能的时候，能不改代码就尽量不要改，如果只增加代码就完成了新功能，那是最好的。&lt;/p>
&lt;h4 id="里氏替换原则">里氏替换原则
&lt;/h4>&lt;p>里氏替换原则是Barbara Liskov提出的，这是一种面向对象的设计原则，即如果我们调用一个父类的方法可以成功，那么替换成子类调用也应该完全可以运行。&lt;/p>
&lt;p>学习设计模式，关键是学习设计思想，不能简单地生搬硬套，也不能为了使用设计模式而过度设计，要合理平衡设计的复杂度和灵活性，并意识到设计模式也并不是万能的。&lt;/p>
&lt;h2 id="创建型模式">创建型模式
&lt;/h2>&lt;p>创建型模式关注点是如何创建对象，其核心思想是要把对象的创建和使用相分离，这样使得两者能相对独立地变换。&lt;/p>
&lt;p>创建型模式包括：&lt;/p>
&lt;ul>
&lt;li>工厂方法：Factory Method&lt;/li>
&lt;li>抽象工厂：Abstract Factory&lt;/li>
&lt;li>建造者：Builder&lt;/li>
&lt;li>原型：Prototype&lt;/li>
&lt;li>单例：Singleton&lt;/li>
&lt;/ul>
&lt;h4 id="工厂方法">工厂方法
&lt;/h4>&lt;pre tabindex="0">&lt;code class="language-ascii" data-lang="ascii">┌─────────────┐ ┌─────────────┐
│ Product │ │ Factory │
└─────────────┘ └─────────────┘
▲ ▲
│ │
┌─────────────┐ ┌─────────────┐
│ ProductImpl │&amp;lt;─ ─ ─│ FactoryImpl │
└─────────────┘ └─────────────┘
&lt;/code>&lt;/pre>&lt;p>工厂方法即Factory Method，是一种对象创建型模式。&lt;/p>
&lt;p>工厂方法的目的是使得创建对象和使用对象是分离的，并且客户端总是引用抽象工厂和抽象产品&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">NumberFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 创建方法:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Number&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">parse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 获取工厂实例:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">NumberFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getFactory&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">impl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">NumberFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">impl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">NumberFactoryImpl&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>调用方可以完全忽略真正的工厂&lt;code>NumberFactoryImpl&lt;/code>和实际的产品&lt;code>BigDecimal&lt;/code>，这样做的好处是允许创建产品的代码独立地变换，而不会影响到调用方。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">NumberFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Number&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">parse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">BigDecimal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>实际上大多数情况下我们并不需要抽象工厂，而是通过静态方法直接返回产品，这种简化的使用静态方法创建产品的方式称为静态工厂方法（Static Factory Method）。&lt;/p>
&lt;h4 id="抽象工厂">抽象工厂
&lt;/h4>&lt;p>抽象工厂模式和工厂方法不太一样，它要解决的问题比较复杂，不但工厂是抽象的，产品是抽象的，而且有多个产品需要创建，因此，这个抽象工厂会对应到多个实际工厂，每个实际工厂负责创建多个实际产品：&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-ascii" data-lang="ascii"> ┌────────┐
─ &amp;gt;│ProductA│
┌────────┐ ┌─────────┐ │ └────────┘
│ Client │─ ─&amp;gt;│ Factory │─ ─
└────────┘ └─────────┘ │ ┌────────┐
▲ ─ &amp;gt;│ProductB│
┌───────┴───────┐ └────────┘
│ │
┌─────────┐ ┌─────────┐
│Factory1 │ │Factory2 │
└─────────┘ └─────────┘
│ ┌─────────┐ │ ┌─────────┐
─ &amp;gt;│ProductA1│ ─ &amp;gt;│ProductA2│
│ └─────────┘ │ └─────────┘
┌─────────┐ ┌─────────┐
└ ─&amp;gt;│ProductB1│ └ ─&amp;gt;│ProductB2│
└─────────┘ └─────────┘
&lt;/code>&lt;/pre>&lt;p>这种模式有点类似于多个供应商负责提供一系列类型的产品。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//接口&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">AbstractFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 创建Html文档:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createHtml&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 创建Word文档:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">WordDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createWord&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// Html文档接口:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">HtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">toHtml&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// Word文档接口:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">WordDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//fast实现&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">FastHtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">toHtml&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">FastWordDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">WordDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Path&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">FastFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AbstractFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createHtml&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FastHtmlDocument&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">WordDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createWord&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FastWordDocument&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//good实现&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">GoodFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AbstractFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createHtml&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GoodHtmlDocument&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">WordDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createWord&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GoodWordDocument&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">md&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// 实际产品:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">GoodHtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">GoodWordDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HtmlDocument&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//alternative&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">AbstractFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AbstractFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">createFactory&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equalsIgnoreCase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;fast&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FastFactory&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">equalsIgnoreCase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;good&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">GoodFactory&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IllegalArgumentException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Invalid factory name&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="建造者">建造者
&lt;/h4>&lt;blockquote>
&lt;p>将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。&lt;/p>
&lt;/blockquote>
&lt;p>生成器模式（Builder）是使用多个“小型”工厂来最终创建出一个完整对象。&lt;/p>
&lt;p>当我们使用Builder的时候，一般来说，是因为创建这个对象的步骤比较多，每个步骤都需要一个零部件，最终组合成一个完整的对象。&lt;/p>
&lt;h4 id="原型">原型
&lt;/h4>&lt;blockquote>
&lt;p>用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。&lt;/p>
&lt;/blockquote>
&lt;p>原型模式，即Prototype，是指创建新对象的时候，根据现有的一个原型来创建。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Student&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">score&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Student&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">copy&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Student&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Student&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">score&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">score&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="单例">单例
&lt;/h4>&lt;blockquote>
&lt;p>保证一个类仅有一个实例，并提供一个访问它的全局访问点。&lt;/p>
&lt;/blockquote>
&lt;p>单例模式（Singleton）的目的是为了保证在一个进程中，某个类有且仅有一个实例。&lt;/p>
&lt;p>因为这个类只有一个实例，因此，自然不能让调用方使用&lt;code>new Xyz()&lt;/code>来创建实例了。所以，单例的构造方法必须是&lt;code>private&lt;/code>，这样就防止了调用方自己创建实例，但是在类的内部，是可以用一个静态字段来引用唯一创建的实例的&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Singleton&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 静态字段引用唯一实例:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Singleton&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">INSTANCE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Singleton&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 通过静态方法返回实例:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Singleton&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getInstance&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">INSTANCE&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// private构造方法保证外部无法实例化:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Singleton&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>另一种实现Singleton的方式是利用Java的&lt;code>enum&lt;/code>，因为Java保证枚举类的每个枚举都是单例，所以我们只需要编写一个只有一个枚举的类即可：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">enum&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">World&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 唯一枚举:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">INSTANCE&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;world&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>实际上，很多程序，尤其是Web程序，大部分服务类都应该被视作Singleton，如果全部按Singleton的写法写，会非常麻烦，所以，通常是通过约定让框架（例如Spring）来实例化这些类，保证只有一个实例，调用方自觉通过框架获取实例而不是&lt;code>new&lt;/code>操作符，因此，除非确有必要，否则Singleton模式一般以“约定”为主，不会刻意实现它。&lt;/p>
&lt;h2 id="结构型模式">结构型模式
&lt;/h2>&lt;p>结构型模式主要涉及如何组合各种对象以便获得更好、更灵活的结构。虽然面向对象的继承机制提供了最基本的子类扩展父类的功能，但结构型模式不仅仅简单地使用继承，而更多地通过组合与运行期的动态组合来实现更灵活的功能。&lt;/p>
&lt;p>结构型模式有：&lt;/p>
&lt;ul>
&lt;li>适配器&lt;/li>
&lt;li>桥接&lt;/li>
&lt;li>组合&lt;/li>
&lt;li>装饰器&lt;/li>
&lt;li>外观&lt;/li>
&lt;li>享元&lt;/li>
&lt;li>代理&lt;/li>
&lt;/ul>
&lt;h4 id="适配器">适配器
&lt;/h4>&lt;blockquote>
&lt;p>将一个类的接口转换成客户希望的另外一个接口，使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Task&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">num&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">call&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">num&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Result: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">callable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">123450000L&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">callable&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// compile error!&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">thread&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">RunnableAdapter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Runnable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 引用待转换接口:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">callable&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">RunnableAdapter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">callable&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">callable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">callable&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 实现指定接口:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">run&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 将指定接口调用委托给转换接口调用:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">callable&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">call&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RuntimeException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Long&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">callable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Task&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">123450000L&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RunnableAdapter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">callable&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">thread&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>InputStreamReader&lt;/code>就是Java标准库提供的&lt;code>Adapter&lt;/code>，它负责把一个&lt;code>InputStream&lt;/code>适配为&lt;code>Reader&lt;/code>。类似的还有&lt;code>OutputStreamWriter&lt;/code>。&lt;/p>
&lt;h4 id="桥接">桥接
&lt;/h4>&lt;blockquote>
&lt;p>将抽象部分与它的实现部分分离，使它们都可以独立地变化。&lt;/p>
&lt;/blockquote>
&lt;p>桥接模式就是为了避免直接继承带来的子类爆炸。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">abstract&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Car&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 引用Engine:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Engine&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">engine&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Car&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Engine&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">engine&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">engine&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">engine&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">abstract&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">drive&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Engine&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">start&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">abstract&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">RefinedCar&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Car&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">RefinedCar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Engine&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">engine&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">engine&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">drive&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">engine&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Drive &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">getBrand&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; car...&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">abstract&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getBrand&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这样一来，最终的不同品牌继承自&lt;code>RefinedCar&lt;/code>，例如&lt;code>BossCar&lt;/code>：&lt;/p>
&lt;pre tabindex="0">&lt;code>public class BossCar extends RefinedCar {
public BossCar(Engine engine) {
super(engine);
}
public String getBrand() {
return &amp;#34;Boss&amp;#34;;
}
}
&lt;/code>&lt;/pre>&lt;p>而针对每一种引擎，继承自&lt;code>Engine&lt;/code>，例如&lt;code>HybridEngine&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">HybridEngine&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Engine&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">start&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Start Hybrid Engine...&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>客户端通过自己选择一个品牌，再配合一种引擎，得到最终的Car：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">RefinedCar&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">car&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">BossCar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HybridEngine&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">car&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">drive&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>使用桥接模式的好处在于，如果要增加一种引擎，只需要针对&lt;code>Engine&lt;/code>派生一个新的子类，如果要增加一个品牌，只需要针对&lt;code>RefinedCar&lt;/code>派生一个子类，任何&lt;code>RefinedCar&lt;/code>的子类都可以和任何一种&lt;code>Engine&lt;/code>自由组合，即一辆汽车的两个维度：品牌和引擎都可以独立地变化。&lt;/p>
&lt;h4 id="组合">组合
&lt;/h4>&lt;blockquote>
&lt;p>将对象组合成树形结构以表示“部分-整体”的层次结构，使得用户对单个对象和组合对象的使用具有一致性。&lt;/p>
&lt;/blockquote>
&lt;p>组合模式（Composite）经常用于树形结构，为了简化代码，使用Composite可以把一个叶子节点与一个父节点统一起来处理。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 添加一个节点为子节点:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 获取子节点:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">children&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 输出为XML:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">toXml&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ElementNode&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">ElementNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">children&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">toXml&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;gt;\n&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;/&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;gt;\n&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">StringJoiner&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sj&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">StringJoiner&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">forEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toXml&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;\n&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">});&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">TextNode&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">TextNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">text&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UnsupportedOperationException&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">children&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">toXml&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="装饰器">装饰器
&lt;/h4>&lt;blockquote>
&lt;p>动态地给一个对象添加一些额外的职责。就增加功能来说，相比生成子类更为灵活。&lt;/p>
&lt;/blockquote>
&lt;p>装饰器（Decorator）模式，是一种在运行期动态给某个对象的实例&lt;strong>增加功能&lt;/strong>的方法。&lt;/p>
&lt;p>在Java标准库中，&lt;code>InputStream&lt;/code>是抽象类，&lt;code>FileInputStream&lt;/code>、&lt;code>ServletInputStream&lt;/code>、&lt;code>Socket.getInputStream()&lt;/code>这些&lt;code>InputStream&lt;/code>都是最终数据源。&lt;/p>
&lt;p>现在，如果要给不同的最终数据源增加缓冲功能、计算签名功能、加密解密功能，那么，3个最终数据源、3种功能一共需要9个子类。如果继续增加最终数据源，或者增加新功能，子类会爆炸式增长，这种设计方式显然是不可取的。&lt;/p>
&lt;p>Decorator模式的目的就是把一个一个的附加功能，用Decorator的方式给一层一层地累加到原始数据源上，最终，通过组合获得我们想要的功能。&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-ascii" data-lang="ascii"> ┌───────────┐
│ Component │
└───────────┘
▲
┌────────────┼─────────────────┐
│ │ │
┌───────────┐┌───────────┐ ┌───────────┐
│ComponentA ││ComponentB │... │ Decorator │
└───────────┘└───────────┘ └───────────┘
▲
┌──────┴──────┐
│ │
┌───────────┐ ┌───────────┐
│DecoratorA │ │DecoratorB │...
└───────────┘ └───────────┘
&lt;/code>&lt;/pre>&lt;p>装饰器模式实际上实现了核心功能和附加功能的分离，使得两部分都可以独立地扩展，而具体如何附加功能，由调用方自由组合，从而极大地增强了灵活性。&lt;/p>
&lt;h4 id="外观">外观
&lt;/h4>&lt;blockquote>
&lt;p>为子系统中的一组接口提供一个一致的界面。Facade模式定义了一个高层接口，这个接口使得这一子系统更加容易使用。&lt;/p>
&lt;/blockquote>
&lt;p>如果客户端要跟许多子系统打交道，那么客户端需要了解各个子系统的接口，比较麻烦。如果有一个统一的“中介”，让客户端只跟中介打交道，中介再去跟各个子系统打交道，对客户端来说就比较简单。所以Facade就相当于搞了一个中介。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 工商注册:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">AdminOfIndustry&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Company&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">register&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// 银行开户:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Bank&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">openAccount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">companyId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// 纳税登记:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Taxation&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">applyTaxCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">companyId&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Facade&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Company&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">openCompany&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Company&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">admin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">register&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bankAccount&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">bank&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">openAccount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getId&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setBankAccount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bankAccount&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">taxCode&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">taxation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">applyTaxCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getId&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setTaxCode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">taxCode&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>很多Web程序，内部有多个子系统提供服务，经常使用一个统一的Facade入口，例如一个&lt;code>RestApiController&lt;/code>，使得外部用户调用的时候，只关心Facade提供的接口，不用管内部到底是哪个子系统处理的。&lt;/p>
&lt;p>更复杂的Web程序，会有多个Web服务，这个时候，经常会使用一个统一的网关入口来自动转发到不同的Web服务，这种提供统一入口的网关就是Gateway，它本质上也是一个Facade，但可以附加一些用户认证、限流限速的额外服务。&lt;/p>
&lt;h4 id="享元">享元
&lt;/h4>&lt;blockquote>
&lt;p>运用共享技术有效地支持大量细粒度的对象。&lt;/p>
&lt;/blockquote>
&lt;p>享元（Flyweight）的核心思想很简单：如果一个对象实例一经创建就不可变，那么反复创建相同的实例就没有必要，直接向调用方返回一个共享的实例就行，这样即节省内存，又可以减少创建对象的过程，提高运行速度。&lt;/p>
&lt;p>因此，享元模式就是通过工厂方法创建对象，在工厂方法内部，很可能返回缓存的实例，而不是新创建实例，从而实现不可变实例的复用&lt;/p>
&lt;p>在实际应用中，享元模式主要应用于缓存，即客户端如果重复请求某些对象，不必每次查询数据库或者读取文件，而是直接返回内存中缓存的数据。&lt;/p>
&lt;h4 id="代理">代理
&lt;/h4>&lt;blockquote>
&lt;p>为其他对象提供一种代理以控制对这个对象的访问。&lt;/p>
&lt;/blockquote>
&lt;h6 id="远程代理">远程代理
&lt;/h6>&lt;p>远程代理即Remote Proxy，本地的调用者持有的接口实际上是一个代理，这个代理负责把对接口的方法访问转换成远程调用，然后返回结果。Java内置的RMI机制就是一个完整的远程代理模式。&lt;/p>
&lt;h6 id="虚代理">虚代理
&lt;/h6>&lt;p>虚代理即Virtual Proxy，它让调用者先持有一个代理对象，但真正的对象尚未创建。如果没有必要，这个真正的对象是不会被创建的，直到客户端需要真的必须调用时，才创建真正的对象。JDBC的连接池返回的JDBC连接（Connection对象）就可以是一个虚代理，即获取连接时根本没有任何实际的数据库连接，直到第一次执行JDBC查询或更新操作时，才真正创建实际的JDBC连接。&lt;/p>
&lt;h6 id="保护代理">保护代理
&lt;/h6>&lt;p>保护代理即Protection Proxy，它用代理对象控制对原始对象的访问，常用于鉴权。&lt;/p>
&lt;h6 id="智能引用">智能引用
&lt;/h6>&lt;p>智能引用即Smart Reference，它也是一种代理对象，如果有很多客户端对它进行访问，通过内部的计数器可以在外部调用者都不使用后自动释放它。&lt;/p>
&lt;h2 id="行为型模式">行为型模式
&lt;/h2>&lt;p>行为型模式主要涉及算法和对象间的职责分配。通过使用对象组合，行为型模式可以描述一组对象应该如何协作来完成一个整体任务。&lt;/p>
&lt;p>行为型模式有：&lt;/p>
&lt;ul>
&lt;li>责任链&lt;/li>
&lt;li>命令&lt;/li>
&lt;li>解释器&lt;/li>
&lt;li>迭代器&lt;/li>
&lt;li>中介&lt;/li>
&lt;li>备忘录&lt;/li>
&lt;li>观察者&lt;/li>
&lt;li>状态&lt;/li>
&lt;li>策略&lt;/li>
&lt;li>模板方法&lt;/li>
&lt;li>访问者&lt;/li>
&lt;/ul>
&lt;h4 id="责任链">责任链
&lt;/h4>&lt;blockquote>
&lt;p>使多个对象都有机会处理请求，从而避免请求的发送者和接收者之间的耦合关系。将这些对象连成一条链，并沿着这条链传递该请求，直到有一个对象处理它为止。&lt;/p>
&lt;/blockquote>
&lt;p>责任链模式（Chain of Responsibility）是一种处理请求的模式，它让多个处理器都有机会处理该请求，直到其中某个处理成功为止。责任链模式把多个处理器串成链，然后让请求在链上传递&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-ascii" data-lang="ascii"> ┌─────────┐
│ Request │
└─────────┘
│
┌ ─ ─ ─ ─ ┼ ─ ─ ─ ─ ┐
▼
│ ┌─────────────┐ │
│ ProcessorA │
│ └─────────────┘ │
│
│ ▼ │
┌─────────────┐
│ │ ProcessorB │ │
└─────────────┘
│ │ │
▼
│ ┌─────────────┐ │
│ ProcessorC │
│ └─────────────┘ │
│
└ ─ ─ ─ ─ ┼ ─ ─ ─ ─ ┘
│
▼
&lt;/code>&lt;/pre>&lt;p>在实际场景中，财务审批就是一个责任链模式。假设某个员工需要报销一笔费用，审核者可以分为：&lt;/p>
&lt;ul>
&lt;li>Manager：只能审核1000元以下的报销；&lt;/li>
&lt;li>Director：只能审核10000元以下的报销；&lt;/li>
&lt;li>CEO：可以审核任意额度。&lt;/li>
&lt;/ul>
&lt;p>用责任链模式设计此报销流程时，每个审核者只关心自己责任范围内的请求，并且处理它。对于超出自己责任范围的，扔给下一个审核者处理，这样，将来继续添加审核者的时候，不用改动现有逻辑。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Request&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">BigDecimal&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">amount&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Request&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">BigDecimal&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">amount&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">amount&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">amount&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">BigDecimal&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getAmount&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">amount&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Handler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 返回Boolean.TRUE = 成功&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 返回Boolean.FALSE = 拒绝&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 返回null = 交下一个处理&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">process&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Request&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">ublic&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ManagerHandler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Handler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">process&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Request&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 如果超过1000元，处理不了，交下一个处理:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getAmount&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">compareTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BigDecimal&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">valueOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1000&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 对Bob有偏见:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">equalsIgnoreCase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;bob&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">HandlerChain&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 持有所有Handler:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Handler&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handlers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Handler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">handlers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">process&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Request&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 依次调用每个Handler:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Handler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handlers&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">process&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 如果返回TRUE或FALSE，处理结束:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Approved by &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;Denied by &amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">handler&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="na">getSimpleName&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RuntimeException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Could not handle request: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//也可由handler实行传递&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>还有一些责任链模式，每个&lt;code>Handler&lt;/code>都有机会处理&lt;code>Request&lt;/code>，通常这种责任链被称为拦截器（Interceptor）或者过滤器（Filter），它的目的不是找到某个&lt;code>Handler&lt;/code>处理掉&lt;code>Request&lt;/code>，而是每个&lt;code>Handler&lt;/code>都做一些工作，比如：&lt;/p>
&lt;ul>
&lt;li>记录日志；&lt;/li>
&lt;li>检查权限；&lt;/li>
&lt;li>准备相关资源；&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>例如，JavaEE的Servlet规范定义的&lt;code>Filter&lt;/code>就是一种责任链模式，它不但允许每个&lt;code>Filter&lt;/code>都有机会处理请求，还允许每个&lt;code>Filter&lt;/code>决定是否将请求“放行”给下一个&lt;code>Filter&lt;/code>。这种模式不但允许一个&lt;code>Filter&lt;/code>自行决定处理&lt;code>ServletRequest&lt;/code>和&lt;code>ServletResponse&lt;/code>，还可以“伪造”&lt;code>ServletRequest&lt;/code>和&lt;code>ServletResponse&lt;/code>以便让下一个&lt;code>Filter&lt;/code>处理，能实现非常复杂的功能。&lt;/p>
&lt;h4 id="命令">命令
&lt;/h4>&lt;blockquote>
&lt;p>将一个请求封装为一个对象，从而使你可用不同的请求对客户进行参数化，对请求排队或记录请求日志，以及支持可撤销的操作。&lt;/p>
&lt;/blockquote>
&lt;p>命令模式（Command）是指，把请求封装成一个命令，然后执行该命令。&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-ascii" data-lang="ascii">┌──────┐ ┌───────┐
│Client│─ ─ ─&amp;gt;│Command│
└──────┘ └───────┘
│ ┌──────────────┐
├─&amp;gt;│ CopyCommand │
│ ├──────────────┤
│ │editor.copy() │─ ┐
│ └──────────────┘
│ │ ┌────────────┐
│ ┌──────────────┐ ─&amp;gt;│ TextEditor │
└─&amp;gt;│ PasteCommand │ │ └────────────┘
├──────────────┤
│editor.paste()│─ ┘
└──────────────┘
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Command&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">execute&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">CopyCommand&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Command&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 持有执行者对象:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TextEditor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">receiver&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">CopyCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TextEditor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">receiver&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">receiver&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">receiver&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">execute&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">receiver&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">copy&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">PasteCommand&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Command&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TextEditor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">receiver&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">PasteCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TextEditor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">receiver&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">receiver&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">receiver&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">execute&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">receiver&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">paste&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">TextEditor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">editor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TextEditor&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Command pattern in text editor.\n&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// 执行一个CopyCommand:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Command&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">copy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">CopyCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">editor&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">copy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;----\n&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">// 执行一个PasteCommand:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Command&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">paste&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PasteCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">editor&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">paste&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getState&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>实际上，使用命令模式，确实增加了系统的复杂度。如果需求很简单，那么直接调用显然更直观而且更简单。&lt;/p>
&lt;h4 id="解释器">解释器
&lt;/h4>&lt;blockquote>
&lt;p>给定一个语言，定义它的文法的一种表示，并定义一个解释器，这个解释器使用该表示来解释语言中的句子。&lt;/p>
&lt;/blockquote>
&lt;p>解释器模式（Interpreter）是一种针对特定问题设计的一种解决方案&lt;/p>
&lt;h4 id="迭代器">迭代器
&lt;/h4>&lt;blockquote>
&lt;p>提供一种方法顺序访问一个聚合对象中的各个元素，而又不需要暴露该对象的内部表示。&lt;/p>
&lt;/blockquote>
&lt;p>迭代器模式（Iterator）实际上在Java的集合类中已经广泛使用了。实际上，因为Iterator模式十分有用，因此，Java允许我们直接把任何支持&lt;code>Iterator&lt;/code>的集合对象用&lt;code>foreach&lt;/code>循环写出来。&lt;/p>
&lt;h4 id="中介">中介
&lt;/h4>&lt;blockquote>
&lt;p>用一个中介对象来封装一系列的对象交互。中介者使各个对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。&lt;/p>
&lt;/blockquote>
&lt;p>中介模式（Mediator）又称调停者模式，它的目的是把多方会谈变成双方会谈，从而实现多方的松耦合。&lt;/p>
&lt;p>多方会谈的复杂逻辑：&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-ascii" data-lang="ascii">┌─────────────────┐ ┌─────────────────┐
│ CheckBox List │&amp;lt;───&amp;gt;│SelectAll Button │
└─────────────────┘ └─────────────────┘
▲ ▲ ▲
│ └─────────────────────┤
▼ │
┌─────────────────┐ ┌────────┴────────┐
│SelectNone Button│&amp;lt;────│ Inverse Button │
└─────────────────┘ └─────────────────┘
&lt;/code>&lt;/pre>&lt;p>如果我们引入一个中介，把多方会谈变成多个双方会谈，虽然多了一个对象，但对象之间的关系就变简单了：&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-ascii" data-lang="ascii"> ┌─────────────────┐
┌─────&amp;gt;│ CheckBox List │
│ └─────────────────┘
│ ┌─────────────────┐
│ ┌───&amp;gt;│SelectAll Button │
▼ ▼ └─────────────────┘
┌─────────┐
│Mediator │
└─────────┘
▲ ▲ ┌─────────────────┐
│ └───&amp;gt;│SelectNone Button│
│ └─────────────────┘
│ ┌─────────────────┐
└─────&amp;gt;│ Inverse Button │
└─────────────────┘
&lt;/code>&lt;/pre>&lt;p>使用Mediator模式后，我们得到了以下好处：&lt;/p>
&lt;ul>
&lt;li>各个UI组件互不引用，这样就减少了组件之间的耦合关系；&lt;/li>
&lt;li>Mediator用于当一个组件发生状态变化时，根据当前所有组件的状态决定更新某些组件；&lt;/li>
&lt;li>如果新增一个UI组件，我们只需要修改Mediator更新状态的逻辑，现有的其他UI组件代码不变。&lt;/li>
&lt;/ul>
&lt;p>Mediator模式经常用在有众多交互组件的UI上。为了简化UI程序，MVC模式以及MVVM模式都可以看作是Mediator模式的扩展。&lt;/p>
&lt;h4 id="备忘录">备忘录
&lt;/h4>&lt;blockquote>
&lt;p>在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。&lt;/p>
&lt;/blockquote>
&lt;p>备忘录模式（Memento），主要用于捕获一个对象的内部状态，以便在将来的某个时候恢复此状态。&lt;/p>
&lt;p>标准的备忘录模式有这么几种角色：&lt;/p>
&lt;ul>
&lt;li>Memonto：存储的内部状态；&lt;/li>
&lt;li>Originator：创建一个备忘录并设置其状态；&lt;/li>
&lt;li>Caretaker：负责保存备忘录。&lt;/li>
&lt;/ul>
&lt;p>实际上我们在使用备忘录模式的时候，不必设计得这么复杂，只需要对类似&lt;code>TextEditor&lt;/code>的类，增加&lt;code>getState()&lt;/code>和&lt;code>setState()&lt;/code>就可以了。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">TextEditor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">StringBuilder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">StringBuilder&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ch&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ch&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">delete&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">deleteCharAt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">TextEditor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 获取状态:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getState&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 恢复状态:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">delete&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="观察者">观察者
&lt;/h4>&lt;blockquote>
&lt;p>定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。&lt;/p>
&lt;/blockquote>
&lt;p>观察者模式（Observer）又称发布-订阅模式（Publish-Subscribe：Pub/Sub）。它是一种通知机制，让发送通知的一方（被观察方）和接收通知的一方（观察者）能彼此分离，互不影响。&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-ascii" data-lang="ascii">┌─────────┐ ┌───────────────┐
│ Store │─ ─ ─&amp;gt;│ProductObserver│
└─────────┘ └───────────────┘
│ ▲
│
│ ┌─────┴─────┐
▼ │ │
┌─────────┐ ┌─────────┐ ┌─────────┐
│ Product │ │ Admin │ │Customer │ ...
└─────────┘ └─────────┘ └─────────┘
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//not Observer Pattern&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Store&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Customer&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">customer&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Admin&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">admin&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Product&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">products&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addNewProduct&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Product&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Product&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">products&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 通知用户:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">customer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">onPublished&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 通知管理员:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">admin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">onPublished&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setProductPrice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Product&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">products&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setPrice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 通知用户:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">customer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">onPriceChanged&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 通知管理员:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">admin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">onPriceChanged&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//引用一个ProductObserver接口，任何人想要观察Store，只要实现该接口，并且把自己注册到Store即可&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Store&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ProductObserver&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">observers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Map&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Product&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">products&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 注册观察者:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addObserver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ProductObserver&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">observer&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">observers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">observer&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 取消注册:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">removeObserver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ProductObserver&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">observer&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">observers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">observer&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">addNewProduct&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Product&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Product&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">products&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">put&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getName&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 通知观察者:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">observers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">forEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">onPublished&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setProductPrice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Product&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">products&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setPrice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// 通知观察者:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">observers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">forEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">onPriceChanged&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="状态">状态
&lt;/h4>&lt;blockquote>
&lt;p>允许一个对象在其内部状态改变时改变它的行为。对象看起来似乎修改了它的类。&lt;/p>
&lt;/blockquote>
&lt;p>状态模式（State）经常用在带有状态的对象中。&lt;/p>
&lt;h4 id="策略">策略
&lt;/h4>&lt;blockquote>
&lt;p>定义一系列的算法，把它们一个个封装起来，并且使它们可相互替换。本模式使得算法可独立于使用它的客户而变化。&lt;/p>
&lt;/blockquote>
&lt;p>策略模式：Strategy，是指，定义一组算法，并把其封装到一个对象中。然后在运行时，可以灵活的使用其中的一个算法。&lt;/p>
&lt;h4 id="模板方法">模板方法
&lt;/h4>&lt;blockquote>
&lt;p>定义一个操作中的算法的骨架，而将一些步骤延迟到子类中，使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。&lt;/p>
&lt;/blockquote>
&lt;h4 id="访问者">访问者
&lt;/h4>&lt;blockquote>
&lt;p>表示一个作用于某对象结构中的各元素的操作。它使你可以在不改变各元素的类的前提下定义作用于这些元素的新操作。&lt;/p>
&lt;/blockquote>
&lt;p>访问者模式（Visitor）是一种操作一组对象的操作，它的目的是不改变对象的定义，但允许新增不同的访问者，来定义新的操作。&lt;/p>
&lt;p>&lt;a class="link" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1264742167474528" target="_blank" rel="noopener"
>设计模式 - 廖雪峰的官方网站 (liaoxuefeng.com)&lt;/a>&lt;/p></description></item><item><title>【Kotlin】Basics</title><link>https://dyhes.github.io/p/kotlinbasics/</link><pubDate>Thu, 16 Jun 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/kotlinbasics/</guid><description>&lt;p>In Kotlin, code statements do not have to end with a semicolon (&lt;code>;&lt;/code>)&lt;/p>
&lt;p>The &lt;code>println()&lt;/code> function is used to output values/print text&lt;/p>
&lt;p>There is also a &lt;code>print()&lt;/code> function, which is similar to &lt;code>println()&lt;/code>. The only difference is that it does not insert a new line at the end of the output&lt;/p>
&lt;h2 id="variables">Variables
&lt;/h2>&lt;p>To create a variable, use &lt;code>var&lt;/code> or &lt;code>val&lt;/code>, and assign a value to it with the equal sign (&lt;code>=&lt;/code>):&lt;/p>
&lt;p>The difference between &lt;code>var&lt;/code> and &lt;code>val&lt;/code> is that variables declared with the &lt;code>var&lt;/code> keyword &lt;strong>can be changed/modified&lt;/strong>, while &lt;code>val&lt;/code> variables &lt;strong>cannot&lt;/strong>.&lt;/p>
&lt;p>Unlike many other programming languages, variables in Kotlin do not need to be declared with a specified &lt;em>type&lt;/em>&lt;/p>
&lt;p>However, it is possible to specify the type if you insist&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">var&lt;/span> &lt;span class="py">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span> &lt;span class="c1">// String
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="py">birthyear&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Int&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">1975&lt;/span> &lt;span class="c1">// Int
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also declare a variable without assigning the value, and assign the value later. &lt;strong>However&lt;/strong>, this is only possible when you specify the type&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">var&lt;/span> &lt;span class="py">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also use the &lt;code>+&lt;/code> character to add a variable to another variable&lt;/p>
&lt;h4 id="name-rules">name rules
&lt;/h4>&lt;p>The general rule for Kotlin variables are:&lt;/p>
&lt;ul>
&lt;li>Names can contain letters, digits, underscores, and dollar signs&lt;/li>
&lt;li>Names should start with a letter&lt;/li>
&lt;li>Names can also begin with $ and _ (but we will not use it in this tutorial)&lt;/li>
&lt;li>Names are case sensitive (&amp;ldquo;myVar&amp;rdquo; and &amp;ldquo;myvar&amp;rdquo; are different variables)&lt;/li>
&lt;li>Names should start with a lowercase letter and it cannot contain whitespace&lt;/li>
&lt;li>Reserved words (like Kotlin keywords, such as &lt;code>var&lt;/code> or &lt;code>String&lt;/code>) cannot be used as names&lt;/li>
&lt;/ul>
&lt;h4 id="date-type">Date Type
&lt;/h4>&lt;p>Data types are divided into different groups:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Numbers&lt;/p>
&lt;p>Number types are divided into two groups:&lt;/p>
&lt;p>&lt;strong>Integer types&lt;/strong> store whole numbers, positive or negative (such as 123 or -456), without decimals. Valid types are &lt;code>Byte&lt;/code>, &lt;code>Short&lt;/code>, &lt;code>Int&lt;/code> and &lt;code>Long&lt;/code>.&lt;/p>
&lt;p>&lt;strong>Floating point types&lt;/strong> represent numbers with a fractional part, containing one or more decimals. There are two types: &lt;code>Float&lt;/code> and &lt;code>Double&lt;/code>.&lt;/p>
&lt;p>To convert a numeric data type to another type, you must use one of the following functions: &lt;code>toByte()&lt;/code>, &lt;code>toShort()&lt;/code>, &lt;code>toInt()&lt;/code>, &lt;code>toLong()&lt;/code>, &lt;code>toFloat()&lt;/code>, &lt;code>toDouble()&lt;/code> or &lt;code>toChar()&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Characters&lt;/p>
&lt;p>The &lt;code>Char&lt;/code> data type is used to store a &lt;strong>single&lt;/strong> character. A char value must be surrounded by &lt;strong>single&lt;/strong> quotes&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Booleans&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Strings&lt;/p>
&lt;p>Instead of concatenation, you can also use &amp;ldquo;string templates&amp;rdquo;, which is an easy way to add variables and expressions inside a string.&lt;/p>
&lt;p>Just refer to the variable with the &lt;code>$&lt;/code> symbol:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">var&lt;/span> &lt;span class="py">firstName&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">var&lt;/span> &lt;span class="py">lastName&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;Doe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;My name is &lt;/span>&lt;span class="si">$firstName&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="si">$lastName&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Arrays&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="condition">Condition
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;code>if..else&lt;/code>:In Kotlin, you can also use &lt;code>if..else&lt;/code> statements as expressions (assign a value to a variable and return it):&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Instead of writing many &lt;code>if..else&lt;/code> expressions, you can use the &lt;code>when&lt;/code> expression(like &lt;code>switch-case&lt;/code>), which is much easier to read. The &lt;code>when&lt;/code> expression is similar to the &lt;code>switch&lt;/code> statement in Java.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">day&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">result&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">when&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">day&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">1&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Monday&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">2&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Tuesday&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">3&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Wednesday&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">4&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Thursday&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">5&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Friday&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">6&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Saturday&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">7&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Sunday&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Invalid day.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>for...in&lt;/code>&lt;/p>
&lt;p>With the &lt;a class="link" href="https://www.w3schools.com/kotlin/kotlin_for_loop.php" target="_blank" rel="noopener"
>&lt;code>for&lt;/code> loop&lt;/a>, you can also create &lt;strong>ranges&lt;/strong> of values with &amp;ldquo;&lt;code>..&lt;/code>&amp;rdquo;:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">chars&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="sc">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="o">..&lt;/span>&lt;span class="sc">&amp;#39;x&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">chars&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="arrays">Arrays
&lt;/h2>&lt;p>Arrays are used to store multiple values in a single variable, instead of creating separate variables for each value.&lt;/p>
&lt;p>To create an array, use the &lt;code>arrayOf()&lt;/code> function, and place the values in a comma-separated list inside it:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">cars&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">arrayOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Volvo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;BMW&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Ford&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Mazda&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="functions">Functions
&lt;/h2>&lt;p>The &lt;code>fun&lt;/code> keyword is used to declare a function.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">myFunction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Int&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="n">Int&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="p">+&lt;/span> &lt;span class="m">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>There is also a shorter syntax for returning values. You can use the &lt;code>=&lt;/code> operator instead of &lt;code>return&lt;/code> without specifying the return type. Kotlin is smart enough to automatically find out what it is:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">myFunction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="p">+&lt;/span> &lt;span class="n">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">var&lt;/span> &lt;span class="py">result&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">myFunction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="m">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="class">Class
&lt;/h2>&lt;p>we can use the class name to create objects.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Class&lt;/span> &lt;span class="n">Car&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">var&lt;/span> &lt;span class="py">car&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="n">Car&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="inheritance">inheritance
&lt;/h4>&lt;p>Use the &lt;code>open&lt;/code> keyword in front of the &lt;strong>superclass&lt;/strong>/parent, to make this the class other classes should inherit properties and functions from.&lt;/p>
&lt;p>To inherit from a class, specify the name of the &lt;strong>subclass&lt;/strong>, followed by a colon &lt;code>:&lt;/code>, and then the name of the &lt;strong>superclass&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Superclass
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">open&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">MyParentClass&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">x&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Subclass
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">MyChildClass&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">MyParentClass&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fun&lt;/span> &lt;span class="nf">myFunction&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// x is now inherited from the superclass
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Create an object of MyChildClass and call myFunction
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">fun&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">myObj&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">MyChildClass&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">myObj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">myFunction&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>*unrar x -o- -y dtu_training.rar /home/lab303/PointMVSNet/&lt;/p></description></item><item><title>【Scala】浅窥</title><link>https://dyhes.github.io/p/scala%E6%B5%85%E7%AA%A5/</link><pubDate>Mon, 13 Jun 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/scala%E6%B5%85%E7%AA%A5/</guid><description>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">object&lt;/span> &lt;span class="nc">HelloWorld&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Array&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">String&lt;/span>&lt;span class="o">])&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Unit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Hello, world!&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Static members (methods or fields) do not exist in Scala. Rather than defining static members, the Scala programmer declares these members in singleton objects.&lt;/p>
&lt;p>To compile the example, we use &lt;code>scalac&lt;/code>, the Scala compiler.&lt;/p>
&lt;p>One of Scala’s strengths is that it makes it very easy to interact with Java code. All classes from the &lt;code>java.lang&lt;/code> package are imported by default, while others need to be imported explicitly.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">java.util.&lt;/span>&lt;span class="o">{&lt;/span>&lt;span class="nc">Date&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nc">Locale&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">import&lt;/span> &lt;span class="nn">java.text.DateFormat._&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">object&lt;/span> &lt;span class="nc">FrenchDate&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Array&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="kt">String&lt;/span>&lt;span class="o">])&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Unit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">now&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nc">Date&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="n">df&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">getDateInstance&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nc">LONG&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nc">Locale&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="nc">FRANCE&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">df&lt;/span> &lt;span class="n">format&lt;/span> &lt;span class="n">now&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This last line shows an interesting property of Scala’s syntax. Methods taking one argument can be used with an infix syntax.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span> &lt;span class="n">format&lt;/span> &lt;span class="n">now&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">now&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Scala is a pure object-oriented language in the sense that &lt;em>everything&lt;/em> is an object, including numbers or functions.&lt;/p>
&lt;p>Classes in Scala are declared using a syntax which is close to Java’s syntax. One important difference is that classes in Scala can have parameters.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Complex&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">real&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Double&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">imaginary&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Double&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">re&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">real&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">im&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">imaginary&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//a better way
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Complex&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">real&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Double&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">imaginary&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Double&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">re&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">real&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">im&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">imaginary&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Complex&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">real&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Double&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">imaginary&lt;/span>&lt;span class="k">:&lt;/span> &lt;span class="kt">Double&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">re&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">real&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="n">im&lt;/span> &lt;span class="k">=&lt;/span> &lt;span class="n">imaginary&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">override&lt;/span> &lt;span class="k">def&lt;/span> &lt;span class="n">toString&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="k">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">re&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">im&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="s">&amp;#34;+&amp;#34;&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">im&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;i&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scala" data-lang="scala">&lt;span class="line">&lt;span class="cl">&lt;span class="k">type&lt;/span> &lt;span class="kt">Environment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nc">String&lt;/span> &lt;span class="k">=&amp;gt;&lt;/span> &lt;span class="nc">Int&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【云计算】Concepts</title><link>https://dyhes.github.io/p/%E4%BA%91%E8%AE%A1%E7%AE%97concepts/</link><pubDate>Tue, 03 May 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/%E4%BA%91%E8%AE%A1%E7%AE%97concepts/</guid><description>&lt;h2 id="intro">Intro
&lt;/h2>&lt;p>云计算是指&lt;strong>IT资源的交付和使用模式&lt;/strong>，通过网络以按需、易扩展的方式获得所需的&lt;strong>资源（硬件、平台、软件）&lt;/strong>。典型的云计算提供商往往提供通用的网络业务应用，可以通过浏览器等软件或者其他Web服务来访问，而软件和数据都存储在远程数据中心的服务器上。用户通过计算机、手机等方式接入数据中心，按自己的需求进行运算。&lt;/p>
&lt;p>&lt;strong>提供资源的网络&lt;/strong>被称为“云”。“云”中的资源在使用者看来是可以无限扩展的，并且可以随时获取、按需使用、随时扩展、按使用付费。&lt;/p>
&lt;h3 id="特点">特点
&lt;/h3>&lt;ul>
&lt;li>资源池&lt;strong>弹性&lt;/strong>可扩张&lt;/li>
&lt;li>&lt;strong>按需&lt;/strong>提供资源服务&lt;/li>
&lt;li>&lt;strong>网络&lt;/strong>化的资源接入&lt;/li>
&lt;li>&lt;strong>虚拟&lt;/strong>化&lt;/li>
&lt;li>提高&lt;strong>可靠性&lt;/strong>和&lt;strong>安全性&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h3 id="分类">分类
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>按&lt;strong>技术路线&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>资源整合型&lt;/p>
&lt;p>这种类型的云计算系统在技术实现方面大多体现为&lt;strong>集群架构&lt;/strong>，通过将大量节点的计算资源和存储资源整合后输出。这类系统通常能实现跨节点弹性化的资源池构建，&lt;strong>核心技术&lt;/strong>为&lt;strong>分布式计算和存储&lt;/strong>技术。&lt;strong>MPI、Hadoop、HPCC、Storm&lt;/strong>等都可以被分类为资源整合型云计算系统。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>资源切分型&lt;/p>
&lt;p>这种类型最为典型的就是&lt;strong>虚拟化系统&lt;/strong>，这类云计算系统通过系统虚拟化实现对&lt;strong>单个&lt;/strong>服务器资源的&lt;strong>弹性化切分&lt;/strong>，从而有效地利用服务器资源，其&lt;strong>核心技术&lt;/strong>为虚拟化技术。&lt;strong>KVM、VMware&lt;/strong>都是这类技术的代表。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>按&lt;strong>服务对象&lt;/strong>（部署模式）:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>公有云&lt;/p>
&lt;p>指服务对象是&lt;strong>面向公众&lt;/strong>的云计算服务，公有云对云计算系统的&lt;strong>稳定性、安全性和并发服务能力&lt;/strong>有更高的要求。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>私有云&lt;/p>
&lt;p>指主要服务于&lt;strong>某一组织内部&lt;/strong>的云计算服务，其服务并不向公众开放，如&lt;strong>企业、政府内部&lt;/strong>的云服务。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>混合云&lt;/p>
&lt;p>是把公有云和私有云&lt;strong>结合&lt;/strong>在一起的方式。在这个模式中，用户通常将&lt;strong>非企业关键信息外包&lt;/strong>，并在公有云上处理，而掌握企业关键服务及数据的内容则放在私有云上处理。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>社区云&lt;/p>
&lt;p>是&lt;strong>公有云范畴&lt;/strong>内的一个组成部分。它由&lt;strong>众多利益相仿的组织&lt;/strong>掌控及使用，其目的是实现云计算的一些优势，例如特定安全要求、共同宗旨等。社区成员共同使用云数据及应用程序。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>按&lt;strong>资源封装层次&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>基础设施即服务（Infrastructure-as-a-Service，&lt;strong>IaaS&lt;/strong>）：把单纯的计算和存储资源&lt;strong>不经封装&lt;/strong>地直接通过网络以服务的形式提供的用户使用。&lt;/p>
&lt;p>IaaS主要由&lt;strong>计算机硬件、网络、存储设备、平台虚拟化环境、效用计费方法、服务级别协议&lt;/strong>等组成。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220405194959041.png"
loading="lazy"
alt="image-20220405194959041"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>平台即服务（Platform-as-a-Service，&lt;strong>PaaS&lt;/strong>）：计算和存储资源经封装后，以某&lt;strong>种接口和协议的形式&lt;/strong>提供给用户调用，资源的使用者不再直接面对底层资源。&lt;/p>
&lt;p>PaaS是一种&lt;strong>分布式平台服务&lt;/strong>，为用户提供一个包括应用设计、应用开发、应用测试及应用托管的完整的计算机平台。&lt;/p>
&lt;p>PaaS的主要用户是&lt;strong>开发人员&lt;/strong>，PaaS平台的种类目前较少，比较著名的有&lt;/p>
&lt;ul>
&lt;li>
&lt;p>lForce.com&lt;/p>
&lt;/li>
&lt;li>
&lt;p>lGoogle App Engine&lt;/p>
&lt;/li>
&lt;li>
&lt;p>lWindows Azure&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Cloud Foundry&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>核心技术：&lt;strong>REST技术，多租户技术，并行计算技术，应用服务器，分布式缓存&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>软件即服务（Software-as-a-Service，&lt;strong>SaaS&lt;/strong>）：将计算和存储资源封装为&lt;strong>用户可以直接使用的应用&lt;/strong>并通过网络提供给用户，SaaS面向的服务对象为&lt;strong>最终用户&lt;/strong>，用户只是对软件功能进行使用，无需了解任何云计算系统的内部结构，也不需要用户具有专业的技术开发能力。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="契机">契机
&lt;/h3>&lt;p>云计算是&lt;strong>分布式计算、并行计算、效用计算、虚拟化、网络存储、负载均衡、热备份冗余&lt;/strong>等传统计算机和网络技术发展融合的产物，更是SaaS、SOA等技术混合演进的结果，下图所示的五大契机更是直接促进了云计算的诞生。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220405194853850.png"
loading="lazy"
alt="image-20220405194853850"
>&lt;/p>
&lt;h2 id="iaas">IaaS
&lt;/h2>&lt;p>IaaS所提供的&lt;strong>虚拟机&lt;/strong>通常都会带有一个可以连上网络的操作系统（如Windows、Linux）。用户通过网络可以登录并操作虚拟机并按照虚拟机的资源配置和使用时间来付费。&lt;/p>
&lt;p>由于这些提供给用户的功能都是&lt;strong>最基础的计算机功能&lt;/strong>，所以这种服务形式也就被形象地称为基础设施即服务IaaS服务的基本功能。&lt;/p>
&lt;p>IaaS层一般都具有以下基本功能：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>用户管理&lt;/p>
&lt;p>用户管理主要是管理&lt;strong>用户账号&lt;/strong>、用户的&lt;strong>环境配置&lt;/strong>、用户的&lt;strong>使用计费&lt;/strong>等。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>任务管理&lt;/p>
&lt;p>任务管理主要管理用户请求资源的任务，包括任务的调度、任务的执行、任务的生命周期管理等。任务管理的目的是保证所有的任务都能快速高效地完成。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>资源管理（&lt;strong>核心&lt;/strong>）&lt;/p>
&lt;p>主要包括：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>资源抽象&lt;/p>
&lt;p>据业务逻辑和基础设施层服务接口的需要，基础设施层资源的抽象往往是具有&lt;strong>多个层次&lt;/strong>的。目前业界提出的资源模型中就出现了&lt;strong>虚拟机（Virtual Machine）、集群（Cluster）、虚拟数据中心（Virtual Data Center）和云（Cloud）&lt;strong>等若干层次分明的资源抽象。资源抽象为上层资源管理逻辑定义了操作的&lt;/strong>对象和粒度&lt;/strong>，是构建基础设施层的&lt;strong>基础&lt;/strong>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>资源监控&lt;/p>
&lt;/li>
&lt;li>
&lt;p>资源部署&lt;/p>
&lt;/li>
&lt;li>
&lt;p>资源分发&lt;/p>
&lt;/li>
&lt;li>
&lt;p>资源调度（等）&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>安全管理&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="整体架构">整体架构
&lt;/h3>&lt;p>基础设施平台分为三层:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>基础设施资源池&lt;/p>
&lt;p>基础设施资源池是实现融合基础设施结构的关键要素，是共享服务器、存储和网络的集合，从而能够更快捷地支持业务需求的变化。实现基础设施资源池的一种有效方法就是服务器虚拟化，它是一种可以在一台物理服务器上运行多个逻辑服务器的技术，每个逻辑服务器被称为一个虚拟机。虚拟化技术是IaaS层的&lt;strong>核心技术&lt;/strong>，主要实现了对底层物理资源的抽象，使其成为一个个可以被灵活生成、调度、管理的基础资源单位。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>资源管理平台&lt;/p>
&lt;/li>
&lt;li>
&lt;p>业务服务管理平台&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="服务器虚拟化技术">服务器虚拟化技术
&lt;/h3>&lt;p>IaaS具体管理的物理资源可以分为三大类：计算资源（CPU、内存）、存储资源和网络资源。&lt;/p>
&lt;p>从计算资源角度来讲，IaaS软件管理的最小的物理单元为一个物理服务器。根据需求，可以在服务器上创建多个虚拟机（如右图所示）。若干配置相同的物理服务器会组成一个集群，要求配置相同的主要原因是因为需要支持虚拟机动态迁移。通常一些集群还会组成更大规模的区域（Zone）。&lt;/p>
&lt;p>根据虚拟化层实现方式的不同，服务器虚拟化主要有两种类型：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>寄宿虚拟化&lt;/strong>：虚拟机监视器（Virtual Machine Monitor，VMM）是运行在宿主操作系统之上的&lt;strong>应用程序&lt;/strong>，利用宿主操作系统的功能来实现硬件资源的抽象和虚拟机的管理。这种模式的虚拟化&lt;strong>实现起来比较容易&lt;/strong>，但由于虚拟机对资源的管理需要通过宿主操作系统来完成，因此其&lt;strong>性能通常比较低&lt;/strong>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>原生虚拟化&lt;/strong>：在原生虚拟化中，直接运行在硬件之上的不是宿主操作系统，而是&lt;strong>虚拟化平台（Hypervisor）&lt;/strong>。虚拟机运行在&lt;strong>虚拟化平台&lt;/strong>上，虚拟化平台提供&lt;strong>指令集和设备接口&lt;/strong>，以提供对虚拟机的支持。这种实现通常具有&lt;strong>较好的性能&lt;/strong>，但是&lt;strong>实现起来更为复杂&lt;/strong>。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="关键特性">关键特性
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>多实例&lt;/p>
&lt;p>在一个物理服务器上可以运行多个虚拟服务器，即可以支持多个客户操作系统&lt;/p>
&lt;/li>
&lt;li>
&lt;p>隔离性&lt;/p>
&lt;p>一个虚拟机与其他虚拟机完全隔离，就如同几个独立的物理服务器一样。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>封装性&lt;/p>
&lt;p>服务器虚拟化将物理机的硬件封装为标准化的虚拟硬件设备，保证兼容性。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>高性能&lt;/p>
&lt;p>服务器虚拟化的高性能是指虚拟机监视器的开销要被控制在可承受的范围之内。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="核心技术">核心技术
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>CPU虚拟化&lt;/p>
&lt;p>CPU虚拟化技术把物理CPU抽象成虚拟CPU，**任意时刻一个物理CPU只能运行一个虚拟CPU的指令。每个客户操作系统可以使用一个或多个虚拟CPU。**虚拟CPU的运行相互隔离，互不影响。&lt;/p>
&lt;p>在纯软件的CPU虚拟化中，有&lt;strong>全虚拟化&lt;/strong>和&lt;strong>半虚拟化&lt;/strong>两种不同的软件方案。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>全虚拟化是采用&lt;strong>二进制动态翻译技术&lt;/strong>（Dynamic Binary Translation）来解决客户操作系统的&lt;strong>特权指令问题&lt;/strong>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>半虚拟化是通过&lt;strong>修改客户操作系统&lt;/strong>来解决虚拟机执行特权指令的问题，即将所有敏感指令替换为对底层虚拟化平台的&lt;strong>超级调用&lt;/strong>。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220406131211361.png"
loading="lazy"
alt="image-20220406131211361"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>内存虚拟化&lt;/p>
&lt;p>内存虚拟化技术把物理机的真实物理内存统一管理，包装成多个虚拟的物理内存分别供若干个虚拟机使用，使得每个虚拟机拥有各自独立的内存空间。&lt;/p>
&lt;p>在内存虚拟化中存在着逻辑内存、“物理”内存和机器内存三种内存类型，这三种内存的地址空间被称为逻辑地址、“物理”地址和机器地址。在内存虚拟化中，逻辑内存与机器内存之间的映射关系是由内存虚拟化管理单元来负责的。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220406131320956.png"
loading="lazy"
alt="image-20220406131320956"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>设备与I/O虚拟化&lt;/p>
&lt;p>设备与I/O虚拟化技术对物理机的真实设备进行统一管理，包装成多个虚拟设备给若干个虚拟机使用，响应每个虚拟机的设备访问请求和I/O请求。目前，主流的设备与I/O虚拟化都是通过&lt;strong>软件&lt;/strong>的方式实现的。虚拟化平台作为在共享硬件与虚拟机之间的平台，为设备与I/O的管理提供了便利，也为虚拟机提供了丰富的虚拟设备功能。在I/O设备中有一种比较特殊的设备—网卡。网卡除了和一般的I/O设备一样作为虚拟机的共享设备外，还要解决虚拟机与外部网络或者虚拟机相互之间的通信问题。&lt;/p>
&lt;p>网卡虚拟化技术主要分为两类：&lt;strong>虚拟网卡&lt;/strong>技术和&lt;strong>虚拟网桥&lt;/strong>技术。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>虚拟网卡是指虚拟机中的网卡，是由&lt;strong>模拟器通过软件的方法模拟&lt;/strong>出来的；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>虚拟网桥是指利用软件方法实现的网桥，其作用是在一台服务器中，&lt;strong>使多块共享一块物理网卡的虚拟网卡对外表现为多块独立的网卡&lt;/strong>。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>网络虚拟化&lt;/p>
&lt;p>网络虚拟化是将多个硬件或软件网络资源及相关的网络功能&lt;strong>集成到一个可用软件中统一管控&lt;/strong>的过程，并且对于网络应用而言，该网络环境的实现方式是透明的。该网络环境称为&lt;strong>虚拟网络&lt;/strong>，形成该虚拟网络的过程称为网络虚拟化。&lt;/p>
&lt;p>假如原本的物理机只有一个网卡，那么它有一个MAC地址，并且可以分配一个IP地址，其他机器就可以通过IP地址访问这个物理主机。当创建多个虚拟机以后，每个虚拟机都需要有独立的网络配置，以便它们可以像物理机一样处理各种网络连接。但是这个时候物理机上依然只有一个网卡，多个虚拟机通过这一个物理网卡都能进行顺畅的网络连接的过程即为网络虚拟化&lt;/p>
&lt;p>网络虚拟化一般是指虚拟专用网。虚拟专用网对网络连接进行了抽象，&lt;strong>远程用户可以像物理连接在组织内部网络的用户一样来访问该网络。&lt;/strong> 虚拟专用网络是通过一个公用网络建立一个临时的、安全的连接，是一条穿过混乱的公用网络的安全、稳定隧道。使用这条隧道可以对数据进行几倍加密达到安全使用互联网的目的。虚拟专用网可以保护网络环境，使用户能够快捷、安全地访问组织内部的网络。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220406133716875.png"
loading="lazy"
alt="image-20220406133716875"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>实时迁移技术&lt;/p>
&lt;p>实时迁移（Live Migration）技术是在虚拟机运行过程中，将整个虚拟机的运行状态完整、快速地从原来所在的宿主机硬件平台迁移到新的宿主机硬件平台上，并且整个迁移过程是平滑的，用户几乎不会察觉到任何差异。&lt;/p>
&lt;p>实时迁移需要&lt;strong>虚拟机监视器&lt;/strong>的协助，即通过源主机和目标主机上虚拟机监视器的相互配合，来完成客户操作系统的内存和其他状态信息的拷贝。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="paas">PaaS
&lt;/h2>&lt;p>平台层的功能以服务的形式提供给用户，可以作为应用开发测试和运行管理的环境，亦平台即服务（Platform as a Service，PaaS）。平台即服务是云计算&lt;strong>平台层的外在表现形式&lt;/strong>，是云计算平台提供的一类重要的&lt;strong>功能集合&lt;/strong>。&lt;/p>
&lt;p>PaaS将“共享”扩展到更大的范围。与基础设施层所共享的对象不同，PaaS所共享的对象是&lt;strong>应用运行所需的资源和基础功能&lt;/strong>。&lt;/p>
&lt;h3 id="cloud-foundry">Cloud Foundry
&lt;/h3>&lt;p>Cloud Foundry是VMware推出的业界第一个开源PaaS云平台，它支持多种框架、语言、运行时环境、云平台及应用服务，使开发人员能够在几秒钟内进行应用程序的部署和扩展，无需担心任何基础架构的问题。同时，它本身是一个基于Ruby on Rails的由多个相对独立的子系统通过消息机制组成的分布式系统，使平台在各层级都可水平扩展，既能在大型数据中心里运行，也能在一台计算机中运行，二者使用相同的代码库。&lt;/p>
&lt;p>作为新一代云应用平台，Cloud Foundry专为&lt;strong>私有云计算环境、企业级数据中心和公有云服务提供商&lt;/strong>所打造。&lt;/p>
&lt;h3 id="hadoop">Hadoop
&lt;/h3>&lt;p>Hadoop可以为大数据应用提供一个&lt;strong>可编程的、经济的、可伸缩的平台&lt;/strong>。这个分布式系统由&lt;strong>分布式文件存储系统（HDFS）&lt;strong>以及&lt;/strong>计算框架（MapReduce）&lt;strong>组成。Hadoop是一个开源项目，能为大量数据集提供批量数据处理能力。Hadoop的设计可以容忍软硬件的不可靠，并且为应用开发者提供一个便于开发分布式应用的平台。Hadoop使用&lt;/strong>没有特殊硬件或特殊网络基础设施的普通的服务器群&lt;/strong>来形成一个逻辑上可存储大量数据、进行并发计算的集群，这个集群可以被很多团体和个人共享。&lt;/p>
&lt;p>作为一个顶级项目，Hadoop项目包含许多组件子项目，其中最主要的两个子项目分别为Hadoop分布式文件系统（HDFS）和分布式并行计算框架MapReduce。这两个子项目是对Google特有的GFS和MapReduce的直接实现，它们是一对相互独立而又互补的技术。&lt;/p>
&lt;h4 id="hdfs">HDFS
&lt;/h4>&lt;p>HDFS是一个可以存储极大数据集的文件系统，它是通过&lt;strong>向外扩展&lt;/strong>方式构建的主机集群。它有着独特的设计和性能特点，特别是，HDFS以&lt;strong>时延&lt;/strong>为代价对吞吐量进行了优化，并且通过副本代替物理冗余达到了&lt;strong>高可靠性&lt;/strong>。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>HDFS（Hadoop Distributed File System）是一个&lt;strong>分布式文件系统&lt;/strong>，HDFS提出了“移动计算能力比移动数据更廉价”的设计理念。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HDFS是一种&lt;strong>主/从模式&lt;/strong>的系统结构，主服务器，即图中的命名节点（NameNode），管理&lt;strong>文件系统命名空间和客户端访问&lt;/strong>，具体文件系统命名空间操作包括“打开”“关闭”“重命名”等，并负责数据块到数据节点之间的映射。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220406135049304.png"
loading="lazy"
alt="image-20220406135049304"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HDFS同时给应用程序提供接口以保证处理过程尽量靠近数据的位置，减少中间数据传输的开销。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HDFS的命名空间存放在命名节点上，为了保证访问效率，命名节点在内存中保存整个文件系统的命名空间和文件的块映射图。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>HDFS提出了&lt;strong>数据均衡&lt;/strong>方案，如果某个数据节点上的空闲空间低于特定的临界点，那么就会启动一个计划自动地将数据从一个数据节点迁移到空闲的数据节点上。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="mapreduce">MapReduce
&lt;/h4>&lt;p>MapReduce是一个&lt;strong>数据处理模式&lt;/strong>，它规范了数据在两个处理阶段（Map和Reduce）的输入和输出，并将其应用于任意规模的大数据集。MapReduce与HDFS紧密结合，确保在任何情况下，MapReduce任务都能直接在存储所需数据的HDFS节点上运行。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220406135257716.png"
loading="lazy"
alt="image-20220406135257716"
>&lt;/p>
&lt;h2 id="saas">SaaS
&lt;/h2>&lt;p>SaaS平台是基于IaaS和PaaS平台之上的。SaaS平台主要是为SaaS应用提供通用的运行环境或系统部件，使SaaS软件提供商能够专注于客户所需业务的开发。&lt;/p>
&lt;p>一般来说，SaaS应用架构可以有四种类型:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>定制开发&lt;/p>
&lt;p>定制开发是一种最简单的提供SaaS服务的类型。这种模型下，SaaS提供商为每个客户定制一套软件，并为其部署。每个客户使用一个独立的数据库实例和应用服务器实例。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>可配置&lt;/p>
&lt;p>可配置类型通过不同的配置满足不同客户的需求，而不需要为每个客户进行特定定制，以降低定制开发的成本。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>多租户架构&lt;/p>
&lt;p>多租户架构通过运行一个应用实例，为不同租户提供服务，并且通过可配置的元数据，为不同用租户提供不同的功能和用户体验。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>可伸缩性的多租户架构&lt;/p>
&lt;p>可伸缩性的多租户架构通过多个运行实例来分担大量用户的访问，从而可以让应用实现近似无限的水平扩展。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>这四种类型由&lt;strong>是否支持可定制、可扩展和多租户三个方面&lt;/strong>的不同组合而决定。一般而言，同时支持三个方面表明应用的灵活性和可用性更强，因而更成熟。所以，这四种架构也被称为SaaS平台&lt;strong>四级成熟度模型&lt;/strong>。每一级都比前一级增加三种特性中的一种。&lt;/p>
&lt;h2 id="虚拟化技术">虚拟化技术
&lt;/h2>&lt;p>虚拟化技术和并行计算、分布式计算、网格计算等的发展促进了云计算技术的产生和发展，通过云计算技术，我们将大量的计算机资源组成资源池来创建高度虚拟化的资源提供给用户，即云计算技术解决方案依靠并利用虚拟化提供服务。&lt;/p>
&lt;p>虚拟化技术&lt;strong>主要应用在基础设施即服务的服务模式（IaaS）中&lt;/strong>，大多资源都可以通过虚拟化技术对其进行统一管理。&lt;/p>
&lt;p>现代计算机系统被分为多个&lt;strong>自下而上的层次&lt;/strong>。从下到上依次是裸机（底层硬件）、操作系统，操作系统提供应用程序编程接口及运行在操作系统之上的各种各样的应用程序。 虚拟化技术可以在这些不同层次之间&lt;strong>建立虚拟化层&lt;/strong>，向上提供与真实层次相同或相近的功能，向下只需知道下层的抽象接口，不需要知道下层的具体实现。虚拟化层的引入，必然给系统带来一定的性能损耗，构建、维护虚拟化层也会增加一定的费用。&lt;/p>
&lt;h3 id="分类-1">分类
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>虚拟化类型&lt;/th>
&lt;th>虚拟化出的目标对象&lt;/th>
&lt;th>所处位置&lt;/th>
&lt;th>实例&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>指令集架构级虚拟化&lt;/td>
&lt;td>指令集&lt;/td>
&lt;td>指令集架构级&lt;/td>
&lt;td>Bochs、VLIW&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>硬件抽象层虚拟化&lt;/td>
&lt;td>计算机的各种硬件&lt;/td>
&lt;td>应用层&lt;/td>
&lt;td>VMWare、Virtual PC、Xen、KVM&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>操作系统层虚拟化&lt;/td>
&lt;td>操作系统&lt;/td>
&lt;td>本地操作系统内核&lt;/td>
&lt;td>Virtual Server、Zone、Virtuozzo&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>编程语言层上的虚拟化&lt;/td>
&lt;td>应用层的部分功能&lt;/td>
&lt;td>应用层&lt;/td>
&lt;td>JVM、CLR&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>库函数层的虚拟化&lt;/td>
&lt;td>应用级库函数的接口&lt;/td>
&lt;td>应用层&lt;/td>
&lt;td>Wine&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>
&lt;p>指令集架构级虚拟化&lt;/p>
&lt;p>指令集架构级虚拟化是通过&lt;strong>纯软件方法&lt;/strong>，模拟出与实际运行的应用程序（或操作系统）所不同的指令集去执行，采用这种方法构造的虚拟机一般称为&lt;strong>模拟器（Emulator）&lt;/strong>。模拟器是将虚拟平台上的指令&lt;strong>翻译成本地指令集&lt;/strong>，然后在实际的硬件上执行。其是、具有、当前比较典型的模拟器系统有Bochs、VLIW等。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>硬件抽象层虚拟化&lt;/p>
&lt;p>硬件抽象层虚拟化是指将&lt;strong>虚拟资源映射到物理资源&lt;/strong>，并在虚拟机的运算中使用实实在在的硬件。即使用&lt;strong>软件&lt;/strong>来虚拟一台标准计算机的硬件配置，如CPU、内存、硬盘、声卡、显卡、光驱等，成为一台虚拟的裸机。&lt;/p>
&lt;ul>
&lt;li>高度的隔离性&lt;/li>
&lt;li>可以支持与宿主机不同的操作系统及应用程序&lt;/li>
&lt;li>易于维护及风险低&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>操作系统层虚拟化&lt;/p>
&lt;p>操作系统层虚拟化是指通过划分一个宿主操作系统的特定部分，产生一个个&lt;strong>隔离的操作执行环境&lt;/strong>。操作系统层的虚拟化是&lt;strong>操作系统内核&lt;/strong>直接提供的虚拟化，虚拟出的操作系统之间共享底层宿主操作系统内核和底层的硬件资源。&lt;/p>
&lt;p>与硬件虚拟化区别：&lt;/p>
&lt;ul>
&lt;li>操作系统虚拟化是以原系统为模板，虚拟出的是原系统的副本，而硬件虚拟化虚拟的是硬件环境，然后真实地安装系统。&lt;/li>
&lt;li>操作系统虚拟化虚拟出的系统只能是物理操作系统的副本，而硬件虚拟化虚拟出的系统可以为不同的系统。&lt;/li>
&lt;li>虚拟出的系统间关系不同，操作系统虚拟化虚拟的多个系统有&lt;strong>较强的联系&lt;/strong>。&lt;/li>
&lt;li>性能损耗不同，操作系统虚拟化虚拟出的系统都是虚拟的，&lt;strong>性能损耗&lt;/strong>低，而硬件虚拟化是在硬件虚拟层上实实在在安装的操作系统，性能损耗高。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="系统虚拟化">系统虚拟化
&lt;/h3>&lt;p>系统虚拟化是指在一台物理计算机系统上虚拟出一台或多台虚拟计算机系统。&lt;/p>
&lt;p>优点：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>硬件无关性&lt;/p>
&lt;p>虚拟机与底层硬件之间是虚拟化层，其与底层硬件之间并没有直接的联系。所以只要另一台计算机提供相同的虚拟硬件抽象层，一个虚拟机就可以无缝地进行迁移。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>隔离性&lt;/p>
&lt;p>使用虚拟机，应用软件可以独立地在虚拟机上运行，不受其他虚拟机的影响。即使其他的虚拟机崩溃，也可以正常运行。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>多实例&lt;/p>
&lt;p>在一台物理机上可以运行多台虚拟机，而一台虚拟机上又可以安装多个操作系统。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>特权功能&lt;/p>
&lt;p>虚拟化层拥有更高的特权体现在：虚拟化层中添加的功能不需要了解客户机的具体语义，实现起来更加容易，并且添加的功能具有较高的特权级，不能被客户机绕过。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="服务器虚拟化">服务器虚拟化
&lt;/h3>&lt;p>系统虚拟化的最大价值在于&lt;strong>服务器虚拟化&lt;/strong>。服务器虚拟化是将系统虚拟化技术应用于服务器上，将一台或多台服务器虚拟化为若干台服务器使用。&lt;/p>
&lt;h4 id="分类-2">分类
&lt;/h4>&lt;ul>
&lt;li>将一台服务器虚拟成多台服务器，即将一台物理服务器分割成多个相互独立、互不干扰的虚拟环境；&lt;/li>
&lt;li>服务器&lt;strong>整合&lt;/strong>，就是多个独立的物理服务器虚拟为一个逻辑服务器，使多台服务器相互协作，处理同一个业务；&lt;/li>
&lt;li>服务器&lt;strong>先整合、再切分&lt;/strong>，就是将多台物理服务器虚拟成一台逻辑服务器，然后再将其划分为多个虚拟环境，即多个业务在多台虚拟服务器上运行。&lt;/li>
&lt;/ul>
&lt;h4 id="所需技术">所需技术
&lt;/h4>&lt;ul>
&lt;li>CPU虚拟化&lt;/li>
&lt;li>内存虚拟化&lt;/li>
&lt;li>设备与I/O虚拟化&lt;/li>
&lt;li>网络虚拟化&lt;/li>
&lt;/ul>
&lt;h3 id="桌面虚拟化">桌面虚拟化
&lt;/h3>&lt;p>桌面虚拟化&lt;strong>依赖于服务器虚拟化&lt;/strong>，直观上来说就是将计算机的桌面进行虚拟化，是&lt;strong>将计算机的桌面与其使用的终端设备相分离&lt;/strong>。&lt;/p>
&lt;p>桌面虚拟化&lt;strong>为用户提供部署在云端的远程计算机桌面环境&lt;/strong>，用户可以使用不同的终端设备，通过网络来访问该桌面环境，即在虚拟桌面环境服务器上运行用户所需要的操作系统和应用软件。&lt;/p>
&lt;h4 id="优势">优势
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>更灵活的访问和使用&lt;/p>
&lt;/li>
&lt;li>
&lt;p>更低的用户终端配置&lt;/p>
&lt;/li>
&lt;li>
&lt;p>更便于集中管控终端桌面&lt;/p>
&lt;/li>
&lt;li>
&lt;p>更高的数据安全性&lt;/p>
&lt;/li>
&lt;li>
&lt;p>更低的成本&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="解决方案">解决方案
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>基于VDI的虚拟桌面解决方案&lt;/p>
&lt;p>是基于服务器虚拟化的，拥有服务器虚拟化的所有优点。其原理是在远程数据中心的服务器上安装虚拟机并在其中部署用户所需要的操作系统及操作系统上的各种应用，此时虚拟桌面就是虚拟机上的操作系统及其上的各种应用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>基于SBC的虚拟桌面解决方案&lt;/p>
&lt;p>原理是在数据中心内的物理机上直接安装、运行操作系统和应用软件，此时的桌面就是服务器上的物理桌面。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>项目&lt;/strong>&lt;/th>
&lt;th>&lt;strong>VDI&lt;/strong>&lt;/th>
&lt;th>&lt;strong>SBC&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>服务器性能要求&lt;/td>
&lt;td>高，需要能支持服务器虚拟化软件的运行&lt;/td>
&lt;td>低，只要能部署操作系统及应用软件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>用户支持扩展性&lt;/td>
&lt;td>低，与服务器上能同时承载的虚拟机个数有关&lt;/td>
&lt;td>高，与服务器上能同时支持的应用软件执行实例有关&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>方案实施复杂性&lt;/td>
&lt;td>高，需要在安装和管理服务器虚拟化软件的前提下提供服务&lt;/td>
&lt;td>低，只需要以传统方式安装和部署应用软件就可提供服务&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>桌面交付兼容性&lt;/td>
&lt;td>高，支持Linux桌面、Windows桌面等桌面上的应用&lt;/td>
&lt;td>低，只支持Windows上的应用&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>桌面安全隔离性&lt;/td>
&lt;td>高，依赖于虚拟机之间的安全隔离性&lt;/td>
&lt;td>低，依赖于Windows操作系统进程之间的安全隔离性&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>桌面性能隔离性&lt;/td>
&lt;td>高，依赖于虚拟机之间的性能隔离性&lt;/td>
&lt;td>低，依赖于Windows操作系统进程之间的性能隔离性&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>终端应用程序兼容性&lt;/td>
&lt;td>无，每一个桌面都是一个独立的工作站&lt;/td>
&lt;td>有，依赖于操作系统的版本&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>提供服务的性能&lt;/td>
&lt;td>高，在一个刀片上只有一个用户或少数几个用户&lt;/td>
&lt;td>低，在一个刀片上的用户数相对较多&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="云计算平台">云计算平台
&lt;/h2>&lt;h3 id="amazon-aws">Amazon AWS
&lt;/h3>&lt;p>Amazon Web Services（AWS）是&lt;strong>Amazon Web服务的总称&lt;/strong>。Amazon Web Services共包括了12个门类共33种云计算产品与服务。通过AWS的IT基础设施层服务和丰富的平台层服务，用户可以在Amazon公司的云计算平台上构建各种企业级应用和个人应用。&lt;/p>
&lt;h3 id="google-gae">Google GAE
&lt;/h3>&lt;p>2008年Google公司推出了**Google AppEngine（GAE）**Web运行平台，使用户的业务系统能够运行在Google分布式基础设施上。GAE平台具有易用性、可伸缩性、低成本的特点。另外，Google公司还提供了丰富的云端应用，如Gmail、Google Docs等。Gmail是一个电子邮箱的SaaS平台，Google Docs是一个界面类似于微软Office产品的SaaS平台。&lt;/p>
&lt;h3 id="microsoft-azure">Microsoft Azure
&lt;/h3>&lt;p>Windows Azure是Microsoft&lt;strong>云平台上的操作系统&lt;/strong>。Microsoft在云计算的目标不仅仅是提供一个云计算操作系统，而是为开发者提供一个PaaS平台。通常Microsoft Azure是指Mircrosof的Azure服务平台，Windows Azure是指Microsoft的Azure云计算操作系统。&lt;/p>
&lt;h2 id="云存储">云存储
&lt;/h2>&lt;p>云存储（Cloud Storage）的概念与云计算类似，它是指通过&lt;strong>集群应用、网络技术或分布式文件系统&lt;/strong>等功能，将网络中大量各种不同类型的存储设备通过应用软件集合起来协同工作，共同对外提供数据存储和业务访问功能的一个系统。&lt;/p>
&lt;p>用户使用云存储，并不是使用某一个存储设备，而是使用整个云存储系统带来的一种数据访问服务。云存储的核心是应用软件与存储设备相结合，通过应用软件来实现存储设备向存储服务的转变，是一个以数据存储和管理为核心的云计算系统。&lt;/p>
&lt;p>当云计算系统运算和处理的核心是大量数据的存储和管理时，云计算系统中就需要配置大量的存储设备，那么云计算系统就转变成为一个云存储系统，所以&lt;strong>云存储是一个以数据存储和管理为核心的云计算系统&lt;/strong>。&lt;/p>
&lt;h3 id="云存储架构">云存储架构
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>紧耦合对称（TCS）架构&lt;/p>
&lt;p>传统的存储系统利用紧耦合对称架构，这种架构的设计旨在解决HPC（高性能计算、超级运算）问题，现在其正在向外扩展成为云存储，从而满足快速呈现的市场需求。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>松耦合非对称（LCA）架构&lt;/p>
&lt;p>新的存储系统已经采用了松弛耦合非对称架构，集中元数据和控制操作，这种架构并不非常适合高性能HPC，但是这种设计旨在解决云部署的大容量存储需求。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="云存储类型">云存储类型
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>块存储&lt;/p>
&lt;p>块存储会把单笔的数据写到不同的硬盘，借以得到较大的单笔读写带宽，适合用在数据库或者需要单笔数据快速读写的应用。它的优点是对单笔数据读写很快，缺点是成本较高，并且无法解决真正海量文件的存储。&lt;/p>
&lt;ul>
&lt;li>DAS是直接连接于主机服务器的一种储存方式，每一台主机服务器有独立的存储设备，每台主机服务器的存储设备无法互通，需要跨主机存取资料时，必须经过相对复杂的设定，是一种应用较为早的技术实现。&lt;/li>
&lt;li>SAN是一种用高速（光纤）网络连接专业主机服务器的一种储存方式，此系统会位于主机群的后端，它使用高速I/O 连接方式，如SCSI、ESCON 及Fibre-Channels。SAN特点是代价高、性能好。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>文件存储&lt;/p>
&lt;p>文件存储是基于文件级别的存储，它是把一个文件放在一个硬盘上，即使文件太大拆分时，也放在同一个硬盘上。它的缺点是对单一文件的读写会受到单一硬盘效能的限制，优点是对一个多文件、多人使用的系统，总带宽可以随着存储节点的增加而扩展，它的架构可以无限制地扩容，并且成本低廉。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>对象存储&lt;/p>
&lt;p>与文件系统不同，对象存储系统并非将文件组织成一个目录层次结构，而是在一个扁平化的容器组织中存储文件（在Amazon的S3系统中被称作“桶”），并使用唯一的ID（在S3中被称作“关键字”）来检索它们。其结果是对象存储系统相比文件系统需要更少的元数据来存储和访问文件，并且它们还减少了因存储元数据而产生的管理文件元数据的开销。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="存储虚拟化">存储虚拟化
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>基于主机&lt;/strong>的虚拟化存储的实现，其核心技术是通过增加一个运行在操作系统下的逻辑卷管理软件将磁盘上的物理块号映射成逻辑卷号，并以此实现把多个物理磁盘阵列映射成一个统一的虚拟的逻辑存储空间（逻辑块），实现存储虚拟化的控制和管理。&lt;/li>
&lt;li>&lt;strong>基于存储设备&lt;/strong>虚拟化技术依赖于提供相关功能的存储设备的阵列控制器模块，常见于高端存储设备，其主要应用针对异构的SAN存储构架。&lt;/li>
&lt;li>&lt;strong>基于存储网络&lt;/strong>虚拟化的技术的核心是在存储区域网中增加虚拟化引擎实现存储资源的集中管理，其具体实施一般是通过具有虚拟化支持能力的路由器或交换机实现。在此基础上，存储网络虚拟化又可以分为带内虚拟化与带外虚拟化两类。&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>实现层面&lt;/strong>&lt;/th>
&lt;th>&lt;strong>主　　机&lt;/strong>&lt;/th>
&lt;th>&lt;strong>网　　络&lt;/strong>&lt;/th>
&lt;th>&lt;strong>设　　备&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>优点&lt;/strong>&lt;/td>
&lt;td>支持异构的存储系统；不占用磁盘控制器资源&lt;/td>
&lt;td>与主机无关，不占用主机资源；能够支持异构主机、异构存储设备；对不同存储设备构建统一管理平台，可扩展性好&lt;/td>
&lt;td>与主机无关，不占用主机资源；数据管理功能丰富；技术成熟度高&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>缺点&lt;/strong>&lt;/td>
&lt;td>占用主机资源，降低应用性能；存在操作系统和应用的兼容性问题；主机数量越多，管理成本越高&lt;/td>
&lt;td>占用交换机资源；面临带内、带外的选择；存储设备兼容性需要严格验证；原有的磁盘阵列的高级存储功能将不能使用&lt;/td>
&lt;td>受制于存储控制器接口资源，虚拟化能力较弱；异构厂家存储设备的高级存储功能将不能使用&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>主要用途&lt;/strong>&lt;/td>
&lt;td>使服务器的存储空间可以跨越多个异构磁盘阵列，常用于在不同磁盘阵列之间做数据镜像保护&lt;/td>
&lt;td>异构存储系统整合和统一数据管理（灾备）&lt;/td>
&lt;td>异构存储系统整合和统一数据管理（灾备）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>适用场景&lt;/strong>&lt;/td>
&lt;td>主机已采用SF卷管理，需要新接多台存储设备；存储系统中包含异构阵列设备；业务持续能力与数据吞吐要求较高&lt;/td>
&lt;td>系统包括不同品牌和型号的主机与存储设备；对数据无缝迁移及数据格式转换有较高时间性保证&lt;/td>
&lt;td>系统中包括自带虚拟化功能的高端存储设备与若干需要利旧的中低端存储&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>不适用场景&lt;/strong>&lt;/td>
&lt;td>主机数量大，采用SF会涉及高昂的费用，待迁入系统数据量过大，如果只能采取存储级迁移方式，数据格式转换将耗费大量的时间和人力&lt;/td>
&lt;td>对业务持续能力和稳定性要求苛刻&lt;/td>
&lt;td>需要新购机头时，费用较高；存在更高端的存储设备&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="swift">Swift
&lt;/h3>&lt;p>&lt;strong>Swift&lt;/strong>是OpenStack开源云计算项目的子项目之一，被称为对象存储，其提供了强大的扩展性、冗余性和持久性。&lt;/p>
&lt;p>&lt;strong>Swift&lt;/strong>是一个可以存放大量&lt;strong>非结构化数据&lt;/strong>的、支持&lt;strong>多租户&lt;/strong>的、可以&lt;strong>高扩展&lt;/strong>的&lt;strong>持久性对象存储系统&lt;/strong>。Swift通过REST API来存放、检索和删除容器中的对象。开发者可以直接通过Swift API使用Swift服务，也可以通过多种语言的客户库程序中的任何一个进行使用，例如Java、Python、PHP和C#。&lt;/p>
&lt;h2 id="spark">Spark
&lt;/h2>&lt;p>Spark最初由美国加州伯克利大学（UCBerkeley）的AMP实验室于2009年开发，是基于内存计算的大数据并行计算框架，可用于构建大型的、低延迟的数据分析应用程序。2013年Spark加入Apache孵化器项目后发展迅猛，如今已成为Apache软件基金会最重要的三大分布式计算系统开源项目之一（Hadoop、Spark、Storm）。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220406152300575.png"
loading="lazy"
alt="image-20220406152300575"
>&lt;/p>
&lt;h3 id="scala">Scala
&lt;/h3>&lt;p>Scala是一门现代的多范式编程语言，运行于Java平台（JVM，Java 虚拟机），并兼容现有的Java程序。Scala的特性：&lt;/p>
&lt;p>Scala具备强大的并发性，支持函数式编程，可以更好地支持分布式系统&lt;/p>
&lt;p>Scala语法简洁，能提供优雅的API, Scala兼容Java，运行速度快，且能融合到Hadoop生态圈中&lt;/p>
&lt;p>Scala是Spark的&lt;strong>主要编程语言&lt;/strong>，但Spark还支持Java、Python、R作为编程语言；&lt;/p>
&lt;p>Scala的优势是提供了REPL（Read-Eval-Print Loop，交互式解释器），提高程序开发效率。&lt;/p>
&lt;h3 id="运行架构">运行架构
&lt;/h3>&lt;p>Spark运行架构包括集群资源管理器（Cluster Manager）、运行作业任务的工作节点（Worker Node）、每个应用的任务控制节点（Driver）和每个工作节点上负责具体任务的执行进程（Executor）&lt;/p>
&lt;h4 id="前置概念">前置概念
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>RDD：是Resillient Distributed Dataset（弹性分布式数据集）的简称，是分布式内存的一个抽象概念，提供了一种高度受限的共享内存模型&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DAG：是Directed Acyclic Graph（有向无环图）的简称，反映RDD之间的依赖关系&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Executor：是运行在工作节点（WorkerNode）的一个进程，负责运行Task&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Application：用户编写的Spark应用程序&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Job：一个Job包含多个RDD及作用于相应RDD上的各种操作&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Stage：是Job的基本调度单位，一个Job会分为多组Task，每组Task被称为Stage，或者也被称为TaskSet，代表了一组关联的、相互之间没有Shuffle依赖关系的任务组成的任务集&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Task：运行在Executor上的工作单元&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>一个Application由一个Driver和若干个Job构成，一个Job由多个Stage构成，一个Stage由多个没有Shuffle关系的Task组成。当执行一个Application时，Driver会向集群管理器申请资源，启动Executor，并向Executor发送应用程序代码和文件，然后在Executor上执行Task，运行结束后，执行结果会返回给Driver，或者写到HDFS或者其他数据库中&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220406153737189.png"
loading="lazy"
alt="image-20220406153737189"
>&lt;/p></description></item><item><title>【Git】Concepts</title><link>https://dyhes.github.io/p/gitconcepts/</link><pubDate>Wed, 13 Apr 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/gitconcepts/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>Git is a &lt;strong>version control system&lt;/strong>. Git helps you &lt;strong>keep track of code changes.&lt;/strong> Git is used to &lt;strong>collaborate&lt;/strong> on code.&lt;/p>
&lt;p>Git and GitHub are different things. In this tutorial you will understand what Git is and how to use it on the remote repository platforms, like GitHub.&lt;/p>
&lt;p>Git allow you to:&lt;/p>
&lt;ul>
&lt;li>Manage projects with &lt;strong>Repositories&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Clone&lt;/strong> a project to work on a local copy&lt;/li>
&lt;li>Control and track changes with &lt;strong>Staging&lt;/strong> and &lt;strong>Committing&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Branch&lt;/strong> and &lt;strong>Merge&lt;/strong> to allow for work on different parts and versions of a project&lt;/li>
&lt;li>&lt;strong>Pull&lt;/strong> the latest version of the project to a local copy&lt;/li>
&lt;li>&lt;strong>Push&lt;/strong> local updates to the main project&lt;/li>
&lt;/ul>
&lt;h2 id="work-flow">work flow
&lt;/h2>&lt;ul>
&lt;li>Initialize Git on a folder, making it a &lt;strong>Repository&lt;/strong>&lt;/li>
&lt;li>Git now creates a hidden folder to keep track of changes in that folder&lt;/li>
&lt;li>When a file is changed, added or deleted, it is considered &lt;strong>modified&lt;/strong>&lt;/li>
&lt;li>You select the modified files you want to &lt;strong>Stage&lt;/strong>&lt;/li>
&lt;li>The &lt;strong>Staged&lt;/strong> files are &lt;strong>Committed&lt;/strong>, which prompts Git to store a &lt;strong>permanent&lt;/strong> snapshot of the files&lt;/li>
&lt;li>Git allows you to see the full history of every commit.&lt;/li>
&lt;li>You can revert back to any previous commit.&lt;/li>
&lt;li>Git does not store a separate copy of every file in every commit, but keeps track of changes made in each commit!&lt;/li>
&lt;/ul>
&lt;h2 id="file-states">File States
&lt;/h2>&lt;p>Files in your Git repository folder can be in one of 2 states:&lt;/p>
&lt;ul>
&lt;li>Tracked - files that Git knows about and are added to the repository&lt;/li>
&lt;li>Untracked - files that are in your working directory, but not added to the repository&lt;/li>
&lt;/ul>
&lt;p>When you first add files to an empty repository, they are all untracked. To get Git to track them, you need to stage them, or add them to the staging environment.&lt;/p>
&lt;h2 id="staging-environment">Staging Environment
&lt;/h2>&lt;p>One of the core functions of Git is the concepts of the Staging Environment, and the Commit.&lt;/p>
&lt;p>As you are working, you may be &lt;strong>adding, editing and removing&lt;/strong> files. But whenever you hit a &lt;strong>milestone&lt;/strong> or finish a part of the work, you should add the files to a Staging Environment.&lt;/p>
&lt;p>&lt;strong>Staged&lt;/strong> files are files that are &lt;strong>ready&lt;/strong> to be &lt;strong>committed&lt;/strong> to the repository you are working on.&lt;/p>
&lt;h2 id="commit">Commit
&lt;/h2>&lt;p>Since we have finished our work, we are ready move from &lt;code>stage&lt;/code> to &lt;code>commit&lt;/code> for our repo.&lt;/p>
&lt;p>Adding commits keep track of our progress and changes as we work. Git considers each &lt;code>commit&lt;/code> change point or &amp;ldquo;save point&amp;rdquo;. It is a point in the project you can go back to if you find a bug, or want to make a change.&lt;/p>
&lt;p>When we &lt;code>commit&lt;/code>, we should &lt;strong>always&lt;/strong> include a &lt;strong>message&lt;/strong>.&lt;/p>
&lt;p>Sometimes, when you make small changes, using the staging environment seems like a waste of time. It is possible to commit changes directly, skipping the staging environment. The &lt;code>-a&lt;/code> option will automatically stage every changed, already tracked file.&lt;/p>
&lt;p>Skipping the Staging Environment is not generally recommended.&lt;/p>
&lt;p>Skipping the stage step can sometimes make you include unwanted changes.&lt;/p>
&lt;h2 id="help">Help
&lt;/h2>&lt;p>If you are having trouble remembering commands or options for commands, you can use Git &lt;code>help&lt;/code>.&lt;/p>
&lt;p>There are a couple of different ways you can use the &lt;code>help&lt;/code> command in command line:&lt;/p>
&lt;ul>
&lt;li>&lt;code>git command -help&lt;/code> - See all the &lt;strong>available options&lt;/strong> for the specific command&lt;/li>
&lt;li>&lt;code>git help --all&lt;/code> - See all possible commands&lt;/li>
&lt;/ul>
&lt;h2 id="branch">Branch
&lt;/h2>&lt;p>In Git, a &lt;code>branch&lt;/code> is a new/&lt;strong>separate&lt;/strong> version of the main repository.&lt;/p>
&lt;p>Branches allow you to work on different parts of a project without impacting the main branch.&lt;/p>
&lt;p>When the work is complete, a branch can be merged with the main project.&lt;/p>
&lt;p>You can even switch between branches and work on different projects without them interfering with each other.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>new branch&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git branch branch-name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>list branch&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git branch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch -a &lt;span class="o">(&lt;/span>&lt;span class="nb">local&lt;/span> and fetched remote&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch -r &lt;span class="o">(&lt;/span>only remote&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>delete branch&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git branch -d branch-name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>switch to branch&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git checkout branch-name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Note:&lt;/strong> Using the &lt;code>-b&lt;/code> option on &lt;code>checkout&lt;/code> will create a new branch, and move to it, if it does not exist.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>merge branch&lt;/p>
&lt;p>&lt;code>git merge another-branch&lt;/code>&lt;/p>
&lt;p>merge&lt;code>another-branch&lt;/code>to current branch.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="undo">Undo
&lt;/h2>&lt;h3 id="revert">Revert
&lt;/h3>&lt;p>&lt;code>revert&lt;/code> is the command we use when we want to take a previous &lt;code>commit&lt;/code> and add it as a new &lt;code>commit&lt;/code>, keeping the &lt;code>log&lt;/code> intact.&lt;/p>
&lt;p>Step 1: Find the previous &lt;code>commit&lt;/code>:&lt;/p>
&lt;p>&lt;img src="https://www.w3schools.com/git/img_revert_part1.gif"
loading="lazy"
alt="Git Revert Step 1"
>&lt;/p>
&lt;p>Step 2: Use it to make a new &lt;code>commit&lt;/code>:&lt;/p>
&lt;p>&lt;img src="https://www.w3schools.com/git/img_revert_part2.gif"
loading="lazy"
alt="Git Revert Step 2"
>&lt;/p>
&lt;p>First thing, we need to find the point we want to return to. To do that, we need to go through the &lt;code>log&lt;/code>.&lt;/p>
&lt;p>To avoid the very long log list, we are going to use the &lt;code>--oneline&lt;/code> option, which gives just one line per commit showing:&lt;/p>
&lt;ul>
&lt;li>The first seven characters of the &lt;code>commit hash&lt;/code>&lt;/li>
&lt;li>the &lt;code>commit message&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>We revert the latest &lt;code>commit&lt;/code> using git &lt;code>revert HEAD&lt;/code> (&lt;code>revert&lt;/code> the latest change, and then &lt;code>commit&lt;/code>), adding the option &lt;code>--no-edit&lt;/code> to skip the commit message editor (getting the default &lt;code>revert&lt;/code> message)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git revert HEAD --no-edit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="reset">Reset
&lt;/h3>&lt;p>&lt;code>reset&lt;/code> is the command we use when we want to move the repository back to a previous &lt;code>commit&lt;/code>, &lt;strong>discarding&lt;/strong> any changes made after that &lt;code>commit&lt;/code>.&lt;/p>
&lt;p>Step 1: Find the previous &lt;code>commit&lt;/code>:&lt;/p>
&lt;p>&lt;img src="https://www.w3schools.com/git/img_reset_part1.gif"
loading="lazy"
alt="Git Reset Step 1"
>&lt;/p>
&lt;p>Step 2: Move the repository back to that step:&lt;/p>
&lt;p>&lt;img src="https://www.w3schools.com/git/img_reset_part2.gif"
loading="lazy"
alt="Git Reset Step 2"
>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git reset 9a9add8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="amend">Amend
&lt;/h3>&lt;p>&lt;code>commit --amend&lt;/code> is used to modify the most recent &lt;code>commit&lt;/code>.&lt;/p>
&lt;p>It combines changes in the &lt;code>staging environment&lt;/code> with the latest &lt;code>commit&lt;/code>, and creates a new &lt;code>commit&lt;/code>.&lt;/p>
&lt;p>This new &lt;code>commit&lt;/code> &lt;strong>replaces&lt;/strong> the latest &lt;code>commit&lt;/code> entirely.&lt;/p>
&lt;p>One of the simplest things you can do with &lt;code>--amend&lt;/code> is to change a &lt;code>commit&lt;/code> message.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git commit --amend -m &lt;span class="s2">&amp;#34;Added lines to README.md&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ignore">Ignore
&lt;/h2>&lt;p>When sharing your code with others, there are often files or parts of your project, you do not want to share.&lt;/p>
&lt;p>Examples&lt;/p>
&lt;ul>
&lt;li>log files&lt;/li>
&lt;li>temporary files&lt;/li>
&lt;li>hidden files&lt;/li>
&lt;li>personal files&lt;/li>
&lt;li>etc.&lt;/li>
&lt;/ul>
&lt;p>Git can specify which files or parts of your project should be ignored by Git using a &lt;code>.gitignore&lt;/code> file.&lt;/p>
&lt;p>Git will not track files and folders specified in &lt;code>.gitignore&lt;/code>. However, the &lt;code>.gitignore&lt;/code> file itself &lt;strong>IS&lt;/strong> tracked by Git.&lt;/p>
&lt;h2 id="github">Github
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>add origin&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git remote add ori&lt;span class="o">(&lt;/span>or anything you like&lt;span class="o">)&lt;/span> URL
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>update local&lt;/p>
&lt;p>When working as a team on a project, it is important that everyone stays up to date.&lt;/p>
&lt;p>Any time you start working on a project, you should get the most recent changes to your local copy.&lt;/p>
&lt;p>With Git, you can do that with &lt;code>pull&lt;/code>.&lt;/p>
&lt;p>&lt;code>pull&lt;/code> is a combination of 2 different commands:&lt;/p>
&lt;ul>
&lt;li>&lt;code>fetch&lt;/code>&lt;/li>
&lt;li>&lt;code>merge&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Let&amp;rsquo;s take a closer look into how &lt;code>fetch&lt;/code>, &lt;code>merge&lt;/code>, and &lt;code>pull&lt;/code> works.&lt;/p>
&lt;p>&lt;code>fetch&lt;/code> gets all the change history of a tracked branch/repo.&lt;/p>
&lt;p>So, on your local Git, &lt;code>fetch&lt;/code> updates to see what has changed on GitHub:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git pull ori remote-b
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">//create new branch in &lt;span class="nb">local&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull ori remote-b:local-b
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>update remote&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git push ori
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">//create new branch in remote
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push ori local-b:remote-b
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h1 id="commands">Commands
&lt;/h1>&lt;ul>
&lt;li>
&lt;p>&lt;strong>init&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>status&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">On branch master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">No commits yet
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Untracked files:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>use &lt;span class="s2">&amp;#34;git add ...&amp;#34;&lt;/span> to include in what will be committed&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nothing added to commit but untracked files present &lt;span class="o">(&lt;/span>use &lt;span class="s2">&amp;#34;git add&amp;#34;&lt;/span> to track&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git status --short
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> M index.html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Note:&lt;/strong> Short status flags are:&lt;/p>
&lt;ul>
&lt;li>?? - Untracked files&lt;/li>
&lt;li>A - Files added to stage&lt;/li>
&lt;li>M - Modified files&lt;/li>
&lt;li>D - Deleted files&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>add&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git add filename/--all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Using &lt;code>--all&lt;/code> instead of individual filenames will &lt;code>stage&lt;/code> all changes (new, modified, and deleted) files. The shorthand command for &lt;code>git add --all&lt;/code> is &lt;code>git add -A&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>commit&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git commit -m &lt;span class="s2">&amp;#34;First release of Hello World!&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -a -m &lt;span class="s2">&amp;#34;Updated index.html with a new line&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>log&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">commit 09f4acd3f8836b7f6fc44ad9e012f82faf861803 &lt;span class="o">(&lt;/span>HEAD -&amp;gt; master&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Author: w3schools-test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Date: Fri Mar &lt;span class="m">26&lt;/span> 09:35:54 &lt;span class="m">2021&lt;/span> +0100
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Updated index.html with a new line
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">commit 221ec6e10aeedbfd02b85264087cd9adc18e4b26
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Author: w3schools-test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Date: Fri Mar &lt;span class="m">26&lt;/span> 09:13:07 &lt;span class="m">2021&lt;/span> +0100
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> First release of Hello World!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To view the history of commits for a repository, you can use the &lt;code>log&lt;/code> command&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>【Software Testing】Concepts</title><link>https://dyhes.github.io/p/software-testingconcepts/</link><pubDate>Fri, 25 Mar 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/software-testingconcepts/</guid><description>&lt;p>&lt;strong>Software testing&lt;/strong> is a process, to evaluate the functionality of a software application with an intent to find whether the developed software met the specified requirements or not and to identify the defects to ensure that the product is defect-free in order to produce a quality product.&lt;/p>
&lt;h2 id="type">Type
&lt;/h2>&lt;h3 id="by-categories">By Categories
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>White&lt;/strong> Box Testing&lt;/p>
&lt;p>It is also called Glass Box, Clear Box, Structural Testing. White Box Testing is based on the application’s &lt;strong>internal code structure&lt;/strong>. In white-box testing, an &lt;strong>internal perspective&lt;/strong> of the system, as well as programming skills, are used to design test cases. This testing is usually done &lt;strong>at the unit level&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Black&lt;/strong> Box Testing&lt;/p>
&lt;p>It is also called &lt;strong>Behavioral/Specification-Based/Input-Output Testing&lt;/strong>. Black Box Testing is a software testing method in which testers evaluate the functionality of the software under test &lt;strong>without&lt;/strong> looking at the internal code structure.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Functional&lt;/strong> Testing&lt;/p>
&lt;p>In simple words, &lt;strong>what the system actually does&lt;/strong> is functional testing. To verify that each function of the software application behaves as specified in the requirement document. Testing all the functionalities by providing appropriate input to verify whether the actual output is matching the expected output or not. It falls within the scope of black-box testing and the testers need not concern about the source code of the application.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Non-functional&lt;/strong> Testing&lt;/p>
&lt;p>In simple words, &lt;strong>how well the system performs&lt;/strong> is non-functionality testing. Non-functional testing refers to various aspects of the software such as &lt;strong>performance, load, stress, scalability, security, compatibility&lt;/strong>, etc., The Main focus is to improve the &lt;strong>user experience&lt;/strong> on how fast the system responds to a request.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Grey&lt;/strong> Box Testing&lt;/p>
&lt;p>Grey box is the &lt;strong>combination&lt;/strong> of both White Box and Black Box Testing. The tester who works on this type of testing needs to &lt;strong>have access to design documents&lt;/strong>. This helps to create better test cases in this process.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="by-levels">By Levels
&lt;/h3>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220122200442042.png"
loading="lazy"
alt="image-20220122200442042"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Unit&lt;/strong> Testing&lt;/p>
&lt;p>Unit Testing is done to check whether the individual modules of the source code are working properly. i.e. testing each and every unit of the application separately by the developer in the developer’s environment. It is AKA &lt;strong>Module Testing&lt;/strong> or &lt;strong>Component Testing&lt;/strong>. It is performed by using &lt;strong>White Box Testing&lt;/strong> method. There are two types of Unit Testing – &lt;em>&lt;strong>Manual&lt;/strong>&lt;/em> &amp;amp; &lt;em>&lt;strong>Automated&lt;/strong>&lt;/em>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Integration&lt;/strong> Testing&lt;/p>
&lt;p>Integration Testing is the process of testing the &lt;strong>connectivity or data transfer&lt;/strong> between a couple of unit tested modules. It is AKA I&amp;amp;T Testing or String Testing. It is sub divided into &lt;strong>Big Bang Approach, Top Down Approach, Bottom Up Approach and Sandwich or Hybrid Integration Approach&lt;/strong> (Combination of Top Down and Bottom Up).&lt;/p>
&lt;p>This process is carried out by using &lt;strong>dummy programs&lt;/strong> called &lt;strong>Stubs&lt;/strong> and &lt;strong>Drivers&lt;/strong>. Stubs and Drivers do not implement the entire programming logic of the software module but just &lt;strong>simulate data communication&lt;/strong> with the calling module.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Big Bang Approach&lt;/p>
&lt;p>Combining all the modules once and verifying the functionality after completion of individual module testing. In Big Bang Integration Testing, the individual modules are not integrated until all the modules are ready. Then they will run to check whether it is performing well. In this type of testing, some disadvantages might occur like, defects can be found at the later stage. It would be difficult to find out whether the defect arouse in interface or in module.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Top-Down Approach&lt;/p>
&lt;p>&lt;img src="https://www.softwaretestingmaterial.com/wp-content/uploads/2018/08/Top-Down-Approach.png?ezimgfmt=rs:781x439/rscb5/ng:webp/ngcb5"
loading="lazy"
>&lt;/p>
&lt;p>In Top Down Integration Testing, testing takes place &lt;strong>from top to bottom&lt;/strong>. High-level modules are tested first and then low-level modules and finally integrating the low-level modules to a high level to ensure the system is working as intended.&lt;/p>
&lt;p>In this type of testing, &lt;strong>Stubs&lt;/strong> are used as &lt;strong>temporary module&lt;/strong> if a module is not ready for integration testing.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bottom-Up Approach&lt;/p>
&lt;p>&lt;img src="https://www.softwaretestingmaterial.com/wp-content/uploads/2018/08/Bottom-Up-Approach.png?ezimgfmt=rs:781x439/rscb5/ng:webp/ngcb5"
loading="lazy"
alt="Bottom Up Approach"
>&lt;/p>
&lt;p>It is a reciprocate of the Top-Down Approach. In Bottom Up Integration Testing, testing takes place from bottom to up. Lowest level modules are tested first and then high-level modules and finally integrating the high-level modules to a low level to ensure the system is working as intended. Drivers are used as a temporary module for integration testing.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Hybrid Integration Approach&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>System&lt;/strong> Testing&lt;/p>
&lt;p>It’s a &lt;strong>black box testing&lt;/strong>. Testing the fully integrated application is also called as an &lt;strong>end to end scenario testing&lt;/strong>. To ensure that the software works in all intended target systems. Verify thorough testing of every input in the application to check for desired outputs. Testing of the user’s experiences with the application.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Acceptance&lt;/strong> Testing&lt;/p>
&lt;p>To obtain customer sign-off so that software can be delivered and payments received. Types of Acceptance Testing are &lt;strong>Alpha, Beta &amp;amp; Gamma Testing&lt;/strong>. Acceptance tests are formal tests executed to verify if a system satisfies its business requirements. They require the entire application to be up and running and focus on replicating user behaviors. But they can also go further and measure the performance of the system and reject changes if certain goals are not met.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Alpha Testing&lt;/p>
&lt;p>Alpha testing is mostly like performing &lt;strong>usability testing&lt;/strong> which is done by the &lt;strong>in-house developers&lt;/strong> who developed the software. Sometimes this alpha testing is done by the &lt;strong>client or outsiders&lt;/strong> with the presence of developers or testers.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Beta Testing&lt;/p>
&lt;p>Beta testing is done by &lt;strong>a limited number of end users&lt;/strong> before delivery, the change request would be fixed if the user gives feedback or reports defect.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Gamma Testing&lt;/p>
&lt;p>Gamma testing is done when the software is &lt;strong>ready for release&lt;/strong> with specified requirements; this testing is done directly by skipping all the in-house testing activities.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="principles">Principles
&lt;/h2>&lt;p>The Principles of Testing are as follows :&lt;/p>
&lt;ul>
&lt;li>Testing shows the presence of defects&lt;/li>
&lt;li>&lt;strong>Exhaustive&lt;/strong> testing is &lt;strong>impossible&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Early&lt;/strong> testing&lt;/li>
&lt;li>Defect clustering&lt;/li>
&lt;li>Pesticide paradox&lt;/li>
&lt;li>Testing is context-dependent&lt;/li>
&lt;li>Absence of error – a fallacy&lt;/li>
&lt;/ul>
&lt;p>It is equally important to test that your system doesn&amp;rsquo;t break when &lt;strong>bad data&lt;/strong> or &lt;strong>unexpected actions&lt;/strong> are performed.&lt;/p></description></item><item><title>【DNS】Concepts</title><link>https://dyhes.github.io/p/dnsconcepts/</link><pubDate>Tue, 22 Mar 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/dnsconcepts/</guid><description>&lt;h2 id="domain-name">Domain Name
&lt;/h2>&lt;p>A domain name is an &lt;strong>identification string&lt;/strong> that defines a realm of administrative autonomy, authority or control within the Internet.&lt;/p>
&lt;p>Domain names are used in various networking contexts and for &lt;strong>application-specific naming&lt;/strong> and &lt;strong>addressing&lt;/strong> purposes. In general, a domain name &lt;strong>identifies a network domain&lt;/strong>, or it &lt;strong>represents an Internet Protocol&lt;/strong> &lt;strong>(IP) resource&lt;/strong>, such as a personal computer used to access the Internet, a server computer hosting a website, or the web site itself or any other service communicated via the Internet. As of 2017, 330.6 million domain names had been registered.&lt;/p>
&lt;p>A uniform resource locator (URL), sometimes called a web address, contains the domain name of a site as well as other information, including the transfer protocol and the path.&lt;/p>
&lt;h3 id="types">types
&lt;/h3>&lt;p>There are two types of domain names.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>generic&lt;/strong> top-level domains (gTLDs)&lt;/li>
&lt;/ul>
&lt;p>such as .com, .edu, .org, and .gov. Authority over these domains is usually delegated to private organizations.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>country-code&lt;/strong> top-level domains (ccTLDs).&lt;/li>
&lt;/ul>
&lt;p>Each country in the world has its own &lt;strong>2-letter code&lt;/strong>. These domains are administered by authorities in each country.&lt;/p>
&lt;p>Some ccTLDs, such as .tv (for the island nation of Tuvalu) and .io (the British Indian Ocean Territory), have become popular for use outside of their home countries.&lt;/p>
&lt;h2 id="domain-name-system">Domain Name System
&lt;/h2>&lt;p>The Domain Name System (DNS) is the &lt;strong>hierarchical and decentralized naming system&lt;/strong> used to identify computers, services, and other resoures reachable through the Internet or other Internet Protocol (IP) networks.&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220324153500031.png"
loading="lazy"
alt="image-20220324153500031"
>&lt;/p>
&lt;p>The domain name system is administered by the &lt;strong>Internet Corporation for Assigned Names and Numbers(ICANN)&lt;/strong>, a non-profit organization based in California founded in &lt;strong>1998&lt;/strong>.&lt;/p>
&lt;p>A standard called &lt;strong>DNSSEC&lt;/strong> seeks to beef up DNS security with &lt;strong>encryption&lt;/strong>, but few people have adopted it.&lt;/p>
&lt;h2 id="dns-server-type">DNS Server Type
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>DNS recursor&lt;/strong> ( &lt;strong>librarian&lt;/strong> who is asked to go find a particular book somewhere in a library)&lt;/li>
&lt;/ul>
&lt;p>The DNS recursor is a server designed to &lt;strong>receive queries from client machines through applications such as web browsers&lt;/strong>. Typically the recursor is then responsible for &lt;strong>making additional requests&lt;/strong> in order to satisfy the client’s DNS query.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Root Nameserver&lt;/strong> ( an index in a library that points to different racks of books) The root server is the first step in translating (resolving) human readable host names into IP addresses. it serves as a reference to other more specific locations.&lt;/li>
&lt;li>&lt;strong>TLD(top level domain server) Nameserver&lt;/strong>- (a specific rack of books in a library.) This nameserver is the next step in the search for a specific IP address, and it hosts the last portion of a hostname (In example.com, the TLD server is “com”).&lt;/li>
&lt;li>&lt;strong>Authoritative Nameserver&lt;/strong> -( dictionary on a rack of books, in which a specific name can be translated into its definition.) The authoritative nameserver is the last stop in the nameserver query. If the authoritative name server has access to the requested record, it will return the IP address for the requested hostname back to the DNS Recursor (the librarian) that made the initial request.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220324154414911.png"
loading="lazy"
alt="image-20220324154414911"
>&lt;/p>
&lt;h3 id="chache">Chache
&lt;/h3>&lt;p>caching is a data persistence process that helps short-circuit the necessary requests by serving the requested resource record earlier in the DNS lookup.&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120142648564.png"
loading="lazy"
alt="image-20220120142648564"
>&lt;/p>
&lt;h2 id="subdomain">Subdomain
&lt;/h2>&lt;p>It’s worth mentioning that in instances where the query is for a subdomain such as foo.example.com or blog.cloudflare.com an &lt;strong>additional nameserver&lt;/strong> will be added to the sequence &lt;strong>after the authoritative nameserver&lt;/strong>, which is responsible for storing the subdomain’s &lt;strong>CNAME record&lt;/strong>.&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220324154954437.png"
loading="lazy"
alt="image-20220324154954437"
>&lt;/p></description></item><item><title>【Redis】Concepts</title><link>https://dyhes.github.io/p/redisconcepts/</link><pubDate>Wed, 02 Mar 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/redisconcepts/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;h3 id="what-is-redis">What is Redis
&lt;/h3>&lt;p>Redis is a fast in-memory database and cache, is’ name comes from “&lt;strong>RE&lt;/strong>mote &lt;strong>DI&lt;/strong>ctionary &lt;strong>S&lt;/strong>erver”.&lt;/p>
&lt;p>By default Redis stores data in memory, with periodic disk persistence as a default. As Redis persists data to disk it can serve as a classical database for many use cases as well as a cache.&lt;/p>
&lt;h3 id="intelligent-caching">Intelligent Caching
&lt;/h3>&lt;p>By default Redis stores data in memory, with periodic disk persistence as a default. As Redis persists data to disk it can serve as a classical database for many use cases as well as a cache.&lt;/p>
&lt;p>Redis is commonly used as a cache to store frequently accessed data in memory so that applications can be responsive to users.&lt;/p>
&lt;p>With the capacity to:&lt;/p>
&lt;ul>
&lt;li>designate how long you want to keep data(data structures in Redis can be marked with a Time To Live (TTL) set in seconds)&lt;/li>
&lt;li>which data to evict first(In some use cases a least recently used (LRU) or least frequently used (LFU) metric makes more sense for eviction. )&lt;/li>
&lt;/ul>
&lt;p>Redis enables a series of intelligent caching patterns.&lt;/p>
&lt;h3 id="other-features">Other Features
&lt;/h3>&lt;h4 id="publication-and-subscription-messaging-pubsub">Publication and Subscription Messaging (Pub/Sub)
&lt;/h4>&lt;p>Pub/Sub messaging allows for messages to be passed to channels and for all subscribers to that channel to receive that message.&lt;/p>
&lt;h4 id="lua-scripting">Lua Scripting
&lt;/h4>&lt;p>Redis has a scripting facility which enables custom scripts to be written and executed in the Lua language.&lt;/p>
&lt;h4 id="geospatial-features">Geospatial Features
&lt;/h4>&lt;p>Redis provides a series of geospatial index data structures and commands. Latitude and longitude coordinates are stored and users can query distances between objects or query for objects within a given radius of a point.&lt;/p>
&lt;h4 id="hyperloglog">Hyperloglog
&lt;/h4>&lt;p>The hyperloglog data structure enables approximate set counting in a much smaller space than keeping a full unique set of items.&lt;/p>
&lt;h4 id="bitmaps">Bitmaps
&lt;/h4>&lt;p>Bitmaps allow for the highly efficient storage of True and False values as 1 or 0 inside Redis strings.&lt;/p>
&lt;h3 id="persist-to-disk">Persist to Disk
&lt;/h3>&lt;p>Redis can be configured to write to disk in two formats, a binary format and an “append only file” (AOF) format. The binary format mirrors what is in memory and is on by default.&lt;/p>
&lt;p>The AOF file can be turned on in the configuration and is a simple log of all commands which can be replayed to return a node to its previous state.&lt;/p></description></item><item><title>【Spring Boot】Concepts</title><link>https://dyhes.github.io/p/spring-bootconcepts/</link><pubDate>Sat, 08 Jan 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/spring-bootconcepts/</guid><description>&lt;h2 id="tmp">Tmp
&lt;/h2>&lt;p>In Spring’s approach to building RESTful web services, HTTP requests are handled by a controller.&lt;/p>
&lt;p>These components are identified by the &lt;a class="link" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html" target="_blank" rel="noopener"
>&lt;code>@RestController&lt;/code>&lt;/a> annotation ( shorthand for including both &lt;code>@Controller&lt;/code> and &lt;code>@ResponseBody&lt;/code>)&lt;/p>
&lt;p>The &lt;code>@GetMapping&lt;/code> annotation ensures that HTTP GET requests to &lt;code>/greeting&lt;/code> are mapped to the &lt;code>greeting()&lt;/code> method.&lt;/p>
&lt;blockquote>
&lt;p>There are companion annotations for other HTTP verbs (e.g. &lt;code>@PostMapping&lt;/code> for POST). There is also a &lt;code>@RequestMapping&lt;/code> annotation that they all derive from, and can serve as a synonym (e.g. &lt;code>@RequestMapping(method=GET)&lt;/code>).&lt;/p>
&lt;/blockquote>
&lt;p>&lt;code>@RequestParam&lt;/code> binds the value of the query string parameter &lt;code>name&lt;/code> into the &lt;code>name&lt;/code> parameter of the &lt;code>greeting()&lt;/code> method. If the &lt;code>name&lt;/code> parameter is absent in the request, the &lt;code>defaultValue&lt;/code> of &lt;code>World&lt;/code> is used.&lt;/p>
&lt;p>A &lt;strong>key&lt;/strong> &lt;strong>difference&lt;/strong> between a &lt;strong>traditional MVC controller&lt;/strong> and the &lt;strong>RESTful web service controller&lt;/strong> is the way that the HTTP response body is created. Rather than relying on a view technology to perform server-side rendering of the greeting data to HTML, this RESTful web service controller populates and &lt;strong>returns a &lt;code>Greeting&lt;/code> object&lt;/strong>. The object data will be written directly to the HTTP response &lt;strong>as JSON.&lt;/strong>&lt;/p>
&lt;p>The &lt;code>Greeting&lt;/code> object must be converted to JSON. Thanks to Spring’s HTTP message converter support, you need not do this conversion manually. Because &lt;a class="link" href="https://github.com/FasterXML/jackson" target="_blank" rel="noopener"
>Jackson 2&lt;/a> is on the classpath, Spring’s &lt;a class="link" href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html" target="_blank" rel="noopener"
>&lt;code>MappingJackson2HttpMessageConverter&lt;/code>&lt;/a> is automatically chosen to convert the &lt;code>Greeting&lt;/code> instance to JSON.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@RestController&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">GreetingController&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">template&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;hello,%s!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AtomicLong&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">counter&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">AtomicLong&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@GetMapping&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;/greeting&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Greeting&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">greeting&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nd">@RequestParam&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">defaultValue&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;World&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Greeting&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">counter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">incrementAndGet&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">template&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Greeting&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">Greeting&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">long&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>@SpringBootApplication&lt;/code> is a convenience annotation that adds all of the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>@Configuration&lt;/code>: Tags the class as a source of bean definitions for the application context.&lt;/li>
&lt;li>&lt;code>@EnableAutoConfiguration&lt;/code>: Tells Spring Boot to start adding beans based on classpath settings, other beans, and various property settings. For example, if &lt;code>spring-webmvc&lt;/code> is on the classpath, this annotation flags the application as a web application and activates key behaviors, such as setting up a &lt;code>DispatcherServlet&lt;/code>.&lt;/li>
&lt;li>&lt;code>@ComponentScan&lt;/code>: Tells Spring to look for other components, configurations, and services in the &lt;code>com/example&lt;/code> package, letting it &lt;strong>find the controllers&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>main()&lt;/code> method uses Spring Boot’s &lt;code>SpringApplication.run()&lt;/code> method to launch an application.&lt;/p>
&lt;p>There was not a single line of XML? There is no &lt;code>web.xml&lt;/code> file, either. This web application is 100% pure Java and you did not have to deal with configuring any plumbing or infrastructure.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@SpringBootApplication&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RestController&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">LearnApplication&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">SpringApplication&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LearnApplication&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="build-an-executable-jar">Build an executable JAR
&lt;/h3>&lt;p>You can run the application from the command line with Gradle or Maven. You can also build a single executable JAR file that contains all the necessary dependencies, classes, and resources and run that. Building an executable jar makes it easy to ship, version, and deploy the service as an application throughout the development lifecycle, across different environments, and so forth.&lt;/p>
&lt;p>If you use Gradle, you can run the application by using &lt;code>./gradlew bootRun&lt;/code>. Alternatively, you can build the JAR file by using &lt;code>./gradlew build&lt;/code> and then run the JAR file, as follows:&lt;/p>
&lt;pre tabindex="0">&lt;code>java -jar build/libs/gs-rest-service-0.1.0.jar
&lt;/code>&lt;/pre>&lt;p>If you use Maven, you can run the application by using &lt;code>./mvnw spring-boot:run&lt;/code>. Alternatively, you can build the JAR file with &lt;code>./mvnw clean package&lt;/code> and then run the JAR file, as follows:&lt;/p>
&lt;pre tabindex="0">&lt;code>java -jar target/gs-rest-service-0.1.0.jar
&lt;/code>&lt;/pre></description></item><item><title>【Java】注解与反射</title><link>https://dyhes.github.io/p/java%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/</link><pubDate>Fri, 07 Jan 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/java%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/</guid><description>&lt;h2 id="class类">Class类
&lt;/h2>&lt;p>Class类的实例提供了特定数据类型的相关信息。&lt;/p>
&lt;p>一个Class类的对象实际上表示的是&lt;strong>一种类型&lt;/strong>。&lt;/p>
&lt;p>获取Class的三种方式&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//（1）.getClass()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Employee&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getClass&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//（2）Class.forName()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;java.util.Date&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//（3）T.Class&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">info1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">info2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Double&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="反射">反射
&lt;/h3>&lt;p>所谓“反射（Reflection）”，就是把Java类中的各种成份映射成相应的另外一些特殊的Java类的实例，从而允许程序在运行时动态地完成一些工作：比如动态装载类型并创建实例，查询类的成员信息，动态地调用方法等。反射技术的&lt;strong>核心类型&lt;/strong>是Class类。&lt;/p>
&lt;p>不管每个类型创建了多少个实例，也不管你用什么方法获取此类型的Class实例，每个类型都只对应一个Class实例。&lt;/p>
&lt;h2 id="动态创建对象">动态创建对象
&lt;/h2>&lt;p>使用构造方法对象或Class对象的&lt;code>newInstance()&lt;/code>方法动态创建指定类型的对象&lt;/p>
&lt;h2 id="注解">注解
&lt;/h2>&lt;p>注解相当于一种标记，加了注解就等于给代码打上了某个标记。javac编译器、 IntelliJ之类IDE以及其他一些注解处理工具（Annotation Processing Tool，APT）就 可以利用它来完成一些特殊的工作。&lt;/p>
&lt;ul>
&lt;li>@Deprecated：标记类的成员已过时&lt;/li>
&lt;li>@Override：要求子类必须覆盖基类的方法&lt;/li>
&lt;li>@Serializable：指定某个类是可以序列化的&lt;/li>
&lt;li>@FunctionalInterface：指定某个方法重写了基类的同名方法&lt;/li>
&lt;/ul>
&lt;h3 id="自定义">自定义
&lt;/h3>&lt;p>注解，其实就是一个使用@interface定义的接口&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@interface&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MyTestAnnotation&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="元注解">元注解
&lt;/h3>&lt;p>定义注解的类型也可以添加“注解”，这种针对“注解”的“注解”， 称为“元注解（meta-annotation）”&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Retention&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RetentionPolicy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">RUNTIME&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//指明注解生存的时间&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@Target&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="n">ElementType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">METHOD&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">ElementType&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">TYPE&lt;/span>&lt;span class="p">})&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">//指明注解适用的场合&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nd">@interface&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MyTestAnnotation&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【Java】IO</title><link>https://dyhes.github.io/p/javaio/</link><pubDate>Wed, 05 Jan 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/javaio/</guid><description>&lt;p>从文件中读取内容，向文件中写入内容，截短文件、合并文 件、压缩文件……，诸如此类的操作，称为&lt;strong>文件存取操作&lt;/strong>， 主要使用“流（Stream）”来完成&lt;/p>
&lt;p>与文件操作相关的类，集中于java.io包中。&lt;/p>
&lt;p>Java 1.4中加入了一个New I/O API，提供了一些类完成文件和流操作。&lt;/p>
&lt;p>Java 7中又加入了一些新类型，称为NIO.2，NIO.2中最重要的是引入了&lt;strong>Path&lt;/strong>和 &lt;strong>AutoCloseable&lt;/strong>接口，还有一个&lt;strong>Files类&lt;/strong>，它的静态方法封装了文件的常用操作。&lt;/p>
&lt;h2 id="file类">File类
&lt;/h2>&lt;p>Java使用File类来统一操作文件和文件夹。&lt;/p>
&lt;ul>
&lt;li>java.io.File代表与平台无关的文件或目录。也就是说可以通过File类在Java程序中操作文件或目录；&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>File类只能用来&lt;strong>操作&lt;/strong>文件或目录（包括新建、删除、重命名文件和目录等操作），但&lt;strong>不能用来访问&lt;/strong>文件中的内容；&lt;/li>
&lt;li>如果需要访问文件中的内容，则需要使用输入/输出流。&lt;/li>
&lt;/ul>
&lt;p>&lt;code>RandomAccessFile&lt;/code>（随机文件操作）：一个独立的类，直接继承至Object.它的功能丰富，可以从文件的任意位置进行存取（输入输出）操作。&lt;code>RandomAccessFile&lt;/code>类支持“随机访问”方式，这里“随机”是指可以跳转到文件的任意位置处读写数据。 在访问一个文件的时候，不必把文件从头读到尾，而是希望像访问一个数据库一样“随心所欲”地访问一个文件的某个部分，这时使用类就是最佳选择。‎
&lt;code>RandomAccessFile&lt;/code>对象类有个&lt;strong>位置指示器‎&lt;/strong>‎，指向当前读写处的位置，当前读写n个字节后，文件指示器将指向这n个字节后面的下一个字节处。 刚打开文件时，文件指示器指向文件的开头处，可以移动文件指示器到新的位置，随后的读写操作将从新的位置开始。 类在数据等长记录格式文件的随机（相对顺序而言）读取时有很大的优势，但该类仅限于操作文件，不能访问其他的I/O设备，如网络、内存映像等。&lt;/p>
&lt;h2 id="io-stream">&lt;strong>IO Stream&lt;/strong>
&lt;/h2>&lt;h4 id="分类">分类
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>根据操作数据类型（&lt;em>能用记事本打开并能看到其中的字符内容的是文本文件，反之是二进制文件&lt;/em>）&lt;/p>
&lt;ul>
&lt;li>
&lt;p>字节流：二进制，以字节为单位&lt;/p>
&lt;p>字节流的两个基类 InputStream和OutputStream&lt;/p>
&lt;p>凡是以InputStream或OutputStream结尾的类型为字节流&lt;/p>
&lt;/li>
&lt;li>
&lt;p>字符流：文本,以字符（2个字节）为单位&lt;/p>
&lt;p>字符流的两个基类 Reader和Writer&lt;/p>
&lt;p>凡是以Reader或Writer结尾的均为字符流&lt;/p>
&lt;/li>
&lt;li>
&lt;p>区别&lt;/p>
&lt;ul>
&lt;li>字节流没有缓冲区，是直接输出的，而字符流是输出到缓冲区的。因此在输出时，字节流不调用&lt;code>colse()&lt;/code>方法时，信息已经输出了，而字符流只有在调用close()方法关闭缓冲区时，信息才输出。要想字符流在未关闭时输出信息，则需要手动调用flush()方法；&lt;/li>
&lt;li>读写单位不同：字节流以字节（&lt;code>8bit&lt;/code>）为单位，字符流以字符为单位，根据码表映射字符，一次可能读多个字节；&lt;/li>
&lt;li>处理对象不同：字节流能处理所有类型的数据（如图片、&lt;code>avi&lt;/code>等），而字符流只能处理字符类型的数据；&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>根据流向&lt;/p>
&lt;ul>
&lt;li>输入流&lt;/li>
&lt;li>输出流&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>根据具体功能&lt;/p>
&lt;ul>
&lt;li>
&lt;p>节点流：以从或向一个特定的地方（节点）读写数据。&lt;/p>
&lt;p>1、文件： &lt;code>FileInputStream&lt;/code> 、&lt;code>FileOutputStream&lt;/code>、 &lt;code>FileReader&lt;/code>和 &lt;code>FileWriter&lt;/code> 文件进行处理的节点流； 　　&lt;/p>
&lt;p>2、字符串： &lt;code>StringReader&lt;/code> 和&lt;code>StringWriter&lt;/code> 对字符串进行处理的节点流； 　　&lt;/p>
&lt;p>3、数组： &lt;code>ByteArrayInputStream&lt;/code>、&lt;code>ByteArrayOutputStream&lt;/code>、&lt;code>CharArrayReader&lt;/code>和&lt;code>CharArrayWriter&lt;/code> 对数组进行处理的节点流(对应的不再是文件，而是内存中的一个数组)； 　　&lt;/p>
&lt;p>4、管道： &lt;code>PipedInputStream&lt;/code> 、&lt;code>PipedOutputStream&lt;/code> 和&lt;code>PipedReaderPipedWriter&lt;/code>对管道进行处理的节点流； 　　&lt;/p>
&lt;p>5、基类： &lt;code>InputStream&lt;/code>、 &lt;code>OutputStream&lt;/code>、 &lt;code>Reader&lt;/code>和 &lt;code>Writer&lt;/code>；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>处理流：是对一个已存在的流的&lt;strong>连接和封装&lt;/strong>，通过所封装的流的功能调用实现数据读写。处理流的构造方法总是要带一个其他的流对象做参数。一个流对象经过其他流的多次包装，称为流的链接。&lt;/p>
&lt;p>1、缓冲流：&lt;code>BufferedInputStream&lt;/code>、 &lt;code>BufferedOutputStream&lt;/code>、 &lt;code>BufferedReader&lt;/code>和&lt;code>BufferedWriter&lt;/code> 　增加缓冲功能，避免频繁读写硬盘。 　　&lt;/p>
&lt;p>2、转换流：&lt;code>InputStreamReader&lt;/code>和 &lt;code>OutputStreamReader&lt;/code>实现字节流和字符流之间的转换。 　　&lt;/p>
&lt;p>3、数据流 &lt;code>DataInputStream&lt;/code>和&lt;code>DataOutputStream&lt;/code>等提供将基础数据类型写入到文件中，或者读取出来。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://pics2.baidu.com/feed/6159252dd42a28341e23dde5587a81ec17cebfa8.jpeg?token=201587ab58af94624ef1a60c83d1e396&amp;amp;s=C8611F7091BFE5CC1C5D95CB000030B2"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>&lt;img src="https://pic4.zhimg.com/80/v2-a001c51e37e77edf5a73dbba3bc80153_1440w.jpg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h4 id="关闭流">关闭流
&lt;/h4>&lt;p>&lt;strong>流关闭的原则&lt;/strong>：先打开先关闭；如果A依赖B，则先关闭A再关闭B；对于处理流如果将节点流关闭以后再关闭处理流，会抛出IO异常，所以直接关闭处理流就行了，会自动调用关闭里面节点流的方法。&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>注意&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>如果将节点流关闭以后再关闭处理流，会抛出IO异常&lt;/li>
&lt;li>如果关闭了处理流，在关闭与之相关的节点流，也可能出现IO异常。&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="inputstream">InputStream
&lt;/h4>&lt;p>&lt;img src="https://pic1.zhimg.com/80/v2-d464303fd5be6fdb7b11678857824520_1440w.jpg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>&lt;code>ByteArrayInputStream&lt;/code>：字节数组输入流，它的内部缓冲区就是一个字节数组，该类的功能就是从字节数组(&lt;code>byte[]&lt;/code>)中进行以字节为单位的读取资源文件；&lt;/p>
&lt;p>&lt;code>PipedInputStream&lt;/code>：管道字节输入流，它和&lt;code>PipedOutputStream&lt;/code>一起使用，能实现**多线程间的管道通信。**多线程管道通信的主要流程是在一个线程中向&lt;code>PipedOutputStream&lt;/code>写入数据，这些数据会自动传送到对应的管道输入流&lt;code>PipedInputStream&lt;/code>中，其他线程通过读取&lt;code>PipeInputStream&lt;/code>中缓冲的数据实现多线程间通信；&lt;/p>
&lt;p>&lt;code>FilterInputStream&lt;/code> ：过滤输入流，装饰者模式中处于装饰者，具体的装饰者都要继承它，所以在该类的子类下都是用来装饰别的流的，也就是处理类。常见的子类有&lt;code>DataInputStream&lt;/code>和&lt;code>BufferedInputStream&lt;/code>；&lt;/p>
&lt;p>&lt;code>BufferedInputStream&lt;/code>：缓冲输入流，由于基础输入流一个字节一个字节读取,频繁与磁盘进行交互,造成读取速度较低.缓冲流的存在就是先将数据读取到缓冲流(内存中),然后一次性从内存中读取多个字符.提高读取的效率；&lt;/p>
&lt;p>&lt;code>DataInputStream&lt;/code>：数据输入流,以机器无关的方式读取Java的基本类型；&lt;/p>
&lt;p>&lt;code>FileInputSream&lt;/code>：文件输入流，它通常用于对文件进行读取操作；&lt;/p>
&lt;p>&lt;code>File&lt;/code>：对指定目录的文件进行操作。注意，该类虽然是在IO包下，但是并不继承自四大基础类；&lt;/p>
&lt;p>&lt;code>ObjectInputStream&lt;/code>：对象输入流，用来提供对“基本数据或对象”的持久存储。通俗点讲，也就是能直接传输对象（反序列化中使用）。&lt;/p>
&lt;h4 id="outputstream">OutputStream
&lt;/h4>&lt;p>&lt;img src="https://pic4.zhimg.com/80/v2-e208c6f6b8021e0d2a3c519fcbecb6d7_1440w.jpg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>&lt;code>ByteArrayOutputStream&lt;/code>：字节数组输出流，它的内部缓冲区就是一个字节数组，该类的功能就是从字节数组(&lt;code>byte[]&lt;/code>)中进行以字节为单位的写入资源文件；&lt;/p>
&lt;p>&lt;code>PipedOutputStream&lt;/code> ：管道字节输出流，它和&lt;code>PipedInputStream&lt;/code>一起使用，能实现&lt;strong>多线程间的管道通信。&lt;/strong>&lt;/p>
&lt;p>&lt;code>FilterOutputStream&lt;/code> ：过滤输出流，装饰者模式中处于装饰者，具体的装饰者都要继承它，所以在该类的子类下都是用来装饰别的流的，也就是处理类。常见的子类有&lt;code>DatOutputStream&lt;/code>、&lt;code>BufferedOutputStream&lt;/code>和&lt;/p>
&lt;p>&lt;code>BufferedOutputStream&lt;/code>：缓冲输出流，由于基础输入流一个字节一个字节写入,频繁与磁盘进行交互,造成读取速度较低.缓冲流的存在就是先将数据写入到缓冲流(内存中),然后一次性从内存中写入多个字符.提高读取的效率；&lt;/p>
&lt;p>&lt;code>DataOutputStream&lt;/code>：数据输出流,以机器无关的方式读取Java的基本类型；&lt;/p>
&lt;p>&lt;code>PrintStream&lt;/code>：继承了&lt;code>FilterOutputStream&lt;/code>。是&amp;quot;装饰类&amp;quot;的一种,所以属于字节流体系中(与&lt;code>PrintStream&lt;/code>相似的流&lt;code>PrintWriter&lt;/code>继承于&lt;code>Writer&lt;/code>,属于字符流体系中),为其他的输出流添加功能.使它们能够方便打印各种数据值的表示形式；&lt;/p>
&lt;p>&lt;code>FileOutputStream&lt;/code> ：文件输出流，它通常用于对文件进行写入操作；&lt;/p>
&lt;p>&lt;code>ObjectOutputStream&lt;/code> ：对象输出流，用来提供对“基本数据或对象”的持久存储。通俗点讲，也就是能直接传输对象（反序列化中使用），和所有&lt;code>FilterOutputStream&lt;/code> 的子类都是装饰流(序列化中使用)。&lt;/p>
&lt;h4 id="reader">Reader
&lt;/h4>&lt;p>&lt;img src="https://pic1.zhimg.com/80/v2-0e823bac3cb2feab11a1d7db5b598dc4_1440w.jpg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>&lt;code>CharArrayReader&lt;/code> :字符数组输入流。它和&lt;code>ByteArrayInputStream&lt;/code>类似，只不过&lt;code>ByteArrayInputStream&lt;/code>是字节数组输入流，而&lt;code>CharArray&lt;/code>是字符数组输入流&lt;/p>
&lt;p>&lt;code>PipedReader&lt;/code>:管道字符流， 是从与其它线程共用的管道中读取数据。&lt;/p>
&lt;p>&lt;code>FilterReader&lt;/code>：过滤输入字符流， 是所有自定义具体装饰流的父类，为所有装饰类提供一个标准、只是简单重写了父类Reader的所有方法、要求子类必须重写核心方法、和提供具有自己特色的方法、这里没有像字节流那样有很多的子类来实现不同的功能、可能是因为字符流本来就是字节流的一种装饰、所以在这里没有必要再对其进行装饰、只是提供一个扩展的接口而已；&lt;/p>
&lt;p>&lt;code>BufferedReader&lt;/code>：缓冲字符流， 为了提高字符流读写的效率，引入了缓冲机制，进行字符批量的读写，提高了单个字符读写的效率；&lt;/p>
&lt;p>&lt;code>InputStreamReader&lt;/code>是一个连接字节流和字符流的桥梁，它将字节流转变为字符流；&lt;/p>
&lt;p>&lt;code>FileReader&lt;/code>：继承&lt;code>InputStreamReader&lt;/code>，可以说是一个达到此功能、常用的工具类，在其源代码中明显使用了将&lt;code>FileInputStream&lt;/code> 转变为&lt;code>Reader&lt;/code> 的方法。我们可以从这个类中得到一定的技巧。&lt;code>Reader&lt;/code> 中各个类的用途和使用方法基本和&lt;code>InputStream&lt;/code> 中的类使用一致。后面会有&lt;code>Reader&lt;/code> 与&lt;code>InputStream&lt;/code> 的对应关系。&lt;/p>
&lt;h4 id="writer">Writer
&lt;/h4>&lt;p>&lt;img src="https://pic1.zhimg.com/80/v2-e0bddfb105d00fe202435737684e8240_1440w.jpg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>&lt;code>CharArrayWriter&lt;/code>、&lt;code>StringWriter&lt;/code> 是两种基本的介质流，它们分别向&lt;code>Char&lt;/code> 数组、&lt;code>String&lt;/code> 中写入数据。&lt;/p>
&lt;p>&lt;code>PipedWriter&lt;/code> 是向与其它线程共用的管道中写入数据 &lt;code>BufferedWriter&lt;/code> 是一个装饰器为&lt;code>Writer&lt;/code> 提供缓冲功能。&lt;/p>
&lt;p>&lt;code>PrintWriter&lt;/code> 和&lt;code>PrintStream&lt;/code> 极其类似，功能和使用也非常相似。&lt;/p>
&lt;p>&lt;code>OutputStreamWriter&lt;/code> 是&lt;code>OutputStream&lt;/code> 到&lt;code>Writer&lt;/code> 转换的桥梁，它的子类&lt;code>FileWriter&lt;/code> 其实就是一个实现此功能的具体类。功能和使用和&lt;code>OutputStream&lt;/code> 极其类似。&lt;/p>
&lt;p>转换流&lt;/p>
&lt;p>&lt;strong>4.1、定义&lt;/strong>：字符和字节直接的转换，是字符流和字节流之间的桥梁，文本文件在硬盘中以字节流的形式存储时，通过&lt;code>InputStreamReader&lt;/code>读取后转化为字符流给程序处理，即可对读取到的字节数据经过指定编码转换成字符；程序处理的字符流通过&lt;code>OutputStreamWriter&lt;/code>转换为字节流保存，即可对读取到的字符数据经过指定编码转换成字节。&lt;/p>
&lt;p>&lt;strong>4.2、何时使用转换流？&lt;/strong>&lt;/p>
&lt;p>①当字节和字符之间有转换动作时； ②流操作的数据需要编码或解码时。&lt;/p>
&lt;p>&lt;strong>4.3、具体的对象体现：&lt;/strong>&lt;/p>
&lt;p>&lt;code>InputStreamReader&lt;/code>:字节到字符的桥梁 &lt;code>OutputStreamWriter&lt;/code>:字符到字节的桥梁 这两个流对象是字符体系中的成员，它们有转换作用，本身又是字符流，所以在构造的时候需要传入字节流对象进来，即：&lt;/p>
&lt;p>&lt;code>InputStreamReader(InputStream in&lt;/code>)：将字节流以字符流输入。&lt;/p>
&lt;p>&lt;code>OutputStreamWriter&lt;/code>(&lt;code>OutStreamout&lt;/code>):将字节流以字符流输出。&lt;/p>
&lt;h4 id="systemin-and-systemout">&lt;code>System.in&lt;/code> and &lt;code>System.out&lt;/code>
&lt;/h4>&lt;p>&lt;strong>System.in&lt;/strong>和&lt;strong>System.out&lt;/strong>分别代表了系统标准的输入和输出设备
默认输入设备是：键盘，输出设备是：显示器
System.in的类型是InputStream
System.out的类型是PrintStream&lt;/p>
&lt;h4 id="对象流">对象流
&lt;/h4>&lt;p>ObjectInputStream和OjbectOutputSteam用于存储和读取基本数据类型数据或对象的处理流。它的强大之处就是可以把Java中的对象写入到数据源中，也能把对象从数据源中还原回来。&lt;/p>
&lt;ul>
&lt;li>序列化：用ObjectOutputStream类保存基本类型数据或对象的机制&lt;/li>
&lt;li>反序列化：用ObjectInputStream类读取基本类型数据或对象的机制&lt;/li>
&lt;/ul>
&lt;p>ObjectOutputStream和ObjectInputStream不能序列化static和transient修饰的成员变量&lt;/p>
&lt;h4 id="总结">总结
&lt;/h4>&lt;p>&lt;code>InputStream&lt;/code>类的功能不足被&lt;code>Scanner&lt;/code>解决了&lt;/p>
&lt;p>&lt;code>OutputStream&lt;/code>类的功能不足被&lt;code>PrintStream&lt;/code>解决了&lt;/p>
&lt;p>&lt;code>Reader&lt;/code>类功能不足被&lt;code>BufferReader&lt;/code>解决了&lt;/p>
&lt;p>&lt;code>Writer&lt;/code>类的功能不足被&lt;code>PrintWriter&lt;/code>解决了&lt;/p>
&lt;p>输出数据用&lt;code>printStream&lt;/code>，&lt;code>printwriter&lt;/code>读取数据用&lt;code>Scanner&lt;/code>其次是&lt;code>bufferReader&lt;/code>&lt;/p>
&lt;h2 id="nio">NIO
&lt;/h2>&lt;p>java.nio全称java non-blocking IO，是指jdk1.4 及以上版本里提供的新api（New IO） ，为所有的原始类型（boolean类型除外）提供缓存支持的数据容器，使用它可以提供非阻塞式的高伸缩性网络。&lt;/p></description></item><item><title>【Spring】Concepts</title><link>https://dyhes.github.io/p/springconcepts/</link><pubDate>Mon, 03 Jan 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/springconcepts/</guid><description>&lt;h2 id="intro">Intro
&lt;/h2>&lt;p>Spring is a &lt;em>lightweight&lt;/em> framework. It can be thought of as &lt;strong>a &lt;em>framework of frameworks&lt;/em>&lt;/strong> because it provides support to various frameworks such as &lt;a class="link" href="https://www.javatpoint.com/struts-2-tutorial" target="_blank" rel="noopener"
>Struts&lt;/a>, &lt;a class="link" href="https://www.javatpoint.com/hibernate-tutorial" target="_blank" rel="noopener"
>Hibernate&lt;/a>, Tapestry, &lt;a class="link" href="https://www.javatpoint.com/ejb-tutorial" target="_blank" rel="noopener"
>EJB&lt;/a>, &lt;a class="link" href="https://www.javatpoint.com/jsf-tutorial" target="_blank" rel="noopener"
>JSF&lt;/a>, etc.&lt;/p>
&lt;p>The framework, in broader sense, can be defined as &lt;strong>a structure&lt;/strong> where we &lt;strong>find solution&lt;/strong> of the various technical problems.&lt;/p>
&lt;p>The Spring framework comprises several modules such as &lt;strong>IOC, AOP, DAO, Context, ORM, WEB MVC etc&lt;/strong>. We will learn these modules in next page. Let&amp;rsquo;s understand the IOC and Dependency Injection first.&lt;/p>
&lt;p>Inversion Of Control (IOC) and Dependency Injection&lt;/p>
&lt;p>These are the design patterns that are used to &lt;strong>remove dependency&lt;/strong> from the programming code. They make the code &lt;strong>easier to test and maintain&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//bad&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Employee&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Address&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Employee&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Address&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//In such case, there is dependency between the Employee and Address (tight coupling).&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//good&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Employee&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Address&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Employee&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Address&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">address&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Thus, IOC makes the code loosely coupled. In such case, there is no need to modify the code if our logic is moved to new environment.&lt;/p>
&lt;p>In Spring framework, &lt;strong>IOC container&lt;/strong> is responsible to inject the dependency. We provide &lt;strong>metadata&lt;/strong> to the IOC container either by &lt;strong>XML file or annotation&lt;/strong>.&lt;/p>
&lt;p>advantage:&lt;/p>
&lt;ul>
&lt;li>makes the code loosely coupled so easy to &lt;strong>maintain&lt;/strong>&lt;/li>
&lt;li>makes the code easy to &lt;strong>test&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://static.javatpoint.com/images/sp/spmodules.jpg"
loading="lazy"
alt="Spring modules"
>&lt;/p>
&lt;h2 id="ioc-container">IoC Container
&lt;/h2>&lt;p>The IoC container is responsible to &lt;strong>instantiate, configure and assemble the objects&lt;/strong>. The IoC container gets informations from the XML file and works accordingly.&lt;/p>
&lt;p>The main tasks performed by IoC container are:&lt;/p>
&lt;ul>
&lt;li>to instantiate the application class&lt;/li>
&lt;li>to configure the object&lt;/li>
&lt;li>to assemble the dependencies between the objects&lt;/li>
&lt;/ul>
&lt;h3 id="types">types
&lt;/h3>&lt;p>There are two types of IoC containers. They are:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>BeanFactory&lt;/strong>&lt;/li>
&lt;li>&lt;strong>ApplicationContext&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>The ApplicationContext interface is built &lt;strong>on top of&lt;/strong> the BeanFactory interface. It adds some extra functionality than BeanFactory such as simple integration with Spring&amp;rsquo;s AOP, message resource handling (for I18N), event propagation, application layer specific context (e.g. WebApplicationContext) for web application. So it is &lt;strong>better&lt;/strong> to use ApplicationContext than BeanFactory.&lt;/p>
&lt;h4 id="using-beanfactory">Using BeanFactory
&lt;/h4>&lt;p>The XmlBeanFactory is the &lt;strong>implementation&lt;/strong> class for the BeanFactory interface. To use the BeanFactory, we need to create the instance of XmlBeanFactory class as given below:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Resource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">resource&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ClassPathResource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;applicationContext.xml&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">BeanFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">factory&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XmlBeanFactory&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">resource&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The constructor of XmlBeanFactory class receives the Resource object so we need to pass the resource object to create the object of BeanFactory.&lt;/p>
&lt;h4 id="using-applicationcontext">Using ApplicationContext
&lt;/h4>&lt;p>The ClassPathXmlApplicationContext class is the &lt;strong>implementation&lt;/strong> class of ApplicationContext interface. We need to instantiate the ClassPathXmlApplicationContext class to use the ApplicationContext as given below:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ApplicationContext&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">context&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ClassPathXmlApplicationContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;applicationContext.xml&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The constructor of ClassPathXmlApplicationContext class receives string, so we can pass the name of the xml file to create the instance of ApplicationContext.&lt;/p>
&lt;h2 id="di">DI
&lt;/h2>&lt;p>To understand the DI better, Let&amp;rsquo;s understand the Dependency Lookup (DL) first.&lt;/p>
&lt;p>The Dependency Lookup is an approach where we get the resource after demand. There can be various ways to get the resource.&lt;/p>
&lt;p>There are mainly two problems of dependency lookup.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>tight coupling&lt;/strong> The dependency lookup approach makes the code tightly coupled. &lt;strong>If resource is changed&lt;/strong>, we need to perform a lot of modification in the code.&lt;/li>
&lt;li>&lt;strong>Not easy for testing&lt;/strong> This approach creates a lot of problems while testing the application especially in black box testing.&lt;/li>
&lt;/ul>
&lt;p>The Dependency Injection is a design pattern that removes the dependency of the programs. In such case we &lt;strong>provide the information from the external source&lt;/strong> such as XML file.&lt;/p>
&lt;p>Spring framework provides two ways to inject dependency&lt;/p>
&lt;ul>
&lt;li>By Constructor&lt;/li>
&lt;li>By Setter method&lt;/li>
&lt;/ul>
&lt;h3 id="by-constructor">By Constructor
&lt;/h3>&lt;p>The &lt;strong>&lt;constructor-arg>&lt;/strong> subelement of &lt;strong>&lt;bean>&lt;/strong> is used for constructor injection.&lt;/p>
&lt;p>Resource&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;e&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Employee&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;10&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;int&amp;#34;&lt;/span> &lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Sonoo&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>test&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Resource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ClassPathResource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;applicationContext.xml&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">BeanFactory&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">factory&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">XmlBeanFactory&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Employee&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Employee&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">factory&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getBean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;e&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="with-object">With Object
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;a1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Address&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;ghaziabad&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;UP&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;India&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;e&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Employee&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;12&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;int&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Sonoo&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;ref&lt;/span> &lt;span class="na">bean=&lt;/span>&lt;span class="s">&amp;#34;a1&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="with-collection">With Collection
&lt;/h4>&lt;p>We can inject collection values by constructor in spring framework. There can be used three elements inside the &lt;strong>constructor-arg&lt;/strong> element.&lt;/p>
&lt;p>It can be:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>list&lt;/strong>&lt;/li>
&lt;li>&lt;strong>set&lt;/strong>&lt;/li>
&lt;li>&lt;strong>map&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>Each collection can have &lt;strong>string based&lt;/strong> and &lt;strong>non-string based&lt;/strong> values.&lt;/p>
&lt;h5 id="list">list
&lt;/h5>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--string based--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;q&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Question&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;111&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;What is java?&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>Java is a programming language&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>Java is a Platform&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>Java is an Island of Indonasia&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--non-string based--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;ans1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Answer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Java is a programming language&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;John&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;ans2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Answer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Java is a Platform&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Ravi&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;q&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Question&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;111&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;What is java?&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;ref&lt;/span> &lt;span class="na">bean=&lt;/span>&lt;span class="s">&amp;#34;ans1&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;ref&lt;/span> &lt;span class="na">bean=&lt;/span>&lt;span class="s">&amp;#34;ans2&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="map">map
&lt;/h5>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--string based--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;q&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Question&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;11&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;What is Java?&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;Java is a Programming Language&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Ajay Kumar&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;Java is a Platform&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;John Smith&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;Java is an Island&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Raj Kumar&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--non-string based--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;answer1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Answer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Java is a Programming Language&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;12/12/2001&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;answer2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Answer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Java is a Platform&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;12/12/2003&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Arun Kumar&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;arun@gmail.com&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Varun Kumar&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Varun@gmail.com&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;q&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Question&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;What is Java?&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key-ref=&lt;/span>&lt;span class="s">&amp;#34;answer1&amp;#34;&lt;/span> &lt;span class="na">value-ref=&lt;/span>&lt;span class="s">&amp;#34;user1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key-ref=&lt;/span>&lt;span class="s">&amp;#34;answer2&amp;#34;&lt;/span> &lt;span class="na">value-ref=&lt;/span>&lt;span class="s">&amp;#34;user2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="inheritance">inheritance
&lt;/h4>&lt;p>By using the &lt;strong>parent&lt;/strong> attribute of &lt;strong>bean&lt;/strong>, we can specify the inheritance relation between the beans. In such case, parent bean values will be inherited to the current bean.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;e1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Employee&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;101&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Sachin&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;address1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Address&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;21,Lohianagar&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Ghaziabad&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;UP&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;USA&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;e2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Employee&amp;#34;&lt;/span> &lt;span class="na">parent=&lt;/span>&lt;span class="s">&amp;#34;e1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;constructor-arg&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;address1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="by-setter">By Setter
&lt;/h3>&lt;p>We can inject the dependency by setter method also. The &lt;strong>&lt;property>&lt;/strong> subelement of &lt;strong>&lt;bean>&lt;/strong> is used for setter injection. Here we are going to inject&lt;/p>
&lt;ol>
&lt;li>primitive and String-based values&lt;/li>
&lt;li>Dependent object (contained object)&lt;/li>
&lt;li>Collection values etc.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;obj&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Employee&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>20&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>Arun&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;city&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>ghaziabad&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="with-object-1">With Object
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;address1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Address&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;addressLine1&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;51,Lohianagar&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;city&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Ghaziabad&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;state&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;UP&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;country&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;India&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;obj&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Employee&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Sachin Yadav&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;address&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;address1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="with-collection-1">With Collection
&lt;/h4>&lt;p>We can inject collection values by setter method in spring framework. There can be used three elements inside the &lt;strong>property&lt;/strong> element.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>list&lt;/strong>&lt;/li>
&lt;li>&lt;strong>set&lt;/strong>&lt;/li>
&lt;li>&lt;strong>map&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>Each collection can have &lt;strong>string based&lt;/strong> and &lt;strong>non-string based&lt;/strong> values.&lt;/p>
&lt;h5 id="list-1">list
&lt;/h5>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--string based--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;q&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Question&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;What is Java?&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;answers&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>Java is a programming language&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>Java is a platform&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>Java is an Island&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--non-string based--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;answer1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Answer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Java is a programming language&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;by&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Ravi Malik&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;answer2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Answer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Java is a platform&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;by&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Sachin&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;q&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Question&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;What is Java?&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;answers&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;ref&lt;/span> &lt;span class="na">bean=&lt;/span>&lt;span class="s">&amp;#34;answer1&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;ref&lt;/span> &lt;span class="na">bean=&lt;/span>&lt;span class="s">&amp;#34;answer2&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="map-1">map
&lt;/h5>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--string based--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;q&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Question&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;What is Java?&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;answers&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;Java is a programming language&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Sonoo Jaiswal&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key=&lt;/span>&lt;span class="s">&amp;#34;Java is a Platform&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Sachin Yadav&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--non-string based--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;answer1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Answer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;answer&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Java is a Programming Language&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;postedDate&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;12/12/2001&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;answer2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Answer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;answer&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Java is a Platform&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;postedDate&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;12/12/2003&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Arun Kumar&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;arun@gmail.com&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;user2&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.User&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Varun Kumar&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;Varun@gmail.com&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;q&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Question&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;id&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;name&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;What is Java?&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;answers&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key-ref=&lt;/span>&lt;span class="s">&amp;#34;answer1&amp;#34;&lt;/span> &lt;span class="na">value-ref=&lt;/span>&lt;span class="s">&amp;#34;user1&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;entry&lt;/span> &lt;span class="na">key-ref=&lt;/span>&lt;span class="s">&amp;#34;answer2&amp;#34;&lt;/span> &lt;span class="na">value-ref=&lt;/span>&lt;span class="s">&amp;#34;user2&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/entry&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/map&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="difference">Difference
&lt;/h3>&lt;p>There are many key differences between constructor injection and setter injection.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Partial dependency&lt;/strong>: can be injected using setter injection but it is not possible by constructor. Suppose there are 3 properties in a class, having 3 arg constructor and setters methods. In such case, if you want to pass information for only one property, it is possible by setter method only.&lt;/li>
&lt;li>&lt;strong>Overriding&lt;/strong>: Setter injection overrides the constructor injection. If we use both constructor and setter injection, IOC container will use the setter injection.&lt;/li>
&lt;li>&lt;strong>Changes&lt;/strong>: We can easily change the value by setter injection. It doesn&amp;rsquo;t create a new bean instance always like constructor. So setter injection is more flexible than constructor injection.&lt;/li>
&lt;/ol>
&lt;h3 id="autowiring">Autowiring
&lt;/h3>&lt;p>Autowiring feature of spring framework enables you to inject the object dependency implicitly. It internally uses setter or constructor injection.&lt;/p>
&lt;p>Autowiring can&amp;rsquo;t be used to inject primitive and string values. It works with &lt;strong>reference only&lt;/strong>.&lt;/p>
&lt;h4 id="modes">Modes
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">No.&lt;/th>
&lt;th style="text-align: left">Mode&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">1)&lt;/td>
&lt;td style="text-align: left">no&lt;/td>
&lt;td style="text-align: left">It is the default autowiring mode. It means no autowiring bydefault.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">2)&lt;/td>
&lt;td style="text-align: left">byName&lt;/td>
&lt;td style="text-align: left">The byName mode injects the object dependency according to name of the bean. In such case, property name and bean name &lt;strong>must be same&lt;/strong>. It internally &lt;strong>calls setter method&lt;/strong>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">3)&lt;/td>
&lt;td style="text-align: left">byType&lt;/td>
&lt;td style="text-align: left">The byType mode injects the object dependency according to type. So property name and bean name &lt;strong>can be different&lt;/strong>. It internally &lt;strong>calls setter method&lt;/strong>.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">4)&lt;/td>
&lt;td style="text-align: left">constructor&lt;/td>
&lt;td style="text-align: left">The constructor mode injects the dependency by &lt;strong>calling the constructor&lt;/strong> of the class. It calls the constructor &lt;strong>having largest number of parameters.&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">5)&lt;/td>
&lt;td style="text-align: left">autodetect&lt;/td>
&lt;td style="text-align: left">It is deprecated since Spring 3.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.sssit.B&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.sssit.A&amp;#34;&lt;/span> &lt;span class="na">autowire=&lt;/span>&lt;span class="s">&amp;#34;byName&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;b1&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.sssit.B&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.sssit.A&amp;#34;&lt;/span> &lt;span class="na">autowire=&lt;/span>&lt;span class="s">&amp;#34;byType&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="with-factory-method">With Factory Method
&lt;/h3>&lt;p>Spring framework provides facility to inject bean using factory method. To do so, we can use two attributes of bean element.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>factory-method:&lt;/strong> represents the factory method that will be invoked to inject the bean.&lt;/li>
&lt;li>&lt;strong>factory-bean:&lt;/strong> represents &lt;strong>the reference of the bean by which factory method will be invoked&lt;/strong>. It is used if f&lt;strong>actory method is non-static&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>A method that returns instance of a class is called &lt;strong>factory method&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">A&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getA&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="c1">//factory method &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>here can be three types of factory method:&lt;/p>
&lt;p>\1) A &lt;strong>static factory method&lt;/strong> that returns instance of &lt;strong>its own&lt;/strong> class. It is used in singleton design pattern.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="nc">com&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">javatpoint&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">A&lt;/span>&lt;span class="s">&amp;#34; factory-method=&amp;#34;&lt;/span>&lt;span class="n">getA&lt;/span>&lt;span class="s">&amp;#34;&amp;gt;&amp;lt;/bean&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>\2) A &lt;strong>static factory method&lt;/strong> that returns instance of &lt;strong>another&lt;/strong> class. It is used instance is not known and decided at runtime.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="nc">com&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">javatpoint&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">A&lt;/span>&lt;span class="s">&amp;#34; factory-method=&amp;#34;&lt;/span>&lt;span class="n">getB&lt;/span>&lt;span class="s">&amp;#34;&amp;gt;&amp;lt;/bean&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>\3) A &lt;strong>non-static factory&lt;/strong> method that returns instance of &lt;strong>another&lt;/strong> class. It is used instance is not known and decided at runtime.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">bean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="nc">com&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">javatpoint&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">A&lt;/span>&lt;span class="s">&amp;#34;&amp;gt;&amp;lt;/bean&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">&amp;lt;bean id=&amp;#34;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="s">&amp;#34; class=&amp;#34;&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">javatpoint&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">A&lt;/span>&lt;span class="s">&amp;#34; factory-method=&amp;#34;&lt;/span>&lt;span class="n">getB&lt;/span>&lt;span class="s">&amp;#34; factory-bean=&amp;#34;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="s">&amp;#34;&amp;gt;&amp;lt;/bean&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="aop">AOP
&lt;/h2>&lt;p>&lt;strong>Aspect Oriented Programming&lt;/strong> (AOP) compliments( 补充 ) OOPs in the sense that it also provides modularity. But the key unit of modularity is aspect than class.&lt;/p>
&lt;p>AOP breaks the program logic into &lt;strong>distinct parts&lt;/strong> (called concerns). It is used to increase modularity by &lt;strong>cross-cutting concerns&lt;/strong>.&lt;/p>
&lt;p>A &lt;strong>cross-cutting concern&lt;/strong> is a concern that can affect the whole application and should be centralized in one location in code as possible, such as transaction management, authentication, logging, security etc.&lt;/p>
&lt;p>AOP is mostly used in following cases:&lt;/p>
&lt;ul>
&lt;li>to provide declarative enterprise services such as declarative transaction management.&lt;/li>
&lt;li>It allows users to implement custom aspects.&lt;/li>
&lt;/ul>
&lt;h3 id="concepts-and-terminology">Concepts and Terminology
&lt;/h3>&lt;p>AOP concepts and terminologies are as follows:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Join point : any point in your program such as method execution, exception handling, field access etc. Spring supports &lt;strong>only&lt;/strong> method execution join point.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Advice : represents &lt;strong>an action&lt;/strong> taken by &lt;strong>an aspect&lt;/strong> at a &lt;strong>particular join poin&lt;/strong>t.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Before Advice&lt;/strong>: it executes before a join point.&lt;/li>
&lt;li>&lt;strong>After Returning Advice&lt;/strong>: it executes after a joint point completes normally.&lt;/li>
&lt;li>&lt;strong>After Throwing Advice&lt;/strong>: it executes if method exits by throwing an exception.&lt;/li>
&lt;li>&lt;strong>After (finally) Advice&lt;/strong>: it executes after a join point regardless of join point exit whether normally or exceptional return.&lt;/li>
&lt;li>&lt;strong>Around Advice&lt;/strong>: It executes before and after a join point.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Pointcut : an &lt;strong>expression language&lt;/strong> of AOP that &lt;strong>matches join points&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Introduction : means introduction of &lt;strong>additional method&lt;/strong> and fields for a type. It allows you to introduce new interface to any advised object.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Target Object : It is the object i.e. being advised by one or more aspects. It is also known as &lt;strong>proxied object&lt;/strong> in spring because Spring AOP is implemented using runtime proxies.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Aspect : It is &lt;strong>a class&lt;/strong> that contains advices, joinpoints etc.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Interceptor : an &lt;strong>aspect&lt;/strong> that contains &lt;strong>only one advice&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>AOP Proxy : used to &lt;strong>implement aspect contracts&lt;/strong>, created by AOP framework. It will be a JDK dynamic proxy or CGLIB proxy in spring framework.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Weaving : the &lt;strong>process&lt;/strong> of &lt;strong>linking&lt;/strong> aspect with other application types or objects to &lt;strong>create&lt;/strong> an advised object. Weaving can be done at compile time, load time or runtime. Spring AOP performs weaving at runtime.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="implementations">Implementations
&lt;/h3>&lt;p>AOP implementations are provided by:&lt;/p>
&lt;ol>
&lt;li>AspectJ&lt;/li>
&lt;li>Spring AOP&lt;/li>
&lt;li>JBoss AOP&lt;/li>
&lt;/ol>
&lt;h4 id="spring-aop">Spring AOP
&lt;/h4>&lt;h5 id="advisor-class">Advisor class
&lt;/h5>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">BeforeAdvisor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">MethodBeforeAdvice&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">before&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Method&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">method&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Throwable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;additional concern before actual logic&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="proxyfactorybean">ProxyFactoryBean
&lt;/h5>&lt;p>The &lt;strong>ProxyFactoryBean&lt;/strong> class is provided by Spring Famework. It contains 2 properties target and interceptorNames. The instance of A class will be considered as target object and the instance of advisor class as interceptor. You need to pass the advisor object as the list object as in the xml file given above.&lt;/p>
&lt;p>In xml file, create 3 beans, one for A class, second for Advisor class and third for &lt;strong>ProxyFactoryBean&lt;/strong> class.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;beans&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:xsi=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xmlns:p=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/p&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">xsi:schemaLocation=&lt;/span>&lt;span class="s">&amp;#34;http://www.springframework.org/schema/beans
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;obj&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.A&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;ba&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.BeforeAdvisor&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;proxy&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.aop.framework.ProxyFactoryBean&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;target&amp;#34;&lt;/span> &lt;span class="na">ref=&lt;/span>&lt;span class="s">&amp;#34;obj&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;interceptorNames&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;value&amp;gt;&lt;/span>ba&lt;span class="nt">&amp;lt;/value&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/list&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/beans&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="aspectj">AspectJ
&lt;/h4>&lt;p>The &lt;strong>Spring Framework&lt;/strong> recommends you to use &lt;strong>Spring AspectJ AOP implementation&lt;/strong> over the Spring 1.2 old style dtd based AOP implementation because it provides you &lt;strong>more control&lt;/strong> and it is &lt;strong>easy to use&lt;/strong>.&lt;/p>
&lt;p>Spring AspectJ AOP implementation provides many annotations:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>@Aspect&lt;/strong> declares the class as aspect.&lt;/li>
&lt;li>&lt;strong>@Pointcut&lt;/strong> declares the pointcut expression.&lt;/li>
&lt;/ol>
&lt;p>The annotations used to create advices are given below:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>@Before&lt;/strong> declares the before advice. It is applied before calling the actual method.&lt;/li>
&lt;li>&lt;strong>@After&lt;/strong> declares the after advice. It is applied after calling the actual method and before returning result.&lt;/li>
&lt;li>&lt;strong>@AfterReturning&lt;/strong> declares the after returning advice. It is applied after calling the actual method and before returning result. But you can get the result value in the advice.&lt;/li>
&lt;li>&lt;strong>@Around&lt;/strong> declares the around advice. It is applied before and after calling the actual method.&lt;/li>
&lt;li>&lt;strong>@AfterThrowing&lt;/strong> declares the throws advice. It is applied if actual method throws exception.&lt;/li>
&lt;/ol>
&lt;h5 id="pointcut">@Pointcut
&lt;/h5>&lt;p>Let&amp;rsquo;s try the understand the pointcut expressions by the examples given below:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Pointcut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(public * *(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It will be applied on all the public methods.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Pointcut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(public Operation.*(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It will be applied on all the public methods of Operation class.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Pointcut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(* Operation.*(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It will be applied on all the methods of Operation class.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Pointcut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(* Operation.*(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It will be applied on all the public setter methods of Employee class.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Pointcut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(int Operation.*(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It will be applied on all the methods of Operation class that returns int value.&lt;/p>
&lt;p>example&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Aspect&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">TrackOperation&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Pointcut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;execution(* Operation.*(..))&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">k&lt;/span>&lt;span class="p">(){}&lt;/span>&lt;span class="c1">//pointcut name &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Before&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;k()&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="c1">//applying pointcut on before advice &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">myadvice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">JoinPoint&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jp&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="c1">//it is advice (before advice) &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;additional concern&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//System.out.println(&amp;#34;Method Signature: &amp;#34; + jp.getSignature()); &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>xml&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;opBean&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.Operation&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span> &lt;span class="nt">&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">id=&lt;/span>&lt;span class="s">&amp;#34;trackMyBean&amp;#34;&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;com.javatpoint.TrackOperation&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;bean&lt;/span> &lt;span class="na">class=&lt;/span>&lt;span class="s">&amp;#34;org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&amp;lt;/bean&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="spring-jdbctemplate">Spring JdbcTemplate
&lt;/h2>&lt;p>Spring &lt;strong>JdbcTemplate&lt;/strong> is a powerful &lt;strong>mechanism&lt;/strong> to &lt;strong>connect to the database and execute SQL queries&lt;/strong>. It internally uses JDBC api, but eliminates a lot of problems of JDBC API.&lt;/p>
&lt;p>The problems of JDBC API are as follows:&lt;/p>
&lt;ul>
&lt;li>We need to write a lot of code before and after executing the query, such as creating connection, statement, closing resultset, connection etc.&lt;/li>
&lt;li>We need to perform exception handling code on the database logic.&lt;/li>
&lt;li>We need to handle transaction.&lt;/li>
&lt;li>Repetition of all these codes from one to another database logic is a time consuming task.&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">No.&lt;/th>
&lt;th style="text-align: left">Method&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">1)&lt;/td>
&lt;td style="text-align: left">public int update(String query)&lt;/td>
&lt;td style="text-align: left">is used to insert, update and delete records.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">2)&lt;/td>
&lt;td style="text-align: left">public int update(String query,Object&amp;hellip; args)&lt;/td>
&lt;td style="text-align: left">is used to insert, update and delete records using PreparedStatement using given arguments.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">3)&lt;/td>
&lt;td style="text-align: left">public void execute(String query)&lt;/td>
&lt;td style="text-align: left">is used to execute DDL query.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">4)&lt;/td>
&lt;td style="text-align: left">public T execute(String sql, PreparedStatementCallback action)&lt;/td>
&lt;td style="text-align: left">executes the query by using PreparedStatement callback.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">5)&lt;/td>
&lt;td style="text-align: left">public T query(String sql, ResultSetExtractor rse)&lt;/td>
&lt;td style="text-align: left">is used to fetch records using ResultSetExtractor.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">6)&lt;/td>
&lt;td style="text-align: left">public List query(String sql, RowMapper rse)&lt;/td>
&lt;td style="text-align: left">is used to fetch records using RowMapper.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="orm">ORM
&lt;/h2>&lt;p>Spring provides API to easily integrate Spring with ORM frameworks such as Hibernate, JPA(Java Persistence API), JDO(Java Data Objects), Oracle Toplink and iBATIS.&lt;/p>
&lt;p>There are a lot of advantage of Spring framework in respect to ORM frameworks. There are as follows:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Less coding is required&lt;/strong>: By the help of Spring framework, you don&amp;rsquo;t need to write extra codes before and after the actual database logic such as getting the connection, starting transaction, commiting transaction, closing connection etc.&lt;/li>
&lt;li>&lt;strong>Easy to test&lt;/strong>: Spring&amp;rsquo;s IoC approach makes it easy to test the application.&lt;/li>
&lt;li>&lt;strong>Better exception handling&lt;/strong>: Spring framework provides its own API for exception handling with ORM framework.&lt;/li>
&lt;li>&lt;strong>Integrated transaction management&lt;/strong>: By the help of Spring framework, we can wrap our mapping code with an explicit template wrapper class or AOP style method interceptor.&lt;/li>
&lt;/ul>
&lt;h2 id="spring-mvc">Spring MVC
&lt;/h2>&lt;p>A Spring MVC is a Java framework which is used to build web applications. It follows the Model-View-Controller design pattern. It implements all the basic features of a core spring framework like Inversion of Control, Dependency Injection.&lt;/p>
&lt;p>A Spring MVC provides an elegant solution to use MVC in spring framework by the help of &lt;strong>DispatcherServlet&lt;/strong>. Here, &lt;strong>DispatcherServlet&lt;/strong> is a class that receives the incoming request and maps it to the right resource such as controllers, models, and views.&lt;/p>
&lt;p>&lt;img src="https://static.javatpoint.com/sppages/images/spring-web-model-view-controller.png"
loading="lazy"
alt="Spring MVC Tutorial"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Model&lt;/strong> - A model contains the &lt;strong>data&lt;/strong> of the application. A data can be a single object or a collection of objects.&lt;/li>
&lt;li>&lt;strong>Controller&lt;/strong> - A controller contains the &lt;strong>business logic&lt;/strong> of an application. Here, the @Controller annotation is used to mark the class as the controller.&lt;/li>
&lt;li>&lt;strong>View&lt;/strong> - A view represents the provided information in a particular format. Generally, JSP+JSTL is used to create a view page. Although spring also supports other view technologies such as Apache Velocity, Thymeleaf and FreeMarker.&lt;/li>
&lt;li>&lt;strong>Front Controller&lt;/strong> - In Spring Web MVC, &lt;strong>the DispatcherServlet class works as the front controller&lt;/strong>. It is responsible to manage the flow of the Spring MVC application.&lt;/li>
&lt;/ul>
&lt;p>the advantages of Spring MVC Framework:-&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Separate roles&lt;/strong> - The Spring MVC separates each role, where the model object, controller, command object, view resolver, DispatcherServlet, validator, etc. can be fulfilled by a specialized object.&lt;/li>
&lt;li>&lt;strong>Light-weight&lt;/strong> - It uses light-weight servlet container to develop and deploy your application.&lt;/li>
&lt;li>&lt;strong>Powerful Configuration&lt;/strong> - It provides a robust configuration for both framework and application classes that includes easy referencing across contexts, such as from web controllers to business objects and validators.&lt;/li>
&lt;li>&lt;strong>Rapid development&lt;/strong> - The Spring MVC facilitates fast and parallel development.&lt;/li>
&lt;li>&lt;strong>Reusable business code&lt;/strong> - Instead of creating new objects, it allows us to use the existing business objects.&lt;/li>
&lt;li>&lt;strong>Easy to test&lt;/strong> - In Spring, generally we create JavaBeans classes that enable you to inject test data using the setter methods.&lt;/li>
&lt;li>&lt;strong>Flexible Mapping&lt;/strong> - It provides the specific annotations that easily redirect the page.&lt;/li>
&lt;/ul></description></item><item><title>【Java】金旭亮-Java程序设计</title><link>https://dyhes.github.io/p/java%E9%87%91%E6%97%AD%E4%BA%AE-java%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/</link><pubDate>Sat, 11 Dec 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/java%E9%87%91%E6%97%AD%E4%BA%AE-java%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/</guid><description>&lt;h2 id="string">String
&lt;/h2>&lt;h3 id="stringbuffer">StringBuffer
&lt;/h3>&lt;p>线程安全&lt;/p>
&lt;ul>
&lt;li>&lt;code>stringbuffer.toString()&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="stringbuilder">StringBuilder
&lt;/h3>&lt;p>线程不安全，因而性能相对更高&lt;/p>
&lt;h2 id="arrays类">Arrays类
&lt;/h2>&lt;p>Arrays类中封装了与数组有关的静态方法&lt;/p>
&lt;ul>
&lt;li>&lt;code>Arrays.CcopyOf()&lt;/code>&lt;/li>
&lt;li>&lt;code>Arrays.sort()&lt;/code>&lt;/li>
&lt;li>&lt;code>Arrays.fill()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>等&lt;/p>
&lt;h2 id="对象连接">对象连接
&lt;/h2>&lt;p>在“+ ”运算中，当一个对象与一个String对象连接时，会 隐式地调用其toString()方法，默认情况下，此方法返回 “类名 @ + hashCode” 。 为了返回有意义的信息，子类可以重写toString()方法。&lt;/p>
&lt;h2 id="接口">接口
&lt;/h2>&lt;p>在面向对象世界中，可以使用“接口（interface）”来抽象对象的&lt;strong>行为特性&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>eg:能否把“会游泳”、“能被吃”这种特性独立出来作为一种“可选项”，可以被“附加” 到具体对象上？ 这样一来，水鸟可以拥有“会游泳”这个特性，其它种类的鸟就不具备这个特性，但它 可能有其他的特性。&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>如果接口不声明为public的，则自动变为package&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>接口类型 接口类型的变量＝ new 实现了接口的具体类型（）；&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>可以通过继承接口来扩充已有接口，并形成一个新的接口&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="函数式接口">函数式接口
&lt;/h3>&lt;p>JDK中引入了一种“函数式”接口，这种接口只定义有一个公有 方法，使用@FunctionalInterface注解加以标注，这种类型的接口，主要用于“函数式编程”场景&lt;/p>
&lt;h2 id="异常">异常
&lt;/h2>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220417171405687.png"
loading="lazy"
alt="image-20220417171405687"
>&lt;/p>
&lt;ul>
&lt;li>可以有多个catch语句块，每个代码块捕获一种异常。在某个try块后有两个不同的catch 块捕获两个相同类型的异常是语法错误。&lt;/li>
&lt;li>使用catch语句，只能捕获Exception类及其子类的对象。因此，一个捕获Exception对象的catch语句块可以捕获所有“可捕获”的异常。&lt;/li>
&lt;li>将catch(Exception e)放在别的catch块前面会使这些catch块都不执行，因此Java不会编译这个程序&lt;/li>
&lt;/ul>
&lt;p>Java 7 及以后的版本，允许在一个catch块中捕获多个异常。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SocketException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SecurityException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">NullPointerException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="泛型">泛型
&lt;/h2>&lt;ul>
&lt;li>不能定义泛型化数组&lt;/li>
&lt;li>不能直接创建泛型类型的实例&lt;/li>
&lt;li>泛型类型不能直接或间接继承自Throwable&lt;/li>
&lt;li>不能定义静态泛型成员&lt;/li>
&lt;li>不允许基类中有泛型参数，从泛型基类派生时，应该给其指定一个具体的类型&lt;/li>
&lt;li>可以在普通类或泛型类中定义泛型方法&lt;/li>
&lt;li>泛型方法支持使用“…”定义个数可变的参数&lt;/li>
&lt;/ul>
&lt;h2 id="泛型约束">泛型约束
&lt;/h2>&lt;ul>
&lt;li>类型约束&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Comparable&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//…&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//T extends Comparable &amp;amp; Serializable&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//多个约束条件中最多只能有一个是类，且必须放在第一位&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>类型通配符&lt;/p>
&lt;p>在泛型约束中使用“?”，可以匹配任意类型。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">printList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;?&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lst&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">lst&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="内部类">内部类
&lt;/h2>&lt;p>一个类中包容许多方法和字段，有些字段和方法从逻辑上看具有比较紧密的联系，可以把它们“放在一块”，“视为一个整体”。&lt;/p>
&lt;p>内部类可看成是外部类的成员，其地位等同于类中的其他成员。内部类编译以后，每个内部类都会产生一个.class文件，其文件名通常具有以下格式：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">外部类名$内部类名&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="comparable接口">Comparable接口
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//old&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Comparable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">compareTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">other&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//new and recomended&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">inteface&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Comparable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">compareTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">other&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">compareTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//对象X和Y相等，返回0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//对象X&amp;lt;Y,返回-1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//X&amp;gt;Y，返回1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>凡是支持大小比较的类型（比如Integer），都实现了Comparable接口。&lt;/p>
&lt;h2 id="-and-equals">‘==’ and &lt;code>equals()&lt;/code>
&lt;/h2>&lt;p>“ ==”施加于对象类型，是比较两个对象变量是否引用同一对象。如果需要比对对象的“内容（即各字段的值）”，通常是调用对象的 equals方法。&lt;/p>
&lt;p>equals方法由Object类所定义，其默认实现如下：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">equals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Object&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">obj&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">obj&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>子类可根据实际情况，“重写（Override）”Object类的equals方法&lt;/p>
&lt;p>重写Object的equals方法，注意其&lt;strong>参数类型必须是“Object”&lt;/strong>&lt;/p>
&lt;p>另外，为了让对象能放入各种容器中，通常还需要重写 hashCode方法。&lt;/p>
&lt;h2 id="对象组合">对象组合
&lt;/h2>&lt;p>一个对象包容另一个对象，称为“对象组合”&lt;/p>
&lt;p>方式：&lt;/p>
&lt;ul>
&lt;li>A对象完全包容B对象，容器对象管理被包容对象的生命期&lt;/li>
&lt;li>B对象是独立的，A对象引用现成的B对象&lt;/li>
&lt;/ul>
&lt;h2 id="cloneable">Cloneable
&lt;/h2>&lt;p>JDK中提供了一个Cloneable接口，需要实现深复制的对象应该实现这一接口。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Cloneable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>像这种根本就没有定义任何一个成员的接口，称为“标记接口”。&lt;/p>
&lt;h2 id="collection">Collection
&lt;/h2>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220417184028233.png"
loading="lazy"
alt="image-20220417184028233"
>&lt;/p>
&lt;h2 id="iterator">Iterator
&lt;/h2>&lt;p>Iterator接口定义了3个方法&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">boolean&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">hasNext&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// 是否还有下一个元素&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">next&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// 获取下一个元素&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">remove&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// 移除iterator返回的上一个元素&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>所有实现了Collection接口的集合对象，都提供了一个iterator()方法， 以获取一个iterator对象&lt;/p>
&lt;p>JDK 5以后，Collection接口派生自Iterable，因此JDK中内置的所有集合都可以使 用新的foreach语句完成遍历工作&lt;/p>
&lt;p>集合对象有一个forEach()方法，它可以接收一个Lambda表达式，可用于遍历集合元素， 它与foreach循环不是一回事， foreach循环是一种语法特性， forEach则是JDK为集合类型提供的一个方法。&lt;/p>
&lt;p>如果在遍历时非要删除集合中的元素，则必须通过迭代器对象的remove方法， 而不能通过集合对象直接删除。&lt;/p>
&lt;p>尽管确实可以在迭代时移除当前访问的元素，但并不推荐这么做，特别是在多线程环境下，会带来很大的麻烦。推荐的作法是使用Stream API中的filter()方法，过滤掉不需要的元素。&lt;/p>
&lt;h2 id="hashtable">HashTable
&lt;/h2>&lt;p>HashMap和HashTable两者功能与用法基本一样，但HashTable是&lt;strong>线程安全&lt;/strong>的， 另外，HashMap可以使用null作为Key。&lt;/p>
&lt;h3 id="properties">Properties
&lt;/h3>&lt;p>Properties派生自HashTable，可以方便地处理“属性-值”对，并且可以很方便地将其保存到文件中，在编程中很常用&lt;/p>
&lt;h2 id="collections">Collections
&lt;/h2>&lt;p>Java提供了一个工具类Collections，封装了一些集合的常规操作。&lt;/p>
&lt;ul>
&lt;li>更改集合中元素的顺序：reverse、rotate、shuffle、sort和swap&lt;/li>
&lt;li>用一个集合填充另一个集合：copy、fill和replaceAll、 addAll&lt;/li>
&lt;li>获取集合中的最大和最小元素：max、min&lt;/li>
&lt;li>查找元素： binarySearch、 indexOfSubList和lastIndexOfSubList&lt;/li>
&lt;li>创建包容多个相同元素的集合：nCopies&lt;/li>
&lt;/ul>
&lt;h2 id="函数式编程">函数式编程
&lt;/h2>&lt;p>Java对“函数式编程”范式的支持，是从JDK 8引入Lambda表达式之后才开始的，主要包容以下几个部分：&lt;/p>
&lt;ul>
&lt;li>Lambda表达式与函数式接口特性（JDK 8起）&lt;/li>
&lt;li>Stream API（JDK 8起）与Flow API（JDK 9起）&lt;/li>
&lt;li>对JDK原有组件进行改造，以支持函数式编程范式&lt;/li>
&lt;/ul>
&lt;h3 id="函数式接口-1">函数式接口
&lt;/h3>&lt;p>能接收一个Lambda表达式的变量，必须是接口类型，并且这种接口，还必 须是一种“函数式接口（functional interface）”。所谓“函数式接口”，就是“只定义有一个抽象方法的接口”。Java 8中，使用“@FunctionalInterface”标识一个“函数式接口”。&lt;/p>
&lt;p>JDK8 以后接口可有默认方法和静态方法&lt;/p>
&lt;h3 id="方法引用">方法引用
&lt;/h3>&lt;p>&lt;code>ClassName::Method&lt;/code>&lt;/p>
&lt;p>可以把方法引用看作针对仅仅涉及单一方法的Lambda的“语法 糖”&lt;/p>
&lt;h3 id="stream-api">Stream API
&lt;/h3>&lt;p>不同于文件操作中的Stream,而是&lt;strong>从支持数据处理操作的源生成的元素序列&lt;/strong>&lt;/p>
&lt;p>Stream API采用一种“即抽取即使用即丢弃”的方式处理数据，不需要把所有数据都加载到内存中（集合就是这样的）才能工作，所以，能处理很大的数据集&lt;/p>
&lt;p>Stream API中定义的数据处理函数，通常可以级联调用，构成一个数据处理链条&lt;/p>
&lt;p>Stream API中定义的数据处理函数，可以分为&lt;strong>中间操作&lt;/strong>和&lt;strong>终端操作&lt;/strong>&lt;/p>
&lt;p>intermediate operation&lt;/p>
&lt;ul>
&lt;li>&lt;code>peek()&lt;/code>:similar to &lt;code>forEach()&lt;/code>&lt;/li>
&lt;li>&lt;code>limit()&lt;/code>&lt;/li>
&lt;li>&lt;code>skip()&lt;/code>&lt;/li>
&lt;li>&lt;code>filter()&lt;/code>&lt;/li>
&lt;li>&lt;code>sorted()&lt;/code>&lt;/li>
&lt;li>&lt;code>map()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>terminal operation&lt;/p>
&lt;ul>
&lt;li>&lt;code>forEach()&lt;/code>&lt;/li>
&lt;li>&lt;code>reduce()&lt;/code>&lt;/li>
&lt;li>&lt;code>collect()&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="创建流对象">创建流对象
&lt;/h4>&lt;ul>
&lt;li>基于集合：所有集合对象都实现的Collection接口定义了一个Stream()或 parallelStream()方法，可以通过它来创建流对象&lt;/li>
&lt;li>使用&lt;code>Stream.Of&lt;/code>&lt;/li>
&lt;li>使用&lt;code>Stream.Builder&lt;/code>接口&lt;/li>
&lt;li>针对int、long、double这三种原始数值类型，java 8提供了单独的流类型： IntStream、LongStream和DoubleStream&lt;/li>
&lt;li>&lt;code>Stream.empty()&lt;/code>创建空流&lt;/li>
&lt;/ul>
&lt;h2 id="模块化开发">模块化开发
&lt;/h2>&lt;p>JPMS（Java Platform Module System），是 JDK 9引入的最重要的新特性之一。&lt;/p>
&lt;p>模块化之后，整个程序被分解为若干个严格限定依赖关系的模块。只要不显式声明导出，模块中的所有类外界都是不可访问的。&lt;/p>
&lt;p>模块（module）是包含代码的可识别软件构件，使用了元数据（metadata）来描述模块及其与其他模块的关系。 可以把模块看成是一组用于代码重用的包（package）。模块化（ modularization）是指将系统分解成独立且相互连接的模块的过程。&lt;/p>
&lt;p>打散后的JDK模块， 以.jmod作为文件扩展名。&lt;/p>
&lt;p>模块之间存在着“单向”依赖关系，Java模块系统不允许模块之间 存在编译时的循环依赖&lt;/p>
&lt;p>每个模块都隐式依赖于一个名为“java.base”的特殊模块，它是 一种“聚合器模块（aggregator module）”，这种类型的模块主要用于对其他模块进行逻辑分组，避免在module-info.java中导入太多的模块声明。&lt;/p>
&lt;p>模块设计三个核心原则&lt;/p>
&lt;ul>
&lt;li>强封装性&lt;/li>
&lt;li>定义良好的接口&lt;/li>
&lt;li>显式依赖&lt;/li>
&lt;/ul>
&lt;h2 id="gui-javafx">GUI-JavaFX
&lt;/h2>&lt;p>JavaFX在设计之初就考虑了应用MVC设计模式，整个JavaFX应用 框架围绕着MVC设计模式而展开。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220419095921802.png"
loading="lazy"
alt="image-20220419095921802"
>&lt;/p>
&lt;h2 id="javabean">JavaBean
&lt;/h2>&lt;p>JavaBean可以看成是一种编程约定，按照这种约定编写Java类，开发者之间就易于协作，并且代码也易于重用，并且有一些开发工具（比如 NetBeans这样的IDE）能识别JavaBean所定义的各种属性、方法和事件。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220419101022585.png"
loading="lazy"
alt="image-20220419101022585"
>&lt;/p>
&lt;p>&lt;a class="link" href="http://www.blog.dyhes.cn/wp-content/uploads/2022/04/image-20220419101022585.png" target="_blank" rel="noopener"
>http://www.blog.dyhes.cn/wp-content/uploads/2022/04/image-20220419101022585.png&lt;/a>&lt;/p></description></item><item><title>【Android】Jetpack Compose</title><link>https://dyhes.github.io/p/androidjetpack-compose/</link><pubDate>Thu, 18 Nov 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/androidjetpack-compose/</guid><description>&lt;h2 id="application-fundamentals">Application Fundamentals
&lt;/h2>&lt;p>An &lt;em>Android package&lt;/em>, which is an archive file with an &lt;code>.apk&lt;/code> suffix, contains the contents of an Android app that are required at runtime and it is the file that Android-powered devices use to install the app.&lt;/p>
&lt;p>An Android App Bundle, which is an archive file with an &lt;code>.aab&lt;/code> suffix, contains the contents of an Android app project including some additional metadata that is not required at runtime. An AAB is a publishing format and is not installable on Android devices, it defers APK generation and signing to a later stage. When distributing your app through Google Play for example, Google Play&amp;rsquo;s servers generate optimized APKs that contain only the resources and code that are required by a particular device that is requesting installation of the app.&lt;/p>
&lt;p>Each Android app lives in its own security sandbox, protected by the following Android security features:&lt;/p>
&lt;ul>
&lt;li>The Android operating system is a multi-user Linux system in which each app is a different user.&lt;/li>
&lt;li>By default, the system assigns each app a unique Linux user ID (the ID is used only by the system and is unknown to the app). The system sets permissions for all the files in an app so that only the user ID assigned to that app can access them.&lt;/li>
&lt;li>Each process has its own virtual machine (VM), so an app&amp;rsquo;s code runs in isolation from other apps.&lt;/li>
&lt;li>By default, every app runs in its own Linux process. The Android system starts the process when any of the app&amp;rsquo;s components need to be executed, and then shuts down the process when it&amp;rsquo;s no longer needed or when the system must recover memory for other apps.&lt;/li>
&lt;/ul>
&lt;h3 id="app-components">App components
&lt;/h3>&lt;p>App components are the essential building blocks of an Android app. Each component is an entry point through which the system or a user can enter your app. Some components depend on others.&lt;/p>
&lt;p>There are four different types of app components:&lt;/p>
&lt;ul>
&lt;li>Activities&lt;/li>
&lt;li>Services&lt;/li>
&lt;li>Broadcast receivers&lt;/li>
&lt;li>Content providers&lt;/li>
&lt;/ul>
&lt;p>Each type serves a distinct purpose and has a distinct lifecycle that defines how the component is created and destroyed.&lt;/p>
&lt;h2 id="app-architecture">App Architecture
&lt;/h2>&lt;p>An app architecture defines the boundaries between parts of the app and the responsibilities each part should have. In order to meet the needs mentioned above, you should design your app architecture to follow a few specific principles.&lt;/p>
&lt;h3 id="principles">Principles
&lt;/h3>&lt;h4 id="separation-of-concerns">Separation of concerns
&lt;/h4>&lt;p>The most important principle to follow is &lt;a class="link" href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank" rel="noopener"
>separation of concerns&lt;/a>.&lt;/p>
&lt;h4 id="drive-ui-from-data-models">Drive UI from data models
&lt;/h4>&lt;p>Another important principle is that you should drive your UI from data models, preferably persistent models.&lt;/p>
&lt;h4 id="single-source-of-truth">Single source of truth
&lt;/h4>&lt;p>When a new data type is defined in your app, you should assign a Single Source of Truth (SSOT) to it.&lt;/p>
&lt;p>The &lt;a class="link" href="https://developer.android.com/topic/architecture?hl=en#single-source-of-truth" target="_blank" rel="noopener"
>single source of truth principle&lt;/a> is often used in our guides with the Unidirectional Data Flow (UDF) pattern. In UDF, &lt;strong>state&lt;/strong> flows in only one direction. The &lt;strong>events&lt;/strong> that modify the data flow in the opposite direction.&lt;/p>
&lt;h3 id="recommended-app-architecture">Recommended app architecture
&lt;/h3>&lt;p>Considering the common architectural principles mentioned in the previous section, each application should have at least two layers:&lt;/p>
&lt;ul>
&lt;li>The &lt;em>UI layer&lt;/em> that displays application data on the screen.&lt;/li>
&lt;li>The &lt;em>data layer&lt;/em> that contains the business logic of your app and exposes application data.&lt;/li>
&lt;/ul>
&lt;p>You can add an additional layer called the &lt;em>domain layer&lt;/em> to simplify and reuse the interactions between the UI and data layers.&lt;/p>
&lt;p>&lt;img src="https://developer.android.com/static/topic/libraries/architecture/images/mad-arch-overview.png"
loading="lazy"
alt="In a typical app architecture, the UI layer gets the application data from the data layer or from the optional domain layer, which sits between the UI layer and the data layer."
>&lt;/p>
&lt;h4 id="ui-layer">UI layer
&lt;/h4>&lt;p>The role of the UI layer (or &lt;em>presentation layer&lt;/em>) is to display the application data on the screen. Whenever the data changes, either due to user interaction (such as pressing a button) or external input (such as a network response), the UI should update to reflect the changes.&lt;/p>
&lt;p>The UI layer is made up of two things:&lt;/p>
&lt;ul>
&lt;li>UI elements that render the data on the screen. You build these elements using Views or &lt;a class="link" href="https://developer.android.com/jetpack/compose" target="_blank" rel="noopener"
>Jetpack Compose&lt;/a> functions.&lt;/li>
&lt;li>State holders (such as &lt;a class="link" href="https://developer.android.com/topic/libraries/architecture/viewmodel" target="_blank" rel="noopener"
>ViewModel&lt;/a> classes) that hold data, expose it to the UI, and handle logic.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://developer.android.com/static/topic/libraries/architecture/images/mad-arch-overview-ui.png"
loading="lazy"
alt="In a typical architecture, the UI layers UI elements depend on state holders, which in turn depend on classes from either the data layer or the optional domain layer."
>&lt;/p>
&lt;h4 id="data-layer">Data layer
&lt;/h4>&lt;p>The data layer of an app contains the &lt;em>business logic&lt;/em>. The business logic is what gives value to your app—it&amp;rsquo;s made of rules that determine how your app creates, stores, and changes data.&lt;/p>
&lt;p>The data layer is made of &lt;em>repositories&lt;/em> that each can contain zero to many &lt;em>data sources&lt;/em>. You should create a repository class for each different type of data you handle in your app.&lt;/p>
&lt;p>&lt;img src="https://developer.android.com/static/topic/libraries/architecture/images/mad-arch-overview-data.png"
loading="lazy"
alt="In a typical architecture, the data layers repositories provide data to the rest of the app and depend on the data sources."
>&lt;/p>
&lt;p>Repository classes are responsible for the following tasks:&lt;/p>
&lt;ul>
&lt;li>Exposing data to the rest of the app.&lt;/li>
&lt;li>Centralizing changes to the data.&lt;/li>
&lt;li>Resolving conflicts between multiple data sources.&lt;/li>
&lt;li>Abstracting sources of data from the rest of the app.&lt;/li>
&lt;li>Containing business logic.&lt;/li>
&lt;/ul>
&lt;p>Each data source class should have the responsibility of working with only one source of data, which can be a file, a network source, or a local database. Data source classes are the bridge between the application and the system for data operations.&lt;/p>
&lt;h4 id="domain-layer">Domain layer
&lt;/h4>&lt;p>The domain layer is an optional layer that sits between the UI and data layers.&lt;/p>
&lt;p>The domain layer is responsible for encapsulating complex business logic, or simple business logic that is reused by multiple ViewModels. This layer is optional because not all apps will have these requirements. You should use it only when needed—for example, to handle complexity or favor reusability.&lt;/p>
&lt;p>Classes in this layer are commonly called &lt;em>use cases&lt;/em> or &lt;em>interactors&lt;/em>. Each use case should have responsibility over a &lt;em>single&lt;/em> functionality. For example, your app could have a &lt;code>GetTimeZoneUseCase&lt;/code> class if multiple ViewModels rely on time zones to display the proper message on the screen.&lt;/p>
&lt;h3 id="general-best-practices">General best practices
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>Don&amp;rsquo;t store data in app components.&lt;/strong>&lt;/p>
&lt;p>Avoid designating your app&amp;rsquo;s entry points—such as activities, services, and broadcast receivers—as sources of data.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Reduce dependencies on Android classes.&lt;/strong>&lt;/p>
&lt;p>Your app components should be the only classes that rely on Android framework SDK APIs such as &lt;a class="link" href="https://developer.android.com/reference/android/content/Context" target="_blank" rel="noopener"
>&lt;code>Context&lt;/code>&lt;/a>, or &lt;a class="link" href="https://developer.android.com/guide/topics/ui/notifiers/toasts" target="_blank" rel="noopener"
>&lt;code>Toast&lt;/code>&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Create well-defined boundaries of responsibility between various modules in your app.&lt;/strong>&lt;/p>
&lt;p>For example, don&amp;rsquo;t spread the code that loads data from the network across multiple classes or packages in your code base. Similarly, don&amp;rsquo;t define multiple unrelated responsibilities—such as data caching and data binding—in the same class.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Expose as little as possible from each module.&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Focus on the unique core of your app so it stands out from other apps.&lt;/strong>&lt;/p>
&lt;p>Don&amp;rsquo;t reinvent the wheel by writing the same boilerplate code again and again.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Consider how to make each part of your app testable in isolation.&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Types are responsible for their concurrency policy.&lt;/strong>&lt;/p>
&lt;p>If a type is performing long-running blocking work, it should be responsible for moving that computation to the right thread.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Persist as much relevant and fresh data as possible.&lt;/strong>&lt;/p>
&lt;p>That way, users can enjoy your app&amp;rsquo;s functionality even when their device is in offline mode.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="state">State
&lt;/h2>&lt;p>There are three ways to declare a &lt;code>MutableState&lt;/code> object in a composable:&lt;/p>
&lt;ul>
&lt;li>&lt;code>val value = remember { mutableStateOf(default) }&lt;/code>&lt;/li>
&lt;li>&lt;code>var value by remember { mutableStateOf(default) }&lt;/code>&lt;/li>
&lt;li>&lt;code>val (value, setValue) = remember { mutableStateOf(default) }&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>These declarations are equivalent, and are provided as syntax sugar for different uses of state&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Caution:&lt;/strong> Using mutable objects such as &lt;code>ArrayList&amp;lt;T&amp;gt;&lt;/code> or &lt;code>mutableListOf()&lt;/code> as state in Compose causes your users to see incorrect or stale data in your app. Mutable objects that are not observable, such as ArrayList or a mutable data class, are not observable by Compose and don&amp;rsquo;t trigger a recomposition when they change. Instead of using non-observable mutable objects, the recommendation is to use an observable data holder such as &lt;code>State&amp;lt;List&amp;lt;T&amp;gt;&amp;gt;&lt;/code> and the immutable &lt;code>listOf()&lt;/code>.&lt;/p>
&lt;/blockquote>
&lt;p>While &lt;code>remember&lt;/code> helps you retain state across recompositions, the state is not retained across configuration changes. For this, you must use &lt;code>rememberSaveable&lt;/code>. &lt;code>rememberSaveable&lt;/code> automatically saves any value that can be saved in a &lt;code>Bundle&lt;/code>.&lt;/p>
&lt;blockquote>
&lt;p>Compose automatically recomposes from reading &lt;code>State&lt;/code> objects. If you use another observable type such as &lt;code>LiveData&lt;/code> in Compose, you should convert it to &lt;code>State&lt;/code> before reading it. Make sure that type conversion happens in a composable, using a composable extension function like &lt;code>LiveData&amp;lt;T&amp;gt;.observeAsState()&lt;/code>.&lt;/p>
&lt;/blockquote>
&lt;h3 id="state-hoisting">State hoisting
&lt;/h3>&lt;p>State hoisting in Compose is a pattern of moving state to a composable&amp;rsquo;s caller to make a composable stateless.&lt;/p>
&lt;p>The general pattern for state hoisting in Jetpack Compose is to replace the state variable with two parameters:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;code>value: T&lt;/code>:&lt;/strong> the current value to display&lt;/li>
&lt;li>&lt;strong>&lt;code>onValueChange: (T) -&amp;gt; Unit&lt;/code>:&lt;/strong> an event that requests the value to change, where &lt;code>T&lt;/code> is the proposed new value&lt;/li>
&lt;/ul>
&lt;h4 id="ui-state">UI state
&lt;/h4>&lt;p>&lt;a class="link" href="https://developer.android.com/topic/architecture/ui-layer/stateholders#ui-state" target="_blank" rel="noopener"
>UI state&lt;/a> is the property that describes the UI. There are two types of UI state:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Screen UI state&lt;/strong> is &lt;em>what&lt;/em> you need to display on the screen. This state is usually connected with other layers of the hierarchy because it contains app data.&lt;/li>
&lt;li>&lt;strong>UI element state&lt;/strong> refers to properties intrinsic to UI elements that influence how they are rendered. A UI element may be shown or hidden and may have a certain font, font size, or font color.&lt;/li>
&lt;/ul>
&lt;h4 id="logic">Logic
&lt;/h4>&lt;p>Logic in an application can be either business logic or UI logic:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Business logic&lt;/strong> is the implementation of product requirements for app data. For example, bookmarking an article in a news reader app when the user taps the button. This logic to save a bookmark to a file or database is usually placed in the domain or data layers. The state holder usually delegates this logic to those layers by calling the methods they expose.&lt;/li>
&lt;li>&lt;strong>UI logic&lt;/strong> is related to &lt;em>how&lt;/em> to display UI state on the screen. For example, obtaining the right search bar hint when the user has selected a category, scrolling to a particular item in a list, or the navigation logic to a particular screen when the user clicks a button.&lt;/li>
&lt;/ul>
&lt;h5 id="ui-logic">UI Logic
&lt;/h5>&lt;p>When &lt;a class="link" href="https://developer.android.com/topic/architecture/ui-layer#logic-types" target="_blank" rel="noopener"
>UI logic&lt;/a> needs to read or write state, you should scope the state to the UI, following its lifecycle. To achieve this, you should hoist the state at the correct level in a composable function. Alternatively, you can do so in a &lt;a class="link" href="https://developer.android.com/topic/architecture/ui-layer/stateholders#ui-logic" target="_blank" rel="noopener"
>plain state holder class&lt;/a>, also scoped to the UI lifecycle.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Key Point:&lt;/strong> Keeping UI element state internal to composable functions is acceptable. This is a good solution if the state and logic you apply to it is simple and other parts of the UI hierarchy don&amp;rsquo;t need the state.&lt;/p>
&lt;/blockquote>
&lt;h5 id="business-logic">Business logic
&lt;/h5>&lt;p>If composables and plain state holders classes are in charge of the UI logic and UI element state, a screen level state holder is in charge of the following tasks:&lt;/p>
&lt;ul>
&lt;li>Providing access to the &lt;a class="link" href="https://developer.android.com/topic/architecture/ui-layer#logic-types" target="_blank" rel="noopener"
>business logic&lt;/a> of the application that is usually placed in other layers of the hierarchy such as the business and data layers.&lt;/li>
&lt;li>Preparing the application data for presentation in a particular screen, which becomes the screen UI state.&lt;/li>
&lt;/ul>
&lt;p>The &lt;a class="link" href="https://developer.android.com/topic/libraries/architecture/viewmodel#best-practices" target="_blank" rel="noopener"
>benefits&lt;/a> of AAC ViewModels in Android development make them suitable for providing access to the business logic and preparing the application data for presentation on the screen.&lt;/p>
&lt;p>When you hoist UI state in the &lt;code>ViewModel&lt;/code>, you move it outside of the Composition.&lt;/p>
&lt;p>&lt;strong>Figure 6&lt;/strong>: State hoisted to the ViewModel is stored outside of the Composition.&lt;/p>
&lt;p>ViewModels aren&amp;rsquo;t stored as part of the Composition. They&amp;rsquo;re provided by the framework and they&amp;rsquo;re scoped to a &lt;a class="link" href="https://developer.android.com/reference/androidx/lifecycle/ViewModelStoreOwner" target="_blank" rel="noopener"
>&lt;code>ViewModelStoreOwner&lt;/code>&lt;/a> which can be an Activity, Fragment, navigation graph, or destination of a navigation graph.&lt;/p>
&lt;p>You should inject the &lt;code>ViewModel&lt;/code> instance in your screen-level composables to provide access to business logic.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> You should not pass &lt;code>ViewModel&lt;/code> instances down to other composables.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-Kotlin" data-lang="Kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ConversationScreen&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ConversationScreen&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="unidirectional-data-flow">unidirectional data flow
&lt;/h4>&lt;p>The pattern where the state goes down, and events go up is called a &lt;em>unidirectional data flow&lt;/em>.&lt;/p>
&lt;p>&lt;img src="https://developer.android.com/static/images/jetpack/compose/mmodel-flow-data.png"
loading="lazy"
alt="Illustration of the flow of data in a Compose UI, from high-level objects down to their children."
>&lt;/p>
&lt;p>&lt;img src="https://developer.android.com/static/images/jetpack/compose/mmodel-flow-events.png"
loading="lazy"
alt="Illustration of how UI elements respond to interaction, by triggering events that are handled by the app logic."
>&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Key Point:&lt;/strong> When hoisting state, there are three rules to help you figure out where state should go:&lt;/p>
&lt;ol>
&lt;li>State should be hoisted to at &lt;em>least&lt;/em> the &lt;strong>lowest common parent&lt;/strong> of all composables that use the state (read).&lt;/li>
&lt;li>State should be hoisted to at &lt;em>least&lt;/em> the &lt;strong>highest level it may be changed&lt;/strong> (write).&lt;/li>
&lt;li>If &lt;strong>two states change in response to the same events&lt;/strong> they should be &lt;strong>hoisted together.&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>You can hoist state higher than these rules require, but underhoisting state makes it difficult or impossible to follow unidirectional data flow.&lt;/p>
&lt;/blockquote>
&lt;h3 id="state-storage">state storage
&lt;/h3>&lt;p>&lt;strong>Parcelize&lt;/strong>&lt;/p>
&lt;p>The simplest solution is to add the &lt;a class="link" href="https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md" target="_blank" rel="noopener"
>&lt;code>@Parcelize&lt;/code>&lt;/a> annotation to the object. The object becomes parcelable, and can be bundled. For example, this code makes a parcelable &lt;code>City&lt;/code> data type and saves it to the state.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Parcelize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">data&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">City&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="py">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">country&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">Parcelable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">CityScreen&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">var&lt;/span> &lt;span class="py">selectedCity&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">rememberSaveable&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mutableStateOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">City&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Madrid&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Spain&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>MapSaver&lt;/strong>&lt;/p>
&lt;p>If for some reason &lt;code>@Parcelize&lt;/code> is not suitable, you can use &lt;code>mapSaver&lt;/code> to define your own rule for converting an object into a set of values that the system can save to the &lt;code>Bundle&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">data&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">City&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="py">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">country&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">CitySaver&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">nameKey&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;Name&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">countryKey&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;Country&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mapSaver&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">save&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">mapOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nameKey&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="k">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">countryKey&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="k">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">country&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">restore&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">City&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">it&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">nameKey&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">it&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">countryKey&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">CityScreen&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">var&lt;/span> &lt;span class="py">selectedCity&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">rememberSaveable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stateSaver&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">CitySaver&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mutableStateOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">City&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Madrid&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Spain&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>ListSaver&lt;/strong>&lt;/p>
&lt;p>To avoid needing to define the keys for the map, you can also use &lt;code>listSaver&lt;/code> and use its indices as keys:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">data&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">City&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="py">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">country&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">CitySaver&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">listSaver&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">City&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Any&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">save&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">listOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">country&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">restore&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">City&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">it&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">it&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">CityScreen&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">var&lt;/span> &lt;span class="py">selectedCity&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">rememberSaveable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stateSaver&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">CitySaver&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mutableStateOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">City&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Madrid&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Spain&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="lifecycle">Lifecycle
&lt;/h2>&lt;p>The lifecycle of a composable is defined by the following events:&lt;/p>
&lt;ul>
&lt;li>entering the Composition&lt;/li>
&lt;li>getting recomposed 0 or more times&lt;/li>
&lt;li>leaving the Composition.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://developer.android.com/static/images/jetpack/compose/lifecycle-composition.png"
loading="lazy"
alt="Diagram showing the lifecycle of a composable"
>&lt;/p>
&lt;p>Recomposition is typically triggered by a change to a &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State" target="_blank" rel="noopener"
>&lt;code>State&lt;/code>&lt;/a> object. Compose tracks these and runs all composables in the Composition that read that particular &lt;code>State&amp;lt;T&amp;gt;&lt;/code>, and any composables that they call that cannot be &lt;a class="link" href="https://developer.android.com/jetpack/compose/lifecycle#skipping" target="_blank" rel="noopener"
>skipped&lt;/a>.&lt;/p>
&lt;blockquote>
&lt;p>A Composable&amp;rsquo;s&amp;rsquo; lifecycle is simpler than the lifecycle of views, activities, and fragments. When a composable needs to manage or interact with external resources that &lt;em>do&lt;/em> have a more complex lifecycle, you should use &lt;a class="link" href="https://developer.android.com/jetpack/compose/lifecycle#state-effect-use-cases" target="_blank" rel="noopener"
>effects&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;p>Add extra information to help smart recompositions&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">MoviesScreen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">movies&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Movie&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Column&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">movie&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">movies&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">key&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">movie&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// Unique ID for this movie
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">MovieOverview&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">movie&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="stable">Stable
&lt;/h3>&lt;p>If a composable is already in the Composition, it can skip recomposition if all the inputs are stable and haven&amp;rsquo;t changed.&lt;/p>
&lt;p>A stable type must comply with the following contract:&lt;/p>
&lt;ul>
&lt;li>The result of &lt;code>equals&lt;/code> for two instances will &lt;em>forever&lt;/em> be the same for the same two instances.&lt;/li>
&lt;li>If a public property of the type changes, Composition will be notified.&lt;/li>
&lt;li>All public property types are also stable.&lt;/li>
&lt;/ul>
&lt;p>There are some important common types that fall into this contract that the compose compiler will treat as stable, even though they are not explicitly marked as stable by using the &lt;code>@Stable&lt;/code> annotation:&lt;/p>
&lt;ul>
&lt;li>All primitive value types: &lt;code>Boolean&lt;/code>, &lt;code>Int&lt;/code>, &lt;code>Long&lt;/code>, &lt;code>Float&lt;/code>, &lt;code>Char&lt;/code>, etc.&lt;/li>
&lt;li>Strings&lt;/li>
&lt;li>All Function types (lambdas)&lt;/li>
&lt;/ul>
&lt;p>All of these types are able to follow the contract of stable because they are immutable. Since immutable types never change, they never have to notify Composition of the change, so it is much easier to follow this contract.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> All deeply immutable types can safely be considered stable types.&lt;/p>
&lt;/blockquote>
&lt;p>One notable type that is stable but &lt;em>is&lt;/em> mutable is Compose’s &lt;code>MutableState&lt;/code> type. If a value is held in a &lt;code>MutableState&lt;/code>, the state object overall is considered to be stable as Compose will be notified of any changes to the &lt;code>.value&lt;/code> property of &lt;code>State&lt;/code>.&lt;/p>
&lt;p>If Compose is not able to infer that a type is stable, but you want to force Compose to treat it as stable, mark it with the &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/Stable" target="_blank" rel="noopener"
>&lt;code>@Stable&lt;/code>&lt;/a> annotation.&lt;/p>
&lt;h2 id="modifiers">Modifiers
&lt;/h2>&lt;p>odifiers allow you to decorate or augment a composable. Modifiers let you do these sorts of things:&lt;/p>
&lt;ul>
&lt;li>Change the composable&amp;rsquo;s size, layout, behavior, and appearance&lt;/li>
&lt;li>Add information, like accessibility labels&lt;/li>
&lt;li>Process user input&lt;/li>
&lt;li>Add high-level interactions, like making an element clickable, scrollable, draggable, or zoomable&lt;/li>
&lt;/ul>
&lt;p>It&amp;rsquo;s a best practice to have &lt;em>all&lt;/em> of your Composables accept a &lt;code>modifier&lt;/code> parameter, and pass that modifier to its first child that emits UI.&lt;/p>
&lt;p>The order of modifier functions is &lt;strong>significant&lt;/strong>. Since each function makes changes to the &lt;code>Modifier&lt;/code>returned by the previous function, the sequence affects the final result.&lt;/p>
&lt;p>Multiple modifiers can be chained together to decorate or augment a composable. This chain is created via the &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/Modifier" target="_blank" rel="noopener"
>&lt;code>Modifier&lt;/code>&lt;/a> interface which represents an ordered, immutable list of single &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/Modifier.Element" target="_blank" rel="noopener"
>&lt;code>Modifier.Elements&lt;/code>&lt;/a>.&lt;/p>
&lt;p>Each &lt;code>Modifier.Element&lt;/code> represents an individual behavior, like layout, drawing and graphics behaviors, all gesture-related, focus and semantics behaviors, as well as device input events. Their ordering matters: modifier elements that are added first will be applied first.&lt;/p>
&lt;p>Sometimes it can be beneficial to reuse the same modifier chain instances in multiple composables, by extracting them into variables and hoisting them into higher scopes. It can improve code readability or help improve your app&amp;rsquo;s performance.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">reusableModifier&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Modifier&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">fillMaxWidth&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">background&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nc">Color&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Red&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">padding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">12.&lt;/span>&lt;span class="n">dp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can further chain or append your extracted modifier chains by calling the &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/Modifier#then%28androidx.compose.ui.Modifier%29" target="_blank" rel="noopener"
>&lt;code>.then()&lt;/code>&lt;/a> function:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">reusableModifier&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Modifier&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">fillMaxWidth&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">background&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nc">Color&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Red&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">padding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">12.&lt;/span>&lt;span class="n">dp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Append to your reusableModifier
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">reusableModifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">clickable&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="err">…&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Append your reusableModifier
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">otherModifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">reusableModifier&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="side-effects">Side-effects
&lt;/h2>&lt;p>A &lt;strong>side-effect&lt;/strong> is a change to the state of the app that happens outside the scope of a composable function.&lt;/p>
&lt;p>Composables should be side-effect free. When you need to make changes to the state of the app, &lt;strong>you should use the Effect APIs so that those side effects are executed in a predictable manner&lt;/strong>.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Key Term:&lt;/strong> An &lt;strong>effect&lt;/strong> is a composable function that doesn&amp;rsquo;t emit UI and causes side effects to run when a composition completes.&lt;/p>
&lt;/blockquote>
&lt;h3 id="launchedeffect-run-suspend-functions-in-the-scope-of-a-composable">LaunchedEffect: run suspend functions in the scope of a composable
&lt;/h3>&lt;p>To call suspend functions safely from inside a composable, use the &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#LaunchedEffect%28kotlin.Any,kotlin.coroutines.SuspendFunction1%29" target="_blank" rel="noopener"
>&lt;code>LaunchedEffect&lt;/code>&lt;/a> composable. When &lt;code>LaunchedEffect&lt;/code> enters the Composition, it launches a coroutine with the block of code passed as a parameter. The coroutine will be cancelled if &lt;code>LaunchedEffect&lt;/code> leaves the composition. If &lt;code>LaunchedEffect&lt;/code> is recomposed with different keys, the existing coroutine will be cancelled and the new suspend function will be launched in a new coroutine.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">LandingScreen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onTimeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">Unit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// This will always refer to the latest onTimeout function that
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// LandingScreen was recomposed with
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">currentOnTimeout&lt;/span> &lt;span class="k">by&lt;/span> &lt;span class="n">rememberUpdatedState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onTimeout&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create an effect that matches the lifecycle of LandingScreen.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// If LandingScreen recomposes, the delay shouldn&amp;#39;t start again.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">LaunchedEffect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SplashWaitTimeMillis&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">currentOnTimeout&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* Landing screen content */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="remembercoroutinescope-obtain-a-composition-aware-scope-to-launch-a-coroutine-outside-a-composable">rememberCoroutineScope: obtain a composition-aware scope to launch a coroutine outside a composable
&lt;/h3>&lt;p>As &lt;code>LaunchedEffect&lt;/code> is a composable function, it can only be used inside other composable functions. In order to launch a coroutine outside of a composable, but scoped so that it will be automatically canceled once it leaves the composition, use &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#rememberCoroutineScope%28kotlin.Function0%29" target="_blank" rel="noopener"
>&lt;code>rememberCoroutineScope&lt;/code>&lt;/a>&lt;/p>
&lt;p>&lt;code>rememberCoroutineScope&lt;/code> is a composable function that returns a &lt;code>CoroutineScope&lt;/code> bound to the point of the Composition where it&amp;rsquo;s called. The scope will be cancelled when the call leaves the Composition.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">LandingScreen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onTimeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">Unit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// This will always refer to the latest onTimeout function that
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// LandingScreen was recomposed with
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">currentOnTimeout&lt;/span> &lt;span class="k">by&lt;/span> &lt;span class="n">rememberUpdatedState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onTimeout&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create an effect that matches the lifecycle of LandingScreen.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// If LandingScreen recomposes, the delay shouldn&amp;#39;t start again.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">LaunchedEffect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SplashWaitTimeMillis&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">currentOnTimeout&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* Landing screen content */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="rememberupdatedstate-reference-a-value-in-an-effect-that-shouldnt-restart-if-the-value-changes">rememberUpdatedState: reference a value in an effect that shouldn&amp;rsquo;t restart if the value changes
&lt;/h3>&lt;p>&lt;code>LaunchedEffect&lt;/code> restarts when one of the key parameters changes. However, in some situations you might want to capture a value in your effect that, if it changes, you do not want the effect to restart. In order to do this, it is required to use &lt;code>rememberUpdatedState&lt;/code> to create a reference to this value which can be captured and updated. This approach is helpful for effects that contain long-lived operations that may be expensive or prohibitive to recreate and restart.&lt;/p>
&lt;p>For example, suppose your app has a &lt;code>LandingScreen&lt;/code> that disappears after some time. Even if &lt;code>LandingScreen&lt;/code> is recomposed, the effect that waits for some time and notifies that the time passed shouldn&amp;rsquo;t be restarted:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">LandingScreen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onTimeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">Unit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// This will always refer to the latest onTimeout function that
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// LandingScreen was recomposed with
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">currentOnTimeout&lt;/span> &lt;span class="k">by&lt;/span> &lt;span class="n">rememberUpdatedState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onTimeout&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create an effect that matches the lifecycle of LandingScreen.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// If LandingScreen recomposes, the delay shouldn&amp;#39;t start again.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">LaunchedEffect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SplashWaitTimeMillis&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">currentOnTimeout&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* Landing screen content */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="disposableeffect-effects-that-require-cleanup">DisposableEffect: effects that require cleanup
&lt;/h3>&lt;p>For side effects that need to be &lt;em>cleaned up&lt;/em> after the keys change or if the composable leaves the Composition, use &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#DisposableEffect%28kotlin.Any,kotlin.Function1%29" target="_blank" rel="noopener"
>&lt;code>DisposableEffect&lt;/code>&lt;/a>. If the &lt;code>DisposableEffect&lt;/code> keys change, the composable needs to &lt;em>dispose&lt;/em> (do the cleanup for) its current effect, and reset by calling the effect again.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">HomeScreen&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lifecycleOwner&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">LifecycleOwner&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nc">LocalLifecycleOwner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">current&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">onStart&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">Unit&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// Send the &amp;#39;started&amp;#39; analytics event
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">onStop&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">Unit&lt;/span> &lt;span class="c1">// Send the &amp;#39;stopped&amp;#39; analytics event
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Safely update the current lambdas when a new one is provided
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">currentOnStart&lt;/span> &lt;span class="k">by&lt;/span> &lt;span class="n">rememberUpdatedState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onStart&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">currentOnStop&lt;/span> &lt;span class="k">by&lt;/span> &lt;span class="n">rememberUpdatedState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onStop&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// If `lifecycleOwner` changes, dispose and reset the effect
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">DisposableEffect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lifecycleOwner&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create an observer that triggers our remembered callbacks
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// for sending analytics events
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">observer&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">LifecycleEventObserver&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">event&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nc">Lifecycle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">Event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ON_START&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">currentOnStart&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nc">Lifecycle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">Event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ON_STOP&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">currentOnStop&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Add the observer to the lifecycle
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">lifecycleOwner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lifecycle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">addObserver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">observer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// When the effect leaves the Composition, remove the observer
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">onDispose&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lifecycleOwner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lifecycle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">removeObserver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">observer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* Home screen content */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="sideeffect-publish-compose-state-to-non-compose-code">SideEffect: publish Compose state to non-compose code
&lt;/h3>&lt;p>To share Compose state with objects not managed by compose, use the &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#SideEffect%28kotlin.Function0%29" target="_blank" rel="noopener"
>&lt;code>SideEffect&lt;/code>&lt;/a> composable, as it&amp;rsquo;s invoked on every successful recomposition.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">rememberAnalytics&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">User&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="n">FirebaseAnalytics&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">analytics&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">FirebaseAnalytics&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">remember&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* ... */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// On every successful composition, update FirebaseAnalytics with
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// the userType from the current User, ensuring that future analytics
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// events have this metadata attached
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SideEffect&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">analytics&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">setUserProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;userType&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">userType&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">analytics&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="producestate-convert-non-compose-state-into-compose-state">produceState: convert non-Compose state into Compose state
&lt;/h3>&lt;p>&lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#produceState%28kotlin.Any,kotlin.coroutines.SuspendFunction1%29" target="_blank" rel="noopener"
>&lt;code>produceState&lt;/code>&lt;/a> launches a coroutine scoped to the Composition that can push values into a returned &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State" target="_blank" rel="noopener"
>&lt;code>State&lt;/code>&lt;/a>. Use it to convert non-Compose state into Compose state, for example bringing external subscription-driven state such as &lt;code>Flow&lt;/code>, &lt;code>LiveData&lt;/code>, or &lt;code>RxJava&lt;/code> into the Composition.&lt;/p>
&lt;p>The producer is launched when &lt;code>produceState&lt;/code> enters the Composition, and will be cancelled when it leaves the Composition.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">loadNetworkImage&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">url&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">imageRepository&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">ImageRepository&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">):&lt;/span> &lt;span class="n">State&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Image&lt;/span>&lt;span class="p">&amp;gt;&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Creates a State&amp;lt;T&amp;gt; with Result.Loading as initial value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// If either `url` or `imageRepository` changes, the running producer
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// will cancel and will be re-launched with the new inputs.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">produceState&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Result&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">Image&lt;/span>&lt;span class="p">&amp;gt;&amp;gt;(&lt;/span>&lt;span class="n">initialValue&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nc">Result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Loading&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">url&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">imageRepository&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// In a coroutine, can make suspend calls
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">image&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">imageRepository&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Update State with either an Error or Success result.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// This will trigger a recomposition where this State is read
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">value&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">image&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="k">null&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">Result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">Result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Success&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">image&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> Composables with a return type should be named the way you&amp;rsquo;d name a normal Kotlin function, starting with a lowercase letter.&lt;/p>
&lt;/blockquote>
&lt;h3 id="derivedstateof-convert-one-or-multiple-state-objects-into-another-state">derivedStateOf: convert one or multiple state objects into another state
&lt;/h3>&lt;p>Use &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#derivedStateOf%28kotlin.Function0%29" target="_blank" rel="noopener"
>&lt;code>derivedStateOf&lt;/code>&lt;/a> when a certain state is calculated or derived from other state objects. Using this function guarantees that the calculation will only occur whenever one of the states used in the calculation changes.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">TodoList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">highPriorityKeywords&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">listOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Review&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Unblock&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Compose&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">todoTasks&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">remember&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">mutableStateListOf&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">&amp;gt;()&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Calculate high priority tasks only when the todoTasks or highPriorityKeywords
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// change, not on every recomposition
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">val&lt;/span> &lt;span class="py">highPriorityTasks&lt;/span> &lt;span class="k">by&lt;/span> &lt;span class="n">remember&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">highPriorityKeywords&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">derivedStateOf&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">todoTasks&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">containsWord&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">highPriorityKeywords&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Box&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nc">Modifier&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fillMaxSize&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">LazyColumn&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">items&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">highPriorityTasks&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* ... */&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">items&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">todoTasks&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* ... */&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* Rest of the UI where users can add elements to the list */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="snapshotflow-convert-composes-state-into-flows">snapshotFlow: convert Compose&amp;rsquo;s State into Flows
&lt;/h3>&lt;p>Use &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#snapshotFlow%28kotlin.Function0%29" target="_blank" rel="noopener"
>&lt;code>snapshotFlow&lt;/code>&lt;/a> to convert &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State" target="_blank" rel="noopener"
>&lt;code>State&lt;/code>&lt;/a> objects into a cold Flow. &lt;code>snapshotFlow&lt;/code> runs its block when collected and emits the result of the &lt;code>State&lt;/code> objects read in it. When one of the &lt;code>State&lt;/code> objects read inside the &lt;code>snapshotFlow&lt;/code> block mutates, the Flow will emit the new value to its collector if the new value is not &lt;a class="link" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/equals.html" target="_blank" rel="noopener"
>equal to&lt;/a> the previous emitted value (this behavior is similar to that of &lt;a class="link" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/distinct-until-changed.html" target="_blank" rel="noopener"
>&lt;code>Flow.distinctUntilChanged&lt;/code>&lt;/a>).&lt;/p>
&lt;p>The following example shows a side effect that records when the user scrolls past the first item in a list to analytics:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">listState&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">rememberLazyListState&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LazyColumn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">listState&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">LaunchedEffect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">listState&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">snapshotFlow&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">listState&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">firstVisibleItemIndex&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">map&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">distinctUntilChanged&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">it&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="k">true&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">collect&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nc">MyAnalyticsService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">sendScrolledPastFirstItemEvent&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="restarting-effects">Restarting effects
&lt;/h3>&lt;p>As a rule of thumb, mutable and immutable variables used in the effect block of code should be added as parameters to the effect composable. Apart from those, more parameters can be added to force restarting the effect. If the change of a variable shouldn&amp;rsquo;t cause the effect to restart, the variable should be wrapped in &lt;a class="link" href="https://developer.android.com/jetpack/compose/side-effects#rememberupdatedstate" target="_blank" rel="noopener"
>&lt;code>rememberUpdatedState&lt;/code>&lt;/a>. If the variable never changes because it&amp;rsquo;s wrapped in a &lt;code>remember&lt;/code> with no keys, you don&amp;rsquo;t need to pass the variable as a key to the effect.&lt;/p>
&lt;p>You can use a constant like &lt;code>true&lt;/code> as an effect key to make it &lt;strong>follow the lifecycle of the call site&lt;/strong>.&lt;/p>
&lt;h2 id="phases">Phases
&lt;/h2>&lt;p>Like most other UI toolkits, Compose renders a frame through several distinct &lt;em>phases&lt;/em>.&lt;/p>
&lt;p>Compose has three main phases:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Composition&lt;/strong>: &lt;em>What&lt;/em> UI to show. Compose runs composable functions and creates a description of your UI.&lt;/li>
&lt;li>&lt;strong>Layout&lt;/strong>: &lt;em>Where&lt;/em> to place UI. This phase consists of two steps: measurement and placement. Layout elements measure and place themselves and any child elements in 2D coordinates, for each node in the layout tree.&lt;/li>
&lt;li>&lt;strong>Drawing&lt;/strong>: &lt;em>How&lt;/em> it renders. UI elements draw into a Canvas, usually a device screen.&lt;/li>
&lt;/ol>
&lt;p>The order of these phases is generally the same, allowing data to flow in one direction from composition to layout to drawing to produce a frame (also known as &lt;a class="link" href="https://developer.android.com/jetpack/compose/architecture#udf" target="_blank" rel="noopener"
>unidirectional data flow&lt;/a>). &lt;a class="link" href="https://developer.android.com/jetpack/compose/layouts/basics#constraints" target="_blank" rel="noopener"
>&lt;code>BoxWithConstraints&lt;/code>&lt;/a> and &lt;a class="link" href="https://developer.android.com/jetpack/compose/lists#lazy" target="_blank" rel="noopener"
>&lt;code>LazyColumn&lt;/code> and &lt;code>LazyRow&lt;/code>&lt;/a> are notable exceptions, where the composition of its children depends on the parent&amp;rsquo;s layout phase.&lt;/p>
&lt;h2 id="architectural-layering">Architectural Layering
&lt;/h2>&lt;p>The major layers of Jetpack Compose are:&lt;/p>
&lt;p>&lt;img src="https://developer.android.com/static/images/jetpack/compose/layering-major-layers.svg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>Each layer is built upon the lower levels, combining functionality to create higher level components.&lt;/p>
&lt;h2 id="semantics">Semantics
&lt;/h2>&lt;p>The Composition is a tree-structure that consists of the composables that describe your UI.&lt;/p>
&lt;p>Next to the Composition, there exists a parallel tree, called the &lt;em>Semantics tree&lt;/em>. This tree describes your UI in an alternative manner that is understandable for &lt;a class="link" href="https://developer.android.com/jetpack/compose/accessibility" target="_blank" rel="noopener"
>Accessibility&lt;/a> services and for the &lt;a class="link" href="https://developer.android.com/jetpack/compose/testing" target="_blank" rel="noopener"
>Testing&lt;/a> framework.&lt;/p>
&lt;p>If your app consists of composables and modifiers from the Compose foundation and material library, the Semantics tree is automatically filled and generated for you. However &lt;strong>when you’re adding custom low-level composables, you will have to manually provide its semantics&lt;/strong>&lt;/p>
&lt;h2 id="compositionlocal">CompositionLocal
&lt;/h2>&lt;p>&lt;code>CompositionLocal&lt;/code>s can be used as an implicit way to have data flow through a composition.&lt;/p>
&lt;p>&lt;code>CompositionLocal&lt;/code> elements are usually provided with a value in a certain node of the UI tree. That value can be used by its composable descendants without declaring the &lt;code>CompositionLocal&lt;/code> as a parameter in the composable function.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Define a CompositionLocal global object with a default
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// This instance can be accessed by all composables in the app
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">val&lt;/span> &lt;span class="py">ActiveUser&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">compositionLocalOf&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">User&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;No active user found!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">UserPhoto&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">user&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nc">ActiveUser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">current&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ProfileIcon&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">src&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">profilePhotoUrl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">App&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">User&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">CompositionLocalProvider&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ActiveUser&lt;/span> &lt;span class="n">provides&lt;/span> &lt;span class="n">user&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SomeScreen&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">SomeScreen&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">UserPhoto&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Composable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">UserPhoto&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">user&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nc">ActiveUser&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">current&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ProfileIcon&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">src&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">profilePhotoUrl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>There are two APIs to create a &lt;code>CompositionLocal&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#compositionLocalOf%28androidx.compose.runtime.SnapshotMutationPolicy,kotlin.Function0%29" target="_blank" rel="noopener"
>&lt;code>compositionLocalOf&lt;/code>&lt;/a>: Changing the value provided during recomposition invalidates &lt;em>only&lt;/em> the content that reads its &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/CompositionLocal#current%28%29" target="_blank" rel="noopener"
>&lt;code>current&lt;/code>&lt;/a> value.&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary#staticCompositionLocalOf%28kotlin.Function0%29" target="_blank" rel="noopener"
>&lt;code>staticCompositionLocalOf&lt;/code>&lt;/a>: Unlike &lt;code>compositionLocalOf&lt;/code>, reads of a &lt;code>staticCompositionLocalOf&lt;/code> are not tracked by Compose. Changing the value causes the entirety of the &lt;code>content&lt;/code> lambda where the &lt;code>CompositionLocal&lt;/code> is provided to be recomposed, instead of just the places where the &lt;code>current&lt;/code> value is read in the Composition.&lt;/li>
&lt;/ul>
&lt;p>If the value provided to the &lt;code>CompositionLocal&lt;/code> is highly unlikely to change or will never change, use &lt;code>staticCompositionLocalOf&lt;/code> to get performance benefits.&lt;/p>
&lt;h2 id="navigation">Navigation
&lt;/h2>&lt;p>The &lt;a class="link" href="https://developer.android.com/reference/androidx/navigation/NavController" target="_blank" rel="noopener"
>&lt;code>NavController&lt;/code>&lt;/a> is the central API for the Navigation component. It is stateful and keeps track of the back stack of composables that make up the screens in your app and the state of each screen.&lt;/p>
&lt;p>You can create a &lt;code>NavController&lt;/code> by using the &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/navigation/compose/package-summary#rememberNavController%28kotlin.Array%29" target="_blank" rel="noopener"
>&lt;code>rememberNavController()&lt;/code>&lt;/a> method in your composable:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">val&lt;/span> &lt;span class="py">navController&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">rememberNavController&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should create the &lt;code>NavController&lt;/code> in the place in your composable hierarchy where all composables that need to reference it have access to it. This follows the principles of &lt;a class="link" href="https://developer.android.com/jetpack/compose/state#state-hoisting" target="_blank" rel="noopener"
>state hoisting&lt;/a> and allows you to use the &lt;code>NavController&lt;/code> and the state it provides via &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/navigation/compose/package-summary#%28androidx.navigation.NavController%29.currentBackStackEntryAsState%28%29" target="_blank" rel="noopener"
>&lt;code>currentBackStackEntryAsState()&lt;/code>&lt;/a> to be used as the source of truth for updating composables outside of your screens.&lt;/p>
&lt;p>Each &lt;a class="link" href="https://developer.android.com/reference/androidx/navigation/NavController" target="_blank" rel="noopener"
>&lt;code>NavController&lt;/code>&lt;/a> must be associated with a single &lt;a class="link" href="https://developer.android.com/reference/androidx/navigation/NavHost" target="_blank" rel="noopener"
>&lt;code>NavHost&lt;/code>&lt;/a> composable. The &lt;code>NavHost&lt;/code> links the &lt;code>NavController&lt;/code> with a navigation graph that specifies the composable destinations that you should be able to navigate between. As you navigate between composables, the content of the &lt;code>NavHost&lt;/code> is automatically &lt;a class="link" href="https://developer.android.com/jetpack/compose/mental-model#recomposition" target="_blank" rel="noopener"
>recomposed&lt;/a>. Each composable destination in your navigation graph is associated with a &lt;em>route&lt;/em>.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Key Term:&lt;/strong> &lt;strong>Route&lt;/strong> is a &lt;code>String&lt;/code> that defines the path to your composable. You can think of it as an implicit deep link that leads to a specific destination. Each destination should have a unique route.&lt;/p>
&lt;/blockquote>
&lt;p>Creating the &lt;code>NavHost&lt;/code> requires the &lt;code>NavController&lt;/code> previously created via &lt;code>rememberNavController()&lt;/code> and the route of the starting destination of your graph. &lt;code>NavHost&lt;/code> creation uses the lambda syntax from the &lt;a class="link" href="https://developer.android.com/guide/navigation/navigation-kotlin-dsl#navgraphbuilder" target="_blank" rel="noopener"
>Navigation Kotlin DSL&lt;/a> to construct your navigation graph. You can add to your navigation structure by using the &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/navigation/compose/package-summary#%28androidx.navigation.NavGraphBuilder%29.composable%28kotlin.String,kotlin.collections.List,kotlin.collections.List,kotlin.Function1%29" target="_blank" rel="noopener"
>&lt;code>composable()&lt;/code>&lt;/a> method. This method requires that you provide a route and the composable that should be linked to the destination:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">NavHost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">navController&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">navController&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">startDestination&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;profile&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">composable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;profile&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">Profile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/*...*/&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">composable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;friendslist&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">FriendsList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/*...*/&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/*...*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> the Navigation Component requires that you follow the &lt;a class="link" href="https://developer.android.com/guide/navigation/navigation-principles#fixed_start_destination" target="_blank" rel="noopener"
>Principles of Navigation&lt;/a> and use a fixed starting destination. You should not use a composable value for the &lt;code>startDestination&lt;/code> route.&lt;/p>
&lt;/blockquote>
&lt;p>To navigate to a composable destination in the navigation graph, you must use the &lt;a class="link" href="https://developer.android.com/reference/androidx/navigation/NavController#navigate%28kotlin.String,androidx.navigation.NavOptions,androidx.navigation.Navigator.Extras%29" target="_blank" rel="noopener"
>&lt;code>navigate&lt;/code>&lt;/a> method. &lt;code>navigate&lt;/code> takes a single &lt;code>String&lt;/code> parameter that represents the destination’s route. To navigate from a composable within the navigation graph, call &lt;code>navigate&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">navController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">navigate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;friendslist&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By default, &lt;a class="link" href="https://developer.android.com/reference/androidx/navigation/NavController#navigate%28kotlin.String,androidx.navigation.NavOptions,androidx.navigation.Navigator.Extras%29" target="_blank" rel="noopener"
>&lt;code>navigate&lt;/code>&lt;/a> adds your new destination to the back stack. You can modify the behavior of &lt;code>navigate&lt;/code> by attaching additional navigation options to our &lt;code>navigate()&lt;/code> call:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Pop everything up to the &amp;#34;home&amp;#34; destination off the back stack before
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// navigating to the &amp;#34;friendslist&amp;#34; destination
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">navController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">navigate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;friendslist&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">popUpTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;home&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Pop everything up to and including the &amp;#34;home&amp;#34; destination off
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// the back stack before navigating to the &amp;#34;friendslist&amp;#34; destination
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">navController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">navigate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;friendslist&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">popUpTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;home&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">inclusive&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">true&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Navigate to the &amp;#34;search” destination only if we’re not already on
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// the &amp;#34;search&amp;#34; destination, avoiding multiple copies on the top of the
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// back stack
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">navController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">navigate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;search&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">launchSingleTop&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Destinations can be grouped into a &lt;a class="link" href="https://developer.android.com/guide/navigation/navigation-design-graph#nested_graphs" target="_blank" rel="noopener"
>nested graph&lt;/a> to modularize a particular flow in your app’s UI. An example of this could be a self-contained login flow.&lt;/p>
&lt;p>The nested graph encapsulates its destinations. As with the root graph, a nested graph must have a destination identified as the start destination by its route. This is the destination that is navigated to when you navigate to the route associated with the nested graph.&lt;/p>
&lt;p>To add a nested graph to your &lt;code>NavHost&lt;/code>, you can use the &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/navigation/compose/package-summary#%28androidx.navigation.NavGraphBuilder%29.navigation%28kotlin.String,kotlin.String,kotlin.collections.List,kotlin.collections.List,kotlin.Function1%29" target="_blank" rel="noopener"
>&lt;code>navigation&lt;/code>&lt;/a> extension function:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">NavHost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">navController&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">startDestination&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;home&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Navigating to the graph via its route (&amp;#39;login&amp;#39;) automatically
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// navigates to the graph&amp;#39;s start destination - &amp;#39;username&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// therefore encapsulating the graph&amp;#39;s internal routing logic
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">navigation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">startDestination&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">route&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;login&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">composable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">composable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">composable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;registration&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It is strongly recommended that you split your navigation graph into multiple methods as the graph grows in size. This also allows multiple modules to contribute their own navigation graphs.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">NavGraphBuilder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">loginGraph&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">navController&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">NavController&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">navigation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">startDestination&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">route&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;login&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">composable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">composable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">composable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;registration&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By making the method an extension method on &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/navigation/NavGraphBuilder" target="_blank" rel="noopener"
>&lt;code>NavGraphBuilder&lt;/code>&lt;/a>, you can use it alongside the prebuilt &lt;code>navigation&lt;/code>, &lt;code>composable&lt;/code>, and &lt;code>dialog&lt;/code> extension methods:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">NavHost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">navController&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">startDestination&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;home&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loginGraph&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">navController&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">..&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ui-design">UI Design
&lt;/h2>&lt;h3 id="layout">Layout
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Column&lt;/p>
&lt;p>Use &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary#Column%28androidx.compose.ui.Modifier,androidx.compose.foundation.layout.Arrangement.Vertical,androidx.compose.ui.Alignment.Horizontal,kotlin.Function1%29%28androidx.compose.ui.Modifier,androidx.compose.foundation.layout.Arrangement.Vertical,androidx.compose.ui.Alignment.Horizontal,kotlin.Function1%29" target="_blank" rel="noopener"
>&lt;code>Column&lt;/code>&lt;/a> to place items vertically on the screen.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Row&lt;/p>
&lt;p>Similarly, use &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary#Row%28androidx.compose.ui.Modifier,androidx.compose.foundation.layout.Arrangement.Horizontal,androidx.compose.ui.Alignment.Vertical,kotlin.Function1%29%28androidx.compose.ui.Modifier,androidx.compose.foundation.layout.Arrangement.Horizontal,androidx.compose.ui.Alignment.Vertical,kotlin.Function1%29" target="_blank" rel="noopener"
>&lt;code>Row&lt;/code>&lt;/a> to place items horizontally on the screen. Both &lt;code>Column&lt;/code> and &lt;code>Row&lt;/code> support configuring the alignment of the elements they contain.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Box&lt;/p>
&lt;p>Use &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary#Box%28androidx.compose.ui.Modifier,androidx.compose.ui.Alignment,kotlin.Boolean,kotlin.Function1%29" target="_blank" rel="noopener"
>&lt;code>Box&lt;/code>&lt;/a> to put elements on top of another. &lt;code>Box&lt;/code> also supports configuring specific alignment of the elements it contains.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Often these building blocks are all you need. You can write your own composable function to combine these layouts into a more elaborate layout that suits your app.&lt;/p>
&lt;p>&lt;img src="https://developer.android.com/static/images/jetpack/compose/layout-column-row-box.svg"
loading="lazy"
alt="Compares three simple layout composables: column, row, and box"
>&lt;/p>
&lt;p>To set children&amp;rsquo;s position within a &lt;code>Row&lt;/code>, set the &lt;code>horizontalArrangement&lt;/code> and &lt;code>verticalAlignment&lt;/code> arguments. For a &lt;code>Column&lt;/code>, set the &lt;code>verticalArrangement&lt;/code> and &lt;code>horizontalAlignment&lt;/code> arguments.&lt;/p>
&lt;p>In order to know the constraints coming from the parent and design the layout accordingly, you can use a &lt;code>BoxWithConstraints&lt;/code>.&lt;/p>
&lt;h4 id="content-slots">Content slots
&lt;/h4>&lt;p>Material Components that support inner content (text labels, icons, etc.) tend to offer “slots” — generic lambdas that accept composable content — as well as public constants, like size and padding, to support laying out inner content to match Material specifications.&lt;/p>
&lt;h2 id="testing-apis">Testing APIs
&lt;/h2>&lt;p>There are three main ways to interact with elements:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Finders&lt;/strong> let you select one or multiple elements (or &lt;em>nodes&lt;/em> in the Semantics tree) to make assertions or perform actions on them.&lt;/li>
&lt;li>&lt;strong>Assertions&lt;/strong> are used to verify that the elements exist or have certain attributes.&lt;/li>
&lt;li>&lt;strong>Actions&lt;/strong> inject simulated user events on the elements, such as clicks or other gestures.&lt;/li>
&lt;/ul>
&lt;p>Some of these APIs accept a &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/test/SemanticsMatcher" target="_blank" rel="noopener"
>&lt;code>SemanticsMatcher&lt;/code>&lt;/a> to refer to one or more &lt;em>nodes&lt;/em> in the semantics tree.&lt;/p>
&lt;h3 id="finders">Finders
&lt;/h3>&lt;p>You can use &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/test/SemanticsNodeInteractionsProvider#onNode%28androidx.compose.ui.test.SemanticsMatcher,kotlin.Boolean%29" target="_blank" rel="noopener"
>&lt;code>onNode&lt;/code>&lt;/a> and &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/test/SemanticsNodeInteractionsProvider#onAllNodes%28androidx.compose.ui.test.SemanticsMatcher,kotlin.Boolean%29" target="_blank" rel="noopener"
>&lt;code>onAllNodes&lt;/code>&lt;/a> to select one or multiple nodes respectively, but you can also use convenience finders for the most common searches, such as &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/test/package-summary#%28androidx.compose.ui.test.SemanticsNodeInteractionsProvider%29.onNodeWithText%28kotlin.String,kotlin.Boolean,kotlin.Boolean,kotlin.Boolean%29" target="_blank" rel="noopener"
>&lt;code>onNodeWithText&lt;/code>&lt;/a> , &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/test/package-summary#%28androidx.compose.ui.test.SemanticsNodeInteractionsProvider%29.onNodeWithContentDescription%28kotlin.String,kotlin.Boolean,kotlin.Boolean,kotlin.Boolean%29" target="_blank" rel="noopener"
>&lt;code>onNodeWithContentDescription&lt;/code>&lt;/a>, etc.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">composeTestRule&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">onNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hasText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Button&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">// Equivalent to onNodeWithText(&amp;#34;Button&amp;#34;)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="assertions">Assertions
&lt;/h3>&lt;p>Check assertions by calling &lt;code>assert()&lt;/code> on the &lt;code>SemanticsNodeInteraction&lt;/code> returned by a finder with one or multiple matchers:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Single matcher:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">composeTestRule&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">onNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">matcher&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">assert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hasText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Button&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">// hasText is a SemanticsMatcher
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Multiple matchers can use and / or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">composeTestRule&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">onNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">matcher&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">assert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hasText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Button&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">or&lt;/span> &lt;span class="n">hasText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Button2&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also use convenience functions for the most common assertions, such as &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/test/SemanticsNodeInteraction#assertExists%28kotlin.String%29" target="_blank" rel="noopener"
>&lt;code>assertExists&lt;/code>&lt;/a> , &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/test/SemanticsNodeInteraction#%28androidx.compose.ui.test.SemanticsNodeInteraction%29.assertIsDisplayed%28%29" target="_blank" rel="noopener"
>&lt;code>assertIsDisplayed&lt;/code>&lt;/a> , &lt;a class="link" href="https://developer.android.com/reference/kotlin/androidx/compose/ui/test/SemanticsNodeInteraction#%28androidx.compose.ui.test.SemanticsNodeInteraction%29.assertTextEquals%28kotlin.Array,kotlin.Boolean%29" target="_blank" rel="noopener"
>&lt;code>assertTextEquals&lt;/code>&lt;/a> , etc. You can browse the complete list in the &lt;a class="link" href="https://developer.android.com/jetpack/compose/testing-cheatsheet" target="_blank" rel="noopener"
>Compose Testing cheat sheet&lt;/a>.&lt;/p>
&lt;h3 id="actions">Actions
&lt;/h3>&lt;p>To inject an action on a node, call a &lt;code>perform…()&lt;/code> function:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="n">composeTestRule&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">onNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">..&lt;/span>&lt;span class="p">.).&lt;/span>&lt;span class="n">performClick&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> You cannot chain actions inside a perform function. Instead, make multiple &lt;code>perform()&lt;/code> calls.&lt;/p>
&lt;/blockquote></description></item><item><title>【Android】金旭亮-Android应用开发</title><link>https://dyhes.github.io/p/android%E9%87%91%E6%97%AD%E4%BA%AE-android%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/</link><pubDate>Tue, 16 Nov 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/android%E9%87%91%E6%97%AD%E4%BA%AE-android%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/</guid><description>&lt;h2 id="视图模式">视图模式
&lt;/h2>&lt;p>Android Studio支持以多种方式查看Android项目，可点击左上角的下拉菜单在各视图模式之间进行切换。&lt;/p>
&lt;p>开发中最常用的是两个视图：&lt;/p>
&lt;p>（1）Android：一般开发时使用这 个视图，它帮助隐藏和折叠了一些 开发很少用到的文件和文件夹。&lt;/p>
&lt;p>（2）Project：与真实的文件管理器 中看到的文件和文件夹内容一致。&lt;/p>
&lt;h2 id="总体结构">总体结构
&lt;/h2>&lt;ul>
&lt;li>AndroidManifest.xml：用于设置 Android应用的各种配置参数。&lt;/li>
&lt;li>Java:程序员为Activity/Fragment所写的代 码放在java文件夹下的相应包文件夹中&lt;/li>
&lt;li>Android Studio使用Gradle构建项目， 这些文件中最重要的就是项目与模块所 关联的build.gradle文件。&lt;/li>
&lt;/ul>
&lt;h2 id="控件">控件
&lt;/h2>&lt;p>整个App界面是一个Activity， 其中包容有其他UI控件&lt;/p>
&lt;p>一个Activity代表一个单独的用户可见的界面，由各种可视化控件所构成。&lt;/p>
&lt;h3 id="view">View
&lt;/h3>&lt;p>所有的Android控件都派生自View&lt;/p>
&lt;h3 id="viewgroup">ViewGroup
&lt;/h3>&lt;p>能够包容其他Android控件的控件，称为“容器” 控件，派生自ViewGroup&lt;/p>
&lt;h3 id="layout">Layout
&lt;/h3>&lt;p>一种特殊的“容器”控件， 本身不可见，其职责是排 列它所包容的控件。&lt;/p>
&lt;p>App中的UI界面与功能代码是分离的&lt;/p>
&lt;p>Kotlin/Java代码 （.java/.kt），完成 交互和数据处理功能。&lt;/p>
&lt;p>布局文件（.xml）确定 Activity的界面呈现&lt;/p>
&lt;h2 id="步骤">步骤
&lt;/h2>&lt;ul>
&lt;li>使用xml定义UI布局文件，其中需要通过代码访问的控件需要给 定一个Id。&lt;/li>
&lt;li>.在onCreate()方法中setContentView(布局文件），指定Activity使用 此特定的界面布局。&lt;/li>
&lt;li>使用findViewById()方法获取特定控件的引用&lt;/li>
&lt;li>调整控件的属性、给其特定事件添加响应代码&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>消除findViewById:&lt;/p>
&lt;p>视图绑定 （View Binding）&lt;/p>
&lt;p>数据绑定库 （Data Binding Library）&lt;/p>
&lt;/blockquote>
&lt;h2 id="log类">Log类
&lt;/h2>&lt;p>当Android App运行时，可以使用Log类，在Logcat面板输出信息&lt;/p>
&lt;ol>
&lt;li>Log.v(String tag, String msg)；（VERBOSE）&lt;/li>
&lt;li>Log.d(String tag, String msg)；（DEBUG）&lt;/li>
&lt;li>Log.i(String tag, String msg)；（INFO）&lt;/li>
&lt;li>Log.w(String tag, String msg)；（WARN）&lt;/li>
&lt;li>Log.e(String tag, String msg)；（ERROR）&lt;/li>
&lt;/ol>
&lt;h3 id="compared-with-timber">compared with Timber
&lt;/h3>&lt;p>它会自动检测它所处的类，使用类名作为TAG，从而省去了自定 义TAG的麻烦，但在需要时你也可以人工指定TAG名称。&lt;/p>
&lt;p>当使用Release模式发布App时，它会自动地Disable掉，无需 人工处理。&lt;/p>
&lt;h2 id="显示信息">显示信息
&lt;/h2>&lt;h3 id="toast">Toast
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">makeText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Context对象&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;要显示的信息&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">Toast&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">LENGTH_LONG&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>有许多的Android函数都需要有一个Context对象作为参数。&lt;/p>
&lt;p>使用Context对象，你就可以获取Android操作系统的当前状态信息，访问到Android操作系统的各种组件，调用它的服务。&lt;/p>
&lt;p>Android应用中常见的界面组件——Activity和Fragment（后 面课程介绍），都派生自Context类，所以，它们都可以看成是一个Context对象。当你在编程中发现某个方法需要有一个 Context对象时，直接将一个Activity或Fragment对象的引用传给它就好了，也可以通过“控件变量名.context”得到一 个Context对象。&lt;/p>
&lt;/blockquote>
&lt;h3 id="对话框">对话框
&lt;/h3>&lt;p>Dialog&lt;/p>
&lt;h2 id="图片">图片
&lt;/h2>&lt;p>Android项目的drawable文件夹用于保存App中用到的图片或图标。可以从网上找到各种图片（.jpg或.png），直接将其复制到此文件夹中，即可供App所使用。&lt;/p>
&lt;p>复制到drawable文件夹下的图片，拥有一 个（资源）标识值，其格式为： 放在drawable中的图片文件，其名字中不要有汉字或空格等字 符，应该采用全英文小写字母作为文件名。&lt;/p>
&lt;p>R.drawable.图片文件名&lt;/p>
&lt;p>Android Studio中可以创建 两种类型的图片资源，一种 称为“Image Asset”，是 基于像素的位图，另一种是 “Vector Asset”，是一种 矢量图形。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>位图图形即常见的“数码相 片”，扩展名通常为“.jpg” 或“.png”，当放大到一定程度时，可以明显地看到其中的像素色块。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>矢量图形是使用数学方式描述的，可以随意地放大和缩小，清晰度不会改变，在 Android中，这种图像资源的扩展名为&amp;quot;.xml&amp;quot;&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="菜单">菜单
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>在res/menu中编写菜单资源文件&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在Activity中重写&lt;strong>onCreateOptionsMenu&lt;/strong> 和&lt;strong>onOptionsItemSelected&lt;/strong>两个方法&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="context-menu">context menu
&lt;/h3>&lt;p>调用registerForContextMenu()方 法为某个view注册上下文菜单，其参 数就是那个长按弹出上下文菜单的控 件，此方法一般在onCreate里面调用&lt;/p>
&lt;h2 id="用户输入">用户输入
&lt;/h2>&lt;p>EditText是Android App中让用户输入信息 的主要控件之一。&lt;/p>
&lt;p>为了规范用户的输入信息， EditText提供 了InputType属性，用于过滤掉不合法的输 入字符，只有符合输入类型要求的字符，才 允许接收并显示出来。&lt;/p>
&lt;p>可以给EditText提供一个实现了TextWatcher接口的对象，在里面写代码实现特定的监控功能。&lt;/p>
&lt;h2 id="布局">布局
&lt;/h2>&lt;p>使用XML定义App界面并非唯一的方式，可以使用代码完成相同的功能：&lt;/p>
&lt;p>事实上，用XML定义的界面，最后也是要转换为代码来实现布局的&lt;/p>
&lt;blockquote>
&lt;p>实际开发中，应该使用XML为设计UI的主要方式，代码作为辅助手段。 但现在Google正在研发一种称为Compose的技术，完全使用kotlin取代 XML来定义界面，非常值得关注，它很可能代表了技术的发展方向&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415103836954.png"
loading="lazy"
alt="image-20220415103836954"
>&lt;/p>
&lt;h3 id="viewgroup-1">ViewGroup
&lt;/h3>&lt;p>View有一个特殊的子类，称为ViewGroup。ViewGroup提供了&lt;strong>对其子组件的管理功能&lt;/strong>，包括布局、动画等。ViewGroup的子组件可以是View也可以是ViewGroup。常用的布局控件（比如LinearLayout）都是ViewGroup的子类。&lt;/p>
&lt;h3 id="box-model">Box Model
&lt;/h3>&lt;p>• View支持padding，但是不支持margin。&lt;/p>
&lt;p>• ViewGroup支持padding和margin&lt;/p>
&lt;p>Android控件所占的具体位置，是由其父控件（主要就是布局控件）通过layout_width和layout_height等相关布局属性在App运行时“动态” 计算出来的，上述两个属性可以取的值有三种：&lt;/p>
&lt;ul>
&lt;li>固定值：比如100dp&lt;/li>
&lt;li>wrap_content：数值依控件所显示的具体内容而定&lt;/li>
&lt;li>match_parent：与其父控件的数值相匹配（一致）&lt;/li>
&lt;/ul>
&lt;h3 id="度量">度量
&lt;/h3>&lt;p>采用设备无关的像素（dp：Density-independent Pixel），能够让图像在不同分辨率的屏幕上都显示出一样的大小。&lt;/p>
&lt;p>布局通常使用dp作为单位，而字体尺寸则使用sp（Scalable pixels） 作为单位，这两者基本上是一样的，只不过sp会保留用户的设置（比如 用户可以选择使用大字体来显示App上的文本）&lt;/p>
&lt;h3 id="颜色">颜色
&lt;/h3>&lt;p>Android系统有12种已经定义好的颜色，具体的类型定义在Color类中。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">textView&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setTextColor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Color&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">RED&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在布局文件中设置颜色需要在色值前面加“#”，如 android:textColor=&amp;quot;#000000&amp;quot;。 也可以通过Color.rgb(int red, int green, int blue) 和Color.argb(int alpha, int red, int green, int blue)这两种方法指定颜色，后者可以同时指定“透明度”。 在代码中设置颜色可以直接填八位的十六进制数值，如 setTextColor(0xff00ff000)&lt;/p>
&lt;h5 id="colorsxml">colors.xml
&lt;/h5>&lt;p>res/values目录下有个colors.xml文件，可用于定义颜色常量。&lt;/p>
&lt;ul>
&lt;li>如果要在布局、样式等XML文件中使用颜色常量，可以使用“@color/ 颜色常量名”的方式&lt;/li>
&lt;li>如果要在代码中使用XML颜色常量，在Activity中可通过这行代码获取： getResources().getColor(R.color.颜色常量名)。&lt;/li>
&lt;/ul>
&lt;h3 id="布局控件">布局控件
&lt;/h3>&lt;p>早期的Andorid提供了很多种布局控件， 不少都被废弃了，就当前的学习者来 说，只需要掌握&lt;strong>LinearLayout、 FrameLayout、ConstraintLayout&lt;/strong> 这三种控件就足以应付大多数Android 应用开发场景&lt;/p>
&lt;ul>
&lt;li>
&lt;p>LinearLayout:&lt;/p>
&lt;p>LinearLayout是一种Android中最常 用的布局，它将自己包含的子元素按 照一个特定的方向进行排列。&lt;/p>
&lt;p>排列方向有两种：水平和垂直&lt;/p>
&lt;/li>
&lt;li>
&lt;p>FrameLayout:&lt;/p>
&lt;p>所有的子控件都被放置在FrameLayout区域最左上 的区域。而且无法为这些控件指定一个精确的位置， 但可以通过layout_gravity指定放置区域。&lt;/p>
&lt;p>如果一个FrameLayout里边有多个子控件，不做任 何调整的话，那么后边的子控件的显示会重叠在前一个控件上。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ConstraintLayout:&lt;/p>
&lt;p>Very important&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>扁平的控件层次结构优于多层 的控件层次结构。&lt;/p>
&lt;p>因此，为了能提升Android应用界面的绘制速度，现在推荐使用 “扁平化”的ConstraintLayout来设计那些比较复杂的原先必须 使用“多层嵌套”才能实现的用户界面。&lt;/p>
&lt;h5 id="layout_gravity和gravity">layout_gravity和gravity
&lt;/h5>&lt;p>layout_gravity设定该控件与上级 级控件的对齐方式，而gravity设定 布局内部子控件对齐与排列方式。&lt;/p>
&lt;p>使用layout_gravity，通常 要求控件的尺寸是 &amp;ldquo;wrap_content&amp;rdquo;，而要使用 gravity，控件的尺寸通常 是&amp;quot;match_parent&amp;quot;&lt;/p>
&lt;h5 id="weightsum和layout_weight">weightSum和layout_weight
&lt;/h5>&lt;p>“指定所有子控件weight 之和”。 • 子控件的layout_weight值设定其在 weightSum中所占的份额。&lt;/p>
&lt;p>也可以不指定weightSum，直接按照子 控件的layout_weight值“协商”瓜分 可用的空间，值大的，占据更大的空间。&lt;/p>
&lt;h2 id="constraintlayout">ConstraintLayout
&lt;/h2>&lt;p>在build.gradle中添加以下依赖：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gradle" data-lang="gradle">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dependencies&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">implementation&lt;/span> &lt;span class="s1">&amp;#39;androidx.constraintlayout:constraintlayout:2.1.3&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Android内置的控件，比如TextView，可以直接在XML中使用其 类名。另外，其属性名前通常有“android:”前缀，表明它是 系统内置的控件，随着用户手机操作系统而一同安装，App可以 直接使用它们。&lt;/p>
&lt;p>ConstraintLayout是一个外部库（library）控件，并不是 Android的有机组成部分。它本身必须被打包到Apk中，与应用一起 安装。它的属性以app:开头&lt;/p>
&lt;h2 id="activity生命周期">Activity生命周期
&lt;/h2>&lt;p>状态：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Initialized&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Created&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Started&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Resumed&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Destroyed&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>在Android 中，Activity 的生命周期交给操作系统统一管理。&lt;/p>
&lt;p>在android.app.Activity 类中，Android 定义了一系列与生命周期相 关的方法，这些方法将被系统在合适的时机回调，我们可以根据 需要“覆盖（或重写，override）”特定的方法。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Activity&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">onCreate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Bundle&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">savedInstanceState&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">onStart&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">onResume&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">onPause&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">onStop&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">protected&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">onDestroy&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415145259260.png"
loading="lazy"
alt="image-20220415145259260"
>&lt;/p>
&lt;p>调用Activity的finish()方法可以通知Android销毁Activity对 象并将它从Back Stack（回退堆栈）中移除，这时，onDestory() 方法会被调用，可以在此方法中“清理必要的资源”&lt;/p>
&lt;h3 id="创建activity">创建activity
&lt;/h3>&lt;ul>
&lt;li>为新Activity创建一个布局文件，设计好其布局。&lt;/li>
&lt;li>在App的清单文件中注册这个Activity。&lt;/li>
&lt;li>创建一个Intent实例，调用startActivity(intent)方法，即可启动并显示这个Activity。&lt;/li>
&lt;li>创建一个Activity类，并且在Activity的onCreate()方法中将布局文件与Activity关联起来&lt;/li>
&lt;/ul>
&lt;h3 id="activity信息交流">activity信息交流
&lt;/h3>&lt;ul>
&lt;li>Intent提供了putExtra()系列 方法将信息放到Bundle中&lt;/li>
&lt;li>可以使用getXXExtra()系列 方法取出信息&lt;/li>
&lt;/ul>
&lt;p>如果是离散的基础数据类型（比如Int和String）信息，直接调用putXXX系 列方法存入&lt;/p>
&lt;p>如果是一个对象，需要进行特殊的处理，让其实现Parcelable接口，并 附加@Parcelize注解&lt;/p>
&lt;p>随着技术的不断演进，特别是Android Jetpack相关组件的推出，现在更推荐 采用“单Activity多Fragment”的方式&lt;/p>
&lt;h2 id="back-stack">Back Stack
&lt;/h2>&lt;p>用户使用App的过程可以看成是多个Activity顺序显示 的过程，用户可以随时使用“Back”键回退回前一 个Activity。但这里有一个问题，那就是Android有可 能会销毁掉不在前台的Activity，所以，Android引入 了一个Task的机制解决这个问题。Activity可以被销 毁，但它的相关信息仍然放在Task中，依据这些信息 Android就可以重新创建并显示“前一个”Activity。&lt;/p>
&lt;ul>
&lt;li>位于Task栈顶的Activity称为“前台Activity”，用户可以看到它，并且能与它交互。&lt;/li>
&lt;li>其余的Activity称为“后台Activity”，用户看不到它，只有它上面的Activity被移除之后，它成为栈顶，才能被用户看到。&lt;/li>
&lt;/ul>
&lt;p>由于用户影响Task栈的最常见也是最主要的方式是使用手机的“Back”按键，所以，Task栈通常被称为“回退堆栈（Back Stack）”或“返回栈”。
当系统资源紧张时，Android可以销毁掉一些“后台Activity&lt;/p>
&lt;h3 id="task">Task
&lt;/h3>&lt;p>Android操作系统允许用户打开多个App，每个打开的App都对应着一个Task。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>当前正在与用户交互的App所对应着的Task，称为“前台Task”&lt;/p>
&lt;/li>
&lt;li>
&lt;p>其他的App对应的Task，称为“后台Task”&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="activity启动模式">activity启动模式
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;activity&lt;/span> &lt;span class="na">android:name=&lt;/span>&lt;span class="s">&amp;#34;.MainActivity&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">android:launchMode=&lt;/span>&lt;span class="s">&amp;#34;standard&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>standard：这是默认模式，每次激活Activity时都会创建Activity实例，并放入Back Stack中。&lt;/li>
&lt;li>singleTop：如果在栈顶已有一个实例，则重用此实例，并调用此实例的onNewIntent 方法。否则，创建新的实例并放入栈顶（即使栈中已经存在该Activity的实例，只要不在栈顶，都会创建实例）&lt;/li>
&lt;li>singleTask: 这种模式的Activity在一个Task中只能有一个实例存在。当需要启 动一个SingleTask模式的Activity时，如果所有前台后台Task中都没 有它的实例，系统就会创建它并将它压入当前Task的堆栈中。如果另外的Task中已存在该Activity 的实例，则系 统会通过调用这一Activity的 onNewIntent() 方法将 intent 转送给它，而不是创建新实例&lt;/li>
&lt;li>singleInstance：在一个新栈中创建实例，并让多个应用共享该实例。一 旦该模式的Activity的实例已经存在，任何应用在激活该Activity时，都会重 用该栈中的实例（并会自动调用其onNewIntent 方法）。&lt;/li>
&lt;/ul>
&lt;h2 id="intent">Intent
&lt;/h2>&lt;p>Android平台采用“松散协同配合”的理念进行设计，淡化了进程的概念。
Android应用可以使用多个不同来源的可重用组件以聚合的方式构建（比如在你的应用中直接集成Android系统提供的拍照程序完成照像功能）。&lt;/p>
&lt;p>为了让这些组件能相互沟通和协作，Android引入了“Intent”这一特殊的组件当作“信使”，完成组件间相互通信的工作。&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415155533031.png"
loading="lazy"
alt="image-20220415155533031"
>&lt;/p>
&lt;h3 id="intent-filter">Intent Filter
&lt;/h3>&lt;p>每个Activity都可以指定一个或多个Intent Filter，以便告诉系统该 Activity 可以响应什么类型的Intent&lt;/p>
&lt;h3 id="类型">类型
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>显式（Explicit）Intent&lt;/p>
&lt;p>直接启动特定的Activtity，只需要两个参数：context和要启动的Activity的类型，通常用于在同一个App内切换显示Activity&lt;/p>
&lt;/li>
&lt;li>
&lt;p>隐式（implicit）Intent&lt;/p>
&lt;p>告诉Android“你想干什么”，由Android帮助你筛选启动特定的Activtity，至少需要两个参数：一个是Action，另一个是Data URI，还可以附加有其他的参数（比如Category，Extra等）&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="fragment">Fragment
&lt;/h2>&lt;p>将复杂的Activity进行分解，使Android App应用更为模块化。&lt;/p>
&lt;p>可使用代码方便地进行控制，因此可以构建出高度灵活的UI。
它是许多其它Android技术的基础，比如一些控件（ViewPages）就使用Fragment作为其界面元素，Jetpack架构组件（比如导航）也是以Fragment作为基本构建单元的。&lt;/p>
&lt;p>Fragment由两部分组成：一个是布局文件，另一个是派生 自Fragment的自定义类，至少要重写onCreateView方法。&lt;/p>
&lt;h4 id="规范">规范
&lt;/h4>&lt;p>Fragment类名称通常采用驼峰命名法，以“Fragment”结束： 例如：SignInFragment&lt;/p>
&lt;p>相应的XML文件应该遵守以下命名规范： fragment_&amp;lt;FRAGMENT_NAME&amp;gt;.xml例如：fragment_sign_in.xml&lt;/p>
&lt;h3 id="状态">状态
&lt;/h3>&lt;p>Resumed：处于可见状态，能接收用户响应&lt;/p>
&lt;p>Started：处于可见状态，但不能接收用户响应&lt;/p>
&lt;p>Created：处于不可见状态&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415162002907.png"
loading="lazy"
alt="image-20220415162002907"
>&lt;/p>
&lt;h3 id="信息交流">信息交流
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>from Activity&lt;/p>
&lt;ul>
&lt;li>
&lt;p>直接（不推荐）&lt;/p>
&lt;p>Activity可以通过FragmentManager的findFragmentByTag等方法获取 特定Fragment对象的引用，然后直接访问Fragment类所定义的公有属性或 方法，即可向这一Fragment对象传送特定的信息。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Arguments实现（推荐）&lt;/p>
&lt;p>为了解决Activity向Fragment传送信息比较麻烦且易出错的问题， Android为Fragment提供了一个名为arguments的Bundle对象，使用它 来传送信息，就不会出错。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>工厂方法&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>
&lt;p>to Activity&lt;/p>
&lt;ol>
&lt;li>
&lt;p>定义一个专用接口，此接口中所定义方法的参数代表Fragment需要传给Activity的信息；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在Fragment内部定义一个类型为这个接口的属性；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Activity实现这个接口，并在App运行创建Fragment时，将自身引用传给Fragment；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Fragment在适合的时机，回调Activity实现的接口方法。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>与Fragment&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="jetpack">Jetpack
&lt;/h2>&lt;h3 id="构成">构成
&lt;/h3>&lt;ul>
&lt;li>基础组件&lt;/li>
&lt;li>架构组件&lt;/li>
&lt;li>行为组件&lt;/li>
&lt;li>界面组件&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415163749383.png"
loading="lazy"
alt="image-20220415163749383"
>&lt;/p>
&lt;p>由于Android Jetpack提供了现成的ViewModel、DataBinding等组件， 所以，MVVM就成为了推荐的Android App UI层设计模式&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415164658083.png"
loading="lazy"
alt="image-20220415164658083"
>&lt;/p>
&lt;h2 id="lifecycles">Lifecycles
&lt;/h2>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415165548612.png"
loading="lazy"
alt="image-20220415165548612"
>&lt;/p>
&lt;h2 id="viewmodel">ViewModel
&lt;/h2>&lt;p>ViewModel是一个类，它包容那 些Activity/Fragment需要显示 的数据&lt;/p>
&lt;h2 id="架构">架构
&lt;/h2>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415173711644.png"
loading="lazy"
alt="image-20220415173711644"
>&lt;/p>
&lt;h2 id="viewpage">ViewPage
&lt;/h2>&lt;p>ViewPage主要用于实现界面的切换&lt;/p>
&lt;h2 id="进程与线程">进程与线程
&lt;/h2>&lt;p>郑乐祺：注册/登录&lt;/p>
&lt;p>李赛伽：校园论坛+学生事务&lt;/p>
&lt;p>余力：校园监测&lt;/p>
&lt;p>林宏鹏：主页+教务管理&lt;/p></description></item><item><title>【React Native】Concepts</title><link>https://dyhes.github.io/p/react-nativeconcepts/</link><pubDate>Mon, 11 Oct 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/react-nativeconcepts/</guid><description>&lt;p>In Android and iOS development, a &lt;strong>view&lt;/strong> is the &lt;strong>basic building block&lt;/strong> of UI: &lt;strong>a small rectangular element&lt;/strong> on the screen which can be used to display text, images, or respond to user input. Even the smallest visual elements of an app, like a line of text or a button, are kinds of views. Some kinds of views can &lt;strong>contain other views&lt;/strong>.&lt;/p>
&lt;h2 id="native-components">Native Components
&lt;/h2>&lt;p>In Android development, you write views in &lt;strong>Kotlin or Java&lt;/strong>;&lt;/p>
&lt;p>in iOS development, you use &lt;strong>Swift or Objective-C&lt;/strong>.&lt;/p>
&lt;p>With React Native, you can invoke these views with &lt;strong>JavaScript&lt;/strong> using React components.&lt;/p>
&lt;p>At runtime, React Native creates the corresponding Android and iOS views for those components. Because React Native components are backed by the same views as Android and iOS, React Native apps look, feel, and perform like any other apps.&lt;/p>
&lt;p>We call these platform-backed components &lt;strong>Native Components.&lt;/strong>&lt;/p>
&lt;h3 id="core-components">Core Components
&lt;/h3>&lt;p>React Native comes with a set of essential, ready-to-use Native Components you can use to start building your app today. These are React Native&amp;rsquo;s &lt;strong>Core Components&lt;/strong>.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">REACT NATIVE UI COMPONENT&lt;/th>
&lt;th style="text-align: left">ANDROID VIEW&lt;/th>
&lt;th style="text-align: left">IOS VIEW&lt;/th>
&lt;th style="text-align: left">WEB ANALOG&lt;/th>
&lt;th style="text-align: left">DESCRIPTION&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>&amp;lt;View&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;ViewGroup&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;UIView&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">A non-scrollling &lt;code>&amp;lt;div&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">A container that supports layout with flexbox, style, some touch handling, and accessibility controls&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>&amp;lt;Text&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;TextView&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;UITextView&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;p&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">Displays, styles, and nests strings of text and even handles touch events&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>&amp;lt;Image&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;ImageView&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;UIImageView&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;img&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">Displays different types of images&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>&amp;lt;ScrollView&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;ScrollView&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;UIScrollView&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;div&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">A generic scrolling container that can contain multiple components and views&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>&amp;lt;TextInput&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;EditText&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;UITextField&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">&lt;code>&amp;lt;input type=&amp;quot;text&amp;quot;&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align: left">Allows the user to enter text&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;img src="https://reactnative.dev/docs/assets/diagram_react-native-components.svg"
loading="lazy"
alt="A diagram showing React Natives Core Components are a subset of React Components that ship with React Native."
>&lt;/p>
&lt;h2 id="platform-specific--code">Platform Specific Code
&lt;/h2>&lt;p>When building a cross-platform app, you&amp;rsquo;ll want to re-use as much code as possible. Scenarios may arise where it makes sense for the code to be different, for example you may want to implement separate visual components for Android and iOS.&lt;/p>
&lt;p>React Native provides two ways to organize your code and separate it by platform:&lt;/p>
&lt;ul>
&lt;li>Using the &lt;a class="link" href="https://reactnative.dev/docs/platform-specific-code#platform-module" target="_blank" rel="noopener"
>&lt;code>Platform&lt;/code> module&lt;/a>.&lt;/li>
&lt;li>Using &lt;a class="link" href="https://reactnative.dev/docs/platform-specific-code#platform-specific-extensions" target="_blank" rel="noopener"
>platform-specific file extensions&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>Certain components may have properties that work on one platform only. All of these props are annotated with &lt;code>@platform&lt;/code> and have a small badge next to them on the website.&lt;/p>
&lt;h3 id="using-platform-specific-file-extensionshttpsreactnativedevdocsplatform-specific-codeplatform-specific-extensions">Using &lt;a class="link" href="https://reactnative.dev/docs/platform-specific-code#platform-specific-extensions" target="_blank" rel="noopener"
>platform-specific file extensions&lt;/a>.
&lt;/h3>&lt;p>For example, say you have the following files in your project:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">BigButton.ios.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">BigButton.android.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can then require the component as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">BigButton&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./BigButton&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>React Native will automatically pick up the right file based on the running platform.&lt;/p>
&lt;p>You can also use the &lt;code>.native.js&lt;/code> extension when a module needs to be shared between NodeJS/Web and React Native but it has no Android/iOS differences. This is especially useful for projects that have common code shared among React Native and ReactJS.&lt;/p>
&lt;p>For example, say you have the following files in your project:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">Container.js &lt;span class="c1">## picked up by Webpack, Rollup or any other Web bundler&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Container.native.js &lt;span class="c1">## picked up by the React Native bundler for both Android and iOS (Metro)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can still require it without the &lt;code>.native&lt;/code> extension, as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Container&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./Container&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Pro tip:&lt;/strong> Configure your Web bundler to ignore &lt;code>.native.js&lt;/code> extensions in order to avoid having unused code in your production bundle, thus reducing the final bundle size.&lt;/p>
&lt;h2 id="style">Style
&lt;/h2>&lt;p>With React Native, you style your application using JavaScript. All of the core components accept a prop named &lt;code>style&lt;/code>. The style names and &lt;a class="link" href="https://reactnative.dev/docs/colors" target="_blank" rel="noopener"
>values&lt;/a> usually match how CSS works on the web, except names are written using camel casing&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">styles&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">StyleSheet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">create&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">container&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">marginTop&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bigBlue&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;blue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fontWeight&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;bold&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fontSize&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">red&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="dimensions">Dimensions
&lt;/h3>&lt;h4 id="fixed-dimensions">Fixed Dimensions
&lt;/h4>&lt;p>The general way to set the dimensions of a component is by adding a fixed &lt;code>width&lt;/code> and &lt;code>height&lt;/code> to style. All dimensions in React Native are unitless, and represent density-independent pixels.&lt;/p>
&lt;h4 id="flex-dimensions">Flex Dimensions
&lt;/h4>&lt;p>Use &lt;code>flex&lt;/code> in a component&amp;rsquo;s style to have the component expand and shrink dynamically based on available space. Normally you will use &lt;code>flex: 1&lt;/code>, which tells a component to fill all available space, shared evenly amongst other components with the same parent. The larger the &lt;code>flex&lt;/code> given, the higher the ratio of space a component will take compared to its siblings.&lt;/p>
&lt;blockquote>
&lt;p>A component can only expand to fill available space if its parent has dimensions greater than &lt;code>0&lt;/code>. If a parent does not have either a fixed &lt;code>width&lt;/code> and &lt;code>height&lt;/code> or &lt;code>flex&lt;/code>, the parent will have dimensions of &lt;code>0&lt;/code> and the &lt;code>flex&lt;/code> children will not be visible.&lt;/p>
&lt;/blockquote>
&lt;h4 id="percentage-dimensions">Percentage Dimensions
&lt;/h4>&lt;p>If you want to fill a certain portion of the screen, but you &lt;em>don&amp;rsquo;t&lt;/em> want to use the &lt;code>flex&lt;/code> layout, you &lt;em>can&lt;/em> use &lt;strong>percentage values&lt;/strong> in the component&amp;rsquo;s style. Similar to flex dimensions, percentage dimensions require parent with a defined size.&lt;/p>
&lt;h3 id="layout">Layout
&lt;/h3>&lt;p>You will normally use a combination of &lt;code>flexDirection&lt;/code>, &lt;code>alignItems&lt;/code>, and &lt;code>justifyContent&lt;/code> to achieve the right layout.&lt;/p>
&lt;h4 id="flexdirection">flexDirection
&lt;/h4>&lt;p>controls the direction in which the children of a node are laid out. This is also referred to as the main axis. The cross axis is the axis perpendicular to the main axis, or the axis which the wrapping lines are laid out in.&lt;/p>
&lt;ul>
&lt;li>column(default)&lt;/li>
&lt;li>row&lt;/li>
&lt;li>column-reverse&lt;/li>
&lt;li>row-reverse&lt;/li>
&lt;/ul>
&lt;h4 id="justifycontent">justifyContent
&lt;/h4>&lt;p>describes how to align children within the main axis of their container.&lt;/p>
&lt;ul>
&lt;li>flex-start(default)&lt;/li>
&lt;li>flex-end&lt;/li>
&lt;li>center&lt;/li>
&lt;li>space-between&lt;/li>
&lt;li>space-around&lt;/li>
&lt;li>space=evenly&lt;/li>
&lt;/ul>
&lt;h4 id="alignitems">alignItems
&lt;/h4>&lt;p>describes how to align children along the cross axis of their container. It is very similar to &lt;code>justifyContent&lt;/code> but instead of applying to the main axis, &lt;code>alignItems&lt;/code> applies to the cross axis.&lt;/p>
&lt;ul>
&lt;li>stretch (default):Stretch children of a container to match the &lt;code>height&lt;/code> of the container&amp;rsquo;s cross axis.&lt;/li>
&lt;li>flex-start&lt;/li>
&lt;li>flex-end&lt;/li>
&lt;li>center&lt;/li>
&lt;li>baseline:Align children of a container along a common baseline. Individual children can be set to be the reference baseline for their parents.&lt;/li>
&lt;/ul>
&lt;h4 id="alignself">alignSelf
&lt;/h4>&lt;p>has the same options and effect as &lt;code>alignItems&lt;/code> but instead of affecting the children within a container, you can apply this property to a single child to change its alignment within its parent. &lt;code>alignSelf&lt;/code> overrides any option set by the parent with &lt;code>alignItems&lt;/code>.&lt;/p>
&lt;blockquote>
&lt;p>The &lt;a class="link" href="https://reactnative.dev/docs/layout-props#flexwrap" target="_blank" rel="noopener"
>&lt;code>flexWrap&lt;/code>&lt;/a> property is set on containers and it controls what happens when children overflow the size of the container along the main axis. By default, children are forced into a single line (which can shrink elements). If wrapping is allowed, items are wrapped into multiple lines along the main axis if needed. When wrapping lines, &lt;code>alignContent&lt;/code> can be used to specify how the lines are placed in the container&lt;/p>
&lt;/blockquote>
&lt;h4 id="flex-basis-grow-and-shrink">Flex Basis, Grow, and Shrink
&lt;/h4>&lt;p>&lt;a class="link" href="https://reactnative.dev/docs/layout-props#flexbasis" target="_blank" rel="noopener"
>&lt;code>flexBasis&lt;/code>&lt;/a> is an axis-independent way of providing the default size of an item along the main axis.&lt;/p>
&lt;p>&lt;a class="link" href="https://reactnative.dev/docs/layout-props#flexgrow" target="_blank" rel="noopener"
>&lt;code>flexGrow&lt;/code>&lt;/a> describes how any space within a container should be distributed among its children along the main axis.&lt;/p>
&lt;p>&lt;a class="link" href="https://reactnative.dev/docs/layout-props#flexshrink" target="_blank" rel="noopener"
>&lt;code>flexShrink&lt;/code>&lt;/a> describes how to shrink children along the main axis in the case in which the total size of the children overflows the size of the container on the main axis.&lt;/p>
&lt;h3 id="image">Image
&lt;/h3>&lt;h4 id="static-image-resources">Static Image Resources
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Image&lt;/span> &lt;span class="na">source&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./img/check.png&amp;#39;&lt;/span>&lt;span class="p">)}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that image sources required this way include size (width, height) info for the Image. If you need to scale the image dynamically (i.e. via flex), you may need to manually set &lt;code>{ width: undefined, height: undefined }&lt;/code> on the style attribute.&lt;/p>
&lt;h4 id="network-images">Network Images
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Image&lt;/span> &lt;span class="na">source&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{{&lt;/span>&lt;span class="nx">uri&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://reactjs.org/logo-og.png&amp;#39;&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{{&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">height&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="background-image">Background Image
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ImageBackground&lt;/span> &lt;span class="na">source&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{...}&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{{&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;100%&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">height&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;100%&amp;#39;&lt;/span>&lt;span class="p">}}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Text&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Inside&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Text&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ImageBackground&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="handling-touches">Handling Touches
&lt;/h2>&lt;p>Users interact with mobile apps mainly through touch.&lt;/p>
&lt;p>&lt;a class="link" href="https://reactnative.dev/docs/button" target="_blank" rel="noopener"
>Button&lt;/a> provides a basic button component that is rendered nicely on all platforms.&lt;/p>
&lt;p>If the basic button doesn&amp;rsquo;t look right for your app, you can build your own button using any of the &amp;ldquo;Touchable&amp;rdquo; components provided by React Native.&lt;/p>
&lt;h2 id="navigation">Navigation
&lt;/h2>&lt;p>Mobile apps are rarely made up of a single screen. Managing the presentation of, and transition between, multiple screens is typically handled by what is known as a navigator.&lt;/p>
&lt;p>If you are getting started with navigation, you will probably want to use &lt;a class="link" href="https://reactnative.dev/docs/navigation#react-navigation" target="_blank" rel="noopener"
>React Navigation&lt;/a>.&lt;/p>
&lt;p>If you&amp;rsquo;re integrating React Native into an app that already manages navigation natively, or looking for an alternative to React Navigation, the following library provides native navigation on both platforms: &lt;a class="link" href="https://github.com/wix/react-native-navigation" target="_blank" rel="noopener"
>react-native-navigation&lt;/a>.&lt;/p>
&lt;h3 id="react-navigation">React Navigation
&lt;/h3>&lt;p>Now, you need to wrap the whole app in &lt;code>NavigationContainer&lt;/code>. Usually you&amp;rsquo;d do this in your entry file, such as &lt;code>index.js&lt;/code> or &lt;code>App.js&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">App&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NavigationContainer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="cm">/* Rest of your app code */&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NavigationContainer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="animation">Animation
&lt;/h2>&lt;p>React Native provides two complementary animation systems: &lt;a class="link" href="https://reactnative.dev/docs/animations#animated-api" target="_blank" rel="noopener"
>&lt;code>Animated&lt;/code>&lt;/a> for granular and interactive control of specific values, and &lt;a class="link" href="https://reactnative.dev/docs/animations#layoutanimation-api" target="_blank" rel="noopener"
>&lt;code>LayoutAnimation&lt;/code>&lt;/a> for animated global layout transactions.&lt;/p>
&lt;p>&lt;code>Animated&lt;/code> exports six animatable component types: &lt;code>View&lt;/code>, &lt;code>Text&lt;/code>, &lt;code>Image&lt;/code>, &lt;code>ScrollView&lt;/code>, &lt;code>FlatList&lt;/code> and &lt;code>SectionList&lt;/code>, but you can also create your own using &lt;code>Animated.createAnimatedComponent()&lt;/code>.&lt;/p></description></item><item><title>【Next】Knowledge</title><link>https://dyhes.github.io/p/nextknowledge/</link><pubDate>Wed, 26 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/nextknowledge/</guid><description>&lt;h2 id="fromsomeblog">fromSomeBlog
&lt;/h2>&lt;p>We create a dynamic URL by creating a dynamic page with the &lt;code>[]&lt;/code> syntax.&lt;/p>
&lt;p>How? We add a &lt;code>pages/blog/[id].js&lt;/code> file. This file will handle all the dynamic URLs under the &lt;code>/blog/&lt;/code> route&lt;/p>
&lt;p>The router is a library provided by Next.js.&lt;/p>
&lt;p>We import it from &lt;code>next/router&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useRouter&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;next/router&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>and once we have &lt;code>useRouter&lt;/code>, we instantiate the router object using:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRouter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Once we have this router object, we can extract information from it.&lt;/p>
&lt;p>In particular we can get the dynamic part of the URL in the &lt;code>[id].js&lt;/code> file by accessing &lt;code>router.query.id&lt;/code>.&lt;/p>
&lt;p>The dynamic part can also just be a portion of the URL, like &lt;code>post-[id].js&lt;/code>.&lt;/p>
&lt;p>So let&amp;rsquo;s go on and apply all those things in practice.&lt;/p>
&lt;p>Create the file &lt;code>pages/blog/[id].js&lt;/code>&lt;/p>
&lt;p>Create the file &lt;code>pages/blog/[id].js&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useRouter&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;next/router&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRouter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Blog&lt;/span> &lt;span class="nx">post&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Post&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="fromofficialwebsite">fromOfficialWebsite
&lt;/h2>&lt;h3 id="link">Link
&lt;/h3>&lt;p>If you need to link to an &lt;em>external&lt;/em> page outside the Next.js app, just use an &lt;code>&amp;lt;a&amp;gt;&lt;/code> tag without &lt;code>Link&lt;/code>.&lt;/p>
&lt;p>If you need to add attributes like, for example, &lt;code>className&lt;/code>, add it to the &lt;code>a&lt;/code> tag, &lt;em>not&lt;/em> to the &lt;code>Link&lt;/code> tag&lt;/p>
&lt;p>In Next.js, a &lt;strong>page&lt;/strong> is a &lt;a class="link" href="https://reactjs.org/docs/components-and-props.html" target="_blank" rel="noopener"
>React Component&lt;/a> exported from a &lt;code>.js&lt;/code>, &lt;code>.jsx&lt;/code>, &lt;code>.ts&lt;/code>, or &lt;code>.tsx&lt;/code> file in the &lt;code>pages&lt;/code> directory. Each page is associated with a route based on its file name.&lt;/p>
&lt;p>Next.js can serve &lt;strong>static assets&lt;/strong>, like images, under &lt;strong>the top-level &lt;a class="link" href="https://nextjs.org/docs/basic-features/static-file-serving" target="_blank" rel="noopener"
>&lt;code>public&lt;/code> directory&lt;/a>&lt;/strong>. Files inside &lt;code>public&lt;/code> can be referenced from the root of the application similar to &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages" target="_blank" rel="noopener"
>&lt;code>pages&lt;/code>&lt;/a>.&lt;/p>
&lt;h3 id="image">Image
&lt;/h3>&lt;p>Using primitive html image tag means you have to manually handle:&lt;/p>
&lt;ul>
&lt;li>Ensuring your image is responsive on different screen sizes&lt;/li>
&lt;li>Optimizing your images with a third-party tool or library&lt;/li>
&lt;li>Only loading images when they enter the viewport&lt;/li>
&lt;/ul>
&lt;p>And more. Instead, Next.js provides an &lt;code>Image&lt;/code> component out of the box to handle this for you.&lt;/p>
&lt;p>Images are lazy loaded by default. That means your page speed isn&amp;rsquo;t penalized for images outside the viewport. Images load as they are scrolled into viewport.&lt;/p>
&lt;p>(the url didn&amp;rsquo;t include public)&lt;/p>
&lt;h3 id="head">Head
&lt;/h3>&lt;p>In addition to metadata, scripts that need to load and execute as soon as possible are usually added within the &lt;code>&amp;lt;head&amp;gt;&lt;/code> of a page. Using a regular HTML &lt;code>&amp;lt;script&amp;gt;&lt;/code> element, an external script would be added as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>First Post&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://connect.facebook.net/en_US/sdk.js&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="script">Script
&lt;/h3>&lt;p>&lt;a class="link" href="https://nextjs.org/docs/api-reference/next/script" target="_blank" rel="noopener"
>&lt;code>next/script&lt;/code>&lt;/a> is an extension of the HTML &lt;code>&amp;lt;script&amp;gt;&lt;/code> element and optimizes when additional scripts are fetched and executed.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">FirstPost&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">First&lt;/span> &lt;span class="nx">Post&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Script&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://connect.facebook.net/en_US/sdk.js&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">strategy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;lazyOnload&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onLoad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`script loaded correctly, window.FB has been populated`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">First&lt;/span> &lt;span class="nx">Post&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Link&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Back&lt;/span> &lt;span class="nx">to&lt;/span> &lt;span class="nx">home&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Link&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Notice that a few additional properties have been defined in the Script component:&lt;/p>
&lt;ul>
&lt;li>&lt;code>strategy&lt;/code> controls when the third-party script should load. A value of &lt;code>lazyOnload&lt;/code> tells Next.js to load this particular script lazily during browser idle time&lt;/li>
&lt;li>&lt;code>onLoad&lt;/code> is used to run any JavaScript code immediately after the script has finished loading. In this example, we log a message to the console that mentions that the script has loaded correctly&lt;/li>
&lt;/ul>
&lt;h3 id="css-modules">CSS Modules
&lt;/h3>&lt;p>&lt;strong>Important:&lt;/strong> To use &lt;a class="link" href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css" target="_blank" rel="noopener"
>CSS Modules&lt;/a>, the CSS file name must end with &lt;code>.module.css&lt;/code>.&lt;/p>
&lt;p>This is what &lt;a class="link" href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css" target="_blank" rel="noopener"
>CSS Modules&lt;/a> does: &lt;em>It automatically generates unique class names&lt;/em>. As long as you use CSS Modules, you don’t have to worry about class name collisions.&lt;/p>
&lt;p>Furthermore, Next.js’s code splitting feature works on &lt;a class="link" href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css" target="_blank" rel="noopener"
>CSS Modules&lt;/a> as well. It ensures the minimal amount of CSS is loaded for each page. This results in smaller bundle sizes.&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css" target="_blank" rel="noopener"
>CSS Modules&lt;/a> are extracted from the JavaScript bundles at build time and generate &lt;code>.css&lt;/code> files that are loaded automatically by Next.js.&lt;/p>
&lt;h4 id="global-modules">Global Modules
&lt;/h4>&lt;p>&lt;a class="link" href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css" target="_blank" rel="noopener"
>CSS Modules&lt;/a> are useful for component-level styles. But if you want some CSS to be loaded by &lt;strong>every page&lt;/strong>, Next.js has support for that as well.&lt;/p>
&lt;p>To load &lt;a class="link" href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-a-global-stylesheet" target="_blank" rel="noopener"
>global CSS&lt;/a> files, &lt;strong>create a file called &lt;a class="link" href="https://nextjs.org/docs/advanced-features/custom-app" target="_blank" rel="noopener"
>&lt;code>pages/_app.js&lt;/code>&lt;/a>&lt;/strong> with the following content:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">App&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pageProps&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Component&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="na">...pageProps&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This &lt;code>App&lt;/code> component is the top-level component which will be common across all the different pages. You can use this &lt;code>App&lt;/code> component to keep state when navigating between pages&lt;/p>
&lt;p>&lt;strong>Important:&lt;/strong> You need to restart the development server when you add &lt;a class="link" href="https://nextjs.org/docs/advanced-features/custom-app" target="_blank" rel="noopener"
>&lt;code>pages/_app.js&lt;/code>&lt;/a>.&lt;/p>
&lt;p>In Next.js, you can add &lt;a class="link" href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-a-global-stylesheet" target="_blank" rel="noopener"
>global CSS&lt;/a> files by importing them from &lt;a class="link" href="https://nextjs.org/docs/advanced-features/custom-app" target="_blank" rel="noopener"
>&lt;code>pages/_app.js&lt;/code>&lt;/a>. You &lt;strong>cannot&lt;/strong> import global CSS anywhere else.&lt;/p>
&lt;p>The reason that &lt;a class="link" href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-a-global-stylesheet" target="_blank" rel="noopener"
>global CSS&lt;/a> can&amp;rsquo;t be imported outside of &lt;code>pages/_app.js&lt;/code> is that global CSS affects all elements on the page.&lt;/p>
&lt;p>You can place the global CSS file anywhere and use any name. So let’s do the following:&lt;/p>
&lt;ul>
&lt;li>Create a top-level &lt;code>styles&lt;/code> directory and create &lt;code>global.css&lt;/code> inside.&lt;/li>
&lt;/ul>
&lt;h2 id="pre-rendering">Pre-rendering
&lt;/h2>&lt;p>Next.js has two forms of pre-rendering: &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#static-generation-recommended" target="_blank" rel="noopener"
>&lt;strong>Static Generation&lt;/strong>&lt;/a> and &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#server-side-rendering" target="_blank" rel="noopener"
>&lt;strong>Server-side Rendering&lt;/strong>&lt;/a>. The difference is in &lt;strong>when&lt;/strong> it generates the HTML for a page.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#static-generation-recommended" target="_blank" rel="noopener"
>&lt;strong>Static Generation&lt;/strong>&lt;/a> is the pre-rendering method that generates the HTML at &lt;strong>build time&lt;/strong>. The pre-rendered HTML is then &lt;em>reused&lt;/em> on each request.&lt;/li>
&lt;li>&lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#server-side-rendering" target="_blank" rel="noopener"
>&lt;strong>Server-side Rendering&lt;/strong>&lt;/a> is the pre-rendering method that generates the HTML on &lt;strong>each request&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>In development mode (when you run &lt;code>npm run dev&lt;/code> or &lt;code>yarn dev&lt;/code>), every page is &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#pre-rendering" target="_blank" rel="noopener"
>pre-rendered&lt;/a> on each request — even for pages that use &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#static-generation-recommended" target="_blank" rel="noopener"
>Static Generation&lt;/a>.&lt;/p>
&lt;p>in Next.js, when you export a page component, you can also export an &lt;code>async&lt;/code> function called &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a>.&lt;/p>
&lt;h3 id="getstaticprops">getStaticProps
&lt;/h3>&lt;ul>
&lt;li>In &lt;strong>development&lt;/strong> (&lt;code>npm run dev&lt;/code> or &lt;code>yarn dev&lt;/code>), &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> runs on &lt;em>every request&lt;/em>.&lt;/li>
&lt;li>In &lt;strong>production&lt;/strong>, &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> runs at &lt;em>build time&lt;/em>. However, this behavior can be enhanced using the &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#the-fallback-key-required" target="_blank" rel="noopener"
>&lt;code>fallback&lt;/code> key&lt;/a> returned by &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticpaths-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticPaths&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>If you need to fetch data at &lt;strong>request time&lt;/strong> instead of at build time, you can try &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#server-side-rendering" target="_blank" rel="noopener"
>&lt;strong>Server-side Rendering&lt;/strong>&lt;/a>&lt;/p>
&lt;p>To use &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#server-side-rendering" target="_blank" rel="noopener"
>Server-side Rendering&lt;/a>, you need to export &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering" target="_blank" rel="noopener"
>&lt;code>getServerSideProps&lt;/code>&lt;/a> instead of &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> from your page.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">getServerSideProps&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// props for your component
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Because &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering" target="_blank" rel="noopener"
>&lt;code>getServerSideProps&lt;/code>&lt;/a> is called at request time, its parameter (&lt;code>context&lt;/code>) contains request specific parameters.&lt;/p>
&lt;p>You should use &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering" target="_blank" rel="noopener"
>&lt;code>getServerSideProps&lt;/code>&lt;/a> only if you need to pre-render a page whose data must be fetched at request time. Time to first byte (&lt;a class="link" href="https://web.dev/time-to-first-byte/" target="_blank" rel="noopener"
>TTFB&lt;/a>) will be slower than &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> because the server must compute the result on every request, and the result cannot be cached by a &lt;a class="link" href="https://vercel.com/docs/edge-network/overview" target="_blank" rel="noopener"
>CDN&lt;/a> without extra configuration.&lt;/p>
&lt;p>If you &lt;strong>do not&lt;/strong> need to pre-render the data, you can also use the following strategy (called &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#fetching-data-on-the-client-side" target="_blank" rel="noopener"
>&lt;strong>Client-side Rendering&lt;/strong>&lt;/a>):&lt;/p>
&lt;ul>
&lt;li>Statically generate (pre-render) parts of the page that do not require external data.&lt;/li>
&lt;li>When the page loads, fetch external data from the client using JavaScript and populate the remaining parts.&lt;/li>
&lt;/ul>
&lt;h3 id="pre-rendering-and-data-fetching">Pre-rendering and Data Fetching
&lt;/h3>&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching" target="_blank" rel="noopener"
>1&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching/setup" target="_blank" rel="noopener"
>2&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching/pre-rendering" target="_blank" rel="noopener"
>3&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching/two-forms" target="_blank" rel="noopener"
>4&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching/with-data" target="_blank" rel="noopener"
>5&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching/blog-data" target="_blank" rel="noopener"
>6&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching/implement-getstaticprops" target="_blank" rel="noopener"
>7&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching/getstaticprops-details" target="_blank" rel="noopener"
>8&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://nextjs.org/learn/basics/data-fetching/request-time" target="_blank" rel="noopener"
>9&lt;/a>&lt;/p>
&lt;h3 id="fetching-data-at-request-time">Fetching Data at Request Time
&lt;/h3>&lt;p>If you need to fetch data at &lt;strong>request time&lt;/strong> instead of at build time, you can try &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#server-side-rendering" target="_blank" rel="noopener"
>&lt;strong>Server-side Rendering&lt;/strong>&lt;/a>:&lt;/p>
&lt;p>&lt;img src="https://nextjs.org/static/images/learn/data-fetching/server-side-rendering-with-data.png"
loading="lazy"
alt="Server-side Rendering"
>&lt;/p>
&lt;p>To use &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#server-side-rendering" target="_blank" rel="noopener"
>Server-side Rendering&lt;/a>, you need to export &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering" target="_blank" rel="noopener"
>&lt;code>getServerSideProps&lt;/code>&lt;/a> instead of &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> from your page.&lt;/p>
&lt;h4 id="using-getserversideprops">Using &lt;code>getServerSideProps&lt;/code>
&lt;/h4>&lt;p>Here’s the starter code for &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering" target="_blank" rel="noopener"
>&lt;code>getServerSideProps&lt;/code>&lt;/a>. It’s not necessary for our blog example, so we won’t be implementing it.&lt;/p>
&lt;pre tabindex="0">&lt;code>export async function getServerSideProps(context) {
return {
props: {
// props for your component
}
}
}
&lt;/code>&lt;/pre>&lt;p>Because &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering" target="_blank" rel="noopener"
>&lt;code>getServerSideProps&lt;/code>&lt;/a> is called at request time, its parameter (&lt;code>context&lt;/code>) contains request specific parameters.&lt;/p>
&lt;p>You should use &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering" target="_blank" rel="noopener"
>&lt;code>getServerSideProps&lt;/code>&lt;/a> only if you need to pre-render a page whose data must be fetched at request time. Time to first byte (&lt;a class="link" href="https://web.dev/time-to-first-byte/" target="_blank" rel="noopener"
>TTFB&lt;/a>) will be slower than &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> because the server must compute the result on every request, and the result cannot be cached by a &lt;a class="link" href="https://vercel.com/docs/edge-network/overview" target="_blank" rel="noopener"
>CDN&lt;/a> without extra configuration.&lt;/p>
&lt;h4 id="client-side-rendering">Client-side Rendering
&lt;/h4>&lt;p>If you &lt;strong>do not&lt;/strong> need to pre-render the data, you can also use the following strategy (called &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#fetching-data-on-the-client-side" target="_blank" rel="noopener"
>&lt;strong>Client-side Rendering&lt;/strong>&lt;/a>):&lt;/p>
&lt;ul>
&lt;li>Statically generate (pre-render) parts of the page that do not require external data.&lt;/li>
&lt;li>When the page loads, fetch external data from the client using JavaScript and populate the remaining parts.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://nextjs.org/static/images/learn/data-fetching/client-side-rendering.png"
loading="lazy"
alt="Client-side Rendering"
>&lt;/p>
&lt;p>This approach works well for user dashboard pages, for example. Because a dashboard is a private, user-specific page, SEO is not relevant, and the page doesn’t need to be &lt;a class="link" href="https://nextjs.org/docs/basic-features/pages#pre-rendering" target="_blank" rel="noopener"
>pre-rendered&lt;/a>. The data is frequently updated, which requires request-time data fetching.&lt;/p>
&lt;h4 id="swr">SWR
&lt;/h4>&lt;p>The team behind Next.js has created a React hook for data fetching called &lt;a class="link" href="https://swr.vercel.app/" target="_blank" rel="noopener"
>&lt;strong>SWR&lt;/strong>&lt;/a>. We highly recommend it if you’re fetching data on the client side. It handles caching, revalidation, focus tracking, refetching on interval, and more. We won’t cover the details here, but here’s an example usage:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">useSWR&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;swr&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">Profile&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useSWR&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/user&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">failed&lt;/span> &lt;span class="nx">to&lt;/span> &lt;span class="nx">load&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">loading&lt;/span>&lt;span class="p">...&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">hello&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="catch-all-routes">Catch-all Routes
&lt;/h4>&lt;p>Dynamic routes can be extended to catch all paths by adding three dots (&lt;code>...&lt;/code>) inside the brackets.&lt;/p>
&lt;h3 id="api-routers">API routers
&lt;/h3>&lt;p>You should &lt;strong>not&lt;/strong> fetch an API Route from &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> or &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticpaths-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticPaths&lt;/code>&lt;/a>. Instead, write your server-side code directly in &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> or &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticpaths-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticPaths&lt;/code>&lt;/a> (or call a helper function).&lt;/p>
&lt;p>Here’s why: &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticProps&lt;/code>&lt;/a> and &lt;a class="link" href="https://nextjs.org/docs/basic-features/data-fetching#getstaticpaths-static-generation" target="_blank" rel="noopener"
>&lt;code>getStaticPaths&lt;/code>&lt;/a> runs only on the server-side. It will never be run on the client-side. It won’t even be included in the JS bundle for the browser. That means you can write code such as direct database queries without them being sent to browsers.&lt;/p>
&lt;p>A good use case for API Routes is handling form input. For example, you can create a form on your page and have it send a &lt;code>POST&lt;/code> request to your API Route. You can then write code to directly save it to your database. The API Route code will not be part of your client bundle, so you can safely write server-side code.&lt;/p>
&lt;h3 id="deploy-to-vercel">Deploy to Vercel
&lt;/h3>&lt;p>The easiest way to deploy Next.js to production is to use the &lt;strong>&lt;a class="link" href="https://vercel.com/" target="_blank" rel="noopener"
>Vercel&lt;/a>&lt;/strong> platform developed by the creators of Next.js.&lt;/p></description></item><item><title>【Node】Basics</title><link>https://dyhes.github.io/p/nodebasics/</link><pubDate>Sun, 16 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/nodebasics/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>Node.js is an open-source and cross-platform &lt;strong>JavaScript runtime environment.&lt;/strong>&lt;/p>
&lt;p>Node.js runs the &lt;strong>V8 JavaScript engine&lt;/strong>, the core of Google Chrome, outside of the browser.&lt;/p>
&lt;p>A Node.js app runs in a &lt;strong>single process&lt;/strong>, without creating a new thread for every request. Node.js provides a set of &lt;strong>asynchronous I/O&lt;/strong> primitives in its standard library that prevent JavaScript code from &lt;strong>blocking&lt;/strong> and generally, libraries in Node.js are written using &lt;strong>non-blocking paradigms&lt;/strong>, making blocking behavior the exception rather than the norm.&lt;/p>
&lt;p>When Node.js performs an I/O operation, like reading from the network, accessing a database or the filesystem, instead of blocking the thread and wasting CPU cycles waiting, Node.js will resume the operations when the response comes back.&lt;/p>
&lt;p>Node.js is a &lt;strong>low-level&lt;/strong> platform. In order to make things easy and exciting for developers, thousands of libraries were built upon Node.js by the community.&lt;/p>
&lt;p>Many of those established over time as popular options. Here is a non-comprehensive list of the ones worth learning:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Express&lt;/strong>: It provides one of the most &lt;strong>simple yet powerful&lt;/strong> ways to create a web server.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>koa&lt;/strong>: It is built by the same team behind Express, aims to be &lt;strong>even simpler and smaller&lt;/strong>,&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Egg.js&lt;/strong>: A framework to build &lt;strong>better enterprise frameworks and apps&lt;/strong> with Node.js &amp;amp; Koa.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Gatsby&lt;/strong>: A &lt;strong>React-based&lt;/strong>, &lt;strong>GraphQL-powered&lt;/strong>, &lt;strong>static site generator&lt;/strong> with a very rich ecosystem of plugins and starters.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Next.js&lt;/strong>: React framework that gives you the best developer experience with all the features you need for production: &lt;strong>hybrid static &amp;amp; server rendering, TypeScript support, smart bundling, route pre-fetching&lt;/strong>, and more.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="difference-to-browsers">Difference to Browsers
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>You can use &lt;strong>Babel&lt;/strong> to transform your code to be ES5-compatible before shipping it to the browser, but in Node.js, you won&amp;rsquo;t need that.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Another difference is that Node.js uses the &lt;strong>CommonJS module system&lt;/strong>, while in the browser we are starting to see the ES Modules standard being implemented. In practice, this means that for the time being you use &lt;code>require()&lt;/code> in Node.js and &lt;code>import&lt;/code> in the browser.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="v8-javascript-engine">V8 javascript engine
&lt;/h3>&lt;p>V8 is the name of the JavaScript engine that powers Google Chrome. V8 was chosen to be the engine that powered Node.js back in &lt;strong>2009&lt;/strong>. The Node.js ecosystem is huge and thanks to V8 which also powers desktop apps, with projects like Electron.&lt;/p>
&lt;p>V8 is written in &lt;strong>C++&lt;/strong>, and it&amp;rsquo;s continuously improved. It is portable and runs on Mac, Windows, Linux and several other systems.&lt;/p>
&lt;p>JavaScript is generally considered an interpreted language, but modern JavaScript engines no longer just interpret JavaScript, they &lt;strong>compile&lt;/strong> it. This has been happening since 2009, when the &lt;strong>SpiderMonkey JavaScript compiler&lt;/strong> was added to Firefox 3.5, and everyone followed this idea. JavaScript is internally compiled by V8 with &lt;strong>just-in-time&lt;/strong> (JIT) &lt;strong>compilation&lt;/strong> to speed up the execution.&lt;/p>
&lt;h2 id="run-and-exit">Run and Exit
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>RUN&lt;/p>
&lt;p>The usual way to run a Node.js program is to run the &lt;code>node&lt;/code> globally available command (once you install Node.js) and pass the name of the file you want to execute.&lt;/p>
&lt;p>to restart the application automatically, &lt;code>nodemon&lt;/code> module is used.&lt;/p>
&lt;p>Run the application using nodemon followed by application file name.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nodemon app.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>EXIT&lt;/p>
&lt;ul>
&lt;li>
&lt;p>When running a program in the console you can close it with &lt;code>ctrl-C&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The &lt;code>process&lt;/code> core module provides&lt;code>process.exit()&lt;/code> that allows you to programmatically exit from a Node.js program. When Node.js runs this line, the process is immediately forced to &lt;strong>terminate&lt;/strong>. This means that any callback that&amp;rsquo;s pending, any network request still being sent, any filesystem access, or processes writing to &lt;code>stdout&lt;/code> or &lt;code>stderr&lt;/code> - all is going to be &lt;strong>ungracefully&lt;/strong> terminated right away.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Note: &lt;code>process&lt;/code> does not require a &amp;ldquo;require&amp;rdquo;, it&amp;rsquo;s automatically available.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By default the exit code is &lt;code>0&lt;/code>, which means success. Different exit codes have different meaning, which you might want to use in your own system to have the program communicate to other programs.&lt;/p>
&lt;p>You can also set the &lt;code>process.exitCode&lt;/code> property&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exitCode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Many times with Node.js we start servers, like this HTTP server:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hi!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3000&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Server ready&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Express is a framework that uses the http module under the hood, app.listen() returns an instance of http. You would use https.createServer if you needed to serve your app using HTTPS, as app.listen only uses the http module.&lt;/p>
&lt;/blockquote>
&lt;p>This program is never going to end. If you call &lt;code>process.exit()&lt;/code>, any currently pending or running request is going to be aborted. This is &lt;em>&lt;strong>not nice&lt;/strong>&lt;/em>.&lt;/p>
&lt;p>In this case you need to send the command a SIGTERM signal, and handle that with the process signal handler:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hi!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3000&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Server ready&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;SIGTERM&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Process terminated&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>SIGKILL&lt;/code> is the signal that tells a process to immediately terminate, and would ideally act like &lt;code>process.exit()&lt;/code>.&lt;/p>
&lt;p>&lt;code>SIGTERM&lt;/code> is the signal that tells a process to &lt;strong>gracefully terminate&lt;/strong>. It is the signal that&amp;rsquo;s sent from process managers like &lt;code>upstart&lt;/code> or &lt;code>supervisord&lt;/code> and many others.&lt;/p>
&lt;p>You can send this signal from inside the program, in another function&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">kill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;SIGTERM&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Or from another Node.js running program, or any other app running in your system that knows the PID of the process you want to terminate.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="environment-variables">Environment variables
&lt;/h2>&lt;p>The &lt;code>process&lt;/code> core module of Node.js provides the &lt;code>env&lt;/code> property which hosts all the environment variables that were set at the moment the process was started.&lt;/p>
&lt;p>The below code runs &lt;code>app.js&lt;/code> and set &lt;code>USER_ID&lt;/code> and &lt;code>USER_KEY&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USER_ID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">239482&lt;/span> &lt;span class="nv">USER_KEY&lt;/span>&lt;span class="o">=&lt;/span>foobar node app.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>and you can access them like:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">USER_ID&lt;/span> &lt;span class="c1">// &amp;#34;239482&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">USER_KEY&lt;/span> &lt;span class="c1">// &amp;#34;foobar&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you have multiple environment variables in your node project, you can also create an &lt;code>.env&lt;/code> file in the root directory of your project, and then use the &lt;strong>dotenv package&lt;/strong> to load them during runtime.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dotenv&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>You can also run your js file with &lt;code>node -r dotenv/config index.js&lt;/code> command if you don&amp;rsquo;t want to import the package in your code.&lt;/p>
&lt;/blockquote>
&lt;h2 id="repl">REPL
&lt;/h2>&lt;p>If we run the &lt;code>node&lt;/code> command without any script to execute or without any arguments, we start a REPL session:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Note: REPL stands for Read Evaluate Print Loop, and it is a programming language environment (basically a console window) that takes single expression as user input and returns the result back to the console after execution. The REPL session provides a convenient way to quickly test simple JavaScript code.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>JavaScript objects&lt;/p>
&lt;p>Try entering the name of a JavaScript class, like &lt;code>Number&lt;/code>, add a dot and press &lt;code>tab&lt;/code>. The REPL will print all the properties and methods you can access on that class&lt;/p>
&lt;/li>
&lt;li>
&lt;p>global objects&lt;/p>
&lt;p>You can inspect the globals you have access to by typing &lt;code>global.&lt;/code> and pressing &lt;code>tab&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Special commands&lt;/p>
&lt;p>The REPL has some special commands, all starting with a dot &lt;code>.&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>&lt;code>.help&lt;/code>: shows the dot &lt;strong>commands help&lt;/strong>&lt;/li>
&lt;li>&lt;code>.editor&lt;/code>: enables &lt;strong>editor mode&lt;/strong>, to write multiline JavaScript code with ease. Once you are in this mode, enter &lt;strong>ctrl-D to run&lt;/strong> the code you wrote.&lt;/li>
&lt;li>&lt;code>.break&lt;/code>: when inputting a multi-line expression, entering the &lt;code>.break&lt;/code> command will abort further input. Same as pressing ctrl-C.&lt;/li>
&lt;li>&lt;code>.clear&lt;/code>: resets the REPL context to an &lt;strong>empty&lt;/strong> object and clears any multi-line expression currently being input.&lt;/li>
&lt;li>&lt;code>.load&lt;/code>: loads a JavaScript file, &lt;strong>relative&lt;/strong> to the current working directory&lt;/li>
&lt;li>&lt;code>.save&lt;/code>: saves all you entered in the REPL session to a file (specify the filename)&lt;/li>
&lt;li>&lt;code>.exit&lt;/code>: exits the repl (same as pressing ctrl-C two times)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="accept-argument">Accept argument
&lt;/h2>&lt;p>The way you retrieve accepted arguments is using the &lt;code>process&lt;/code> object built into Node.js.&lt;/p>
&lt;p>It exposes an &lt;code>argv&lt;/code> property, which is an &lt;strong>array&lt;/strong> that contains all the command line invocation arguments.&lt;/p>
&lt;p>The first element is the &lt;strong>full path&lt;/strong> &lt;strong>of the &lt;code>node&lt;/code> command&lt;/strong>.&lt;/p>
&lt;p>The second element is the &lt;strong>full path of the file&lt;/strong> being executed.&lt;/p>
&lt;p>All the additional arguments are present from the third position going forward.&lt;/p>
&lt;p>You can get only the additional arguments by creating a new array that excludes the first 2 params:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">args&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">argv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this case:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node app.js &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>joe
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>args[0]&lt;/code> is &lt;code>name=joe&lt;/code>, and you need to parse it. The best way to do so is by using the &lt;a class="link" href="https://www.npmjs.com/package/minimist" target="_blank" rel="noopener"
>&lt;code>minimist&lt;/code>&lt;/a> library, which helps dealing with arguments:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">args&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;minimist&amp;#39;&lt;/span>&lt;span class="p">)(&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">argv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">args&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">//joe
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="input">Input
&lt;/h2>&lt;p>Node.js since version 7 provides the &lt;a class="link" href="https://nodejs.org/api/readline.html" target="_blank" rel="noopener"
>&lt;code>readline&lt;/code> module&lt;/a> to perform exactly this: get input from a readable stream such as the &lt;code>process.stdin&lt;/code> stream, which during the execution of a Node.js program is the terminal input, one line at a time.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">readline&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;readline&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">createInterface&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">input&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stdin&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">output&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stdout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">readline&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">question&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`What&amp;#39;s your name?`&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`Hi &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">!`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">readline&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="output">Output
&lt;/h2>&lt;p>Node.js provides a &lt;a class="link" href="https://nodejs.org/api/console.html" target="_blank" rel="noopener"
>&lt;code>console&lt;/code> module&lt;/a> which provides tons of very useful ways to interact with the command line.&lt;/p>
&lt;p>It is basically the same as the &lt;code>console&lt;/code> object you find in the browser.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>console.log()&lt;/code>&lt;/p>
&lt;p>The most basic and most used method is &lt;code>console.log()&lt;/code>, which prints the string you pass to it to the console.&lt;/p>
&lt;p>If you pass an object, it will render it as a string.&lt;/p>
&lt;p>You can also pass multiple variables to &lt;code>console.log()&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>console.clear()&lt;/code>&lt;/p>
&lt;p>``console.clear()` clears the console (the behavior might depend on the console used)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>console.count()&lt;/code>&lt;/p>
&lt;p>What happens is that &lt;code>console.count()&lt;/code> will count the number of times a string is printed, and print the count next to it.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>console.countReset()&lt;/code>&lt;/p>
&lt;p>The &lt;code>console.countReset()&lt;/code> method resets counter used with &lt;code>console.count()&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>console.trace()&lt;/code>&lt;/p>
&lt;p>There might be cases where it&amp;rsquo;s useful to print the call stack trace of a function, maybe to answer the question how did you reach that part of the code&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">function2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trace&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">function1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">function2&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">function1&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>output:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Trace
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at function2 &lt;span class="o">(&lt;/span>repl:1:33&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at function1 &lt;span class="o">(&lt;/span>repl:1:25&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at repl:1:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at ContextifyScript.Script.runInThisContext &lt;span class="o">(&lt;/span>vm.js:44:33&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at REPLServer.defaultEval &lt;span class="o">(&lt;/span>repl.js:239:29&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at bound &lt;span class="o">(&lt;/span>domain.js:301:14&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at REPLServer.runBound &lt;span class="o">[&lt;/span>as eval&lt;span class="o">]&lt;/span> &lt;span class="o">(&lt;/span>domain.js:314:12&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at REPLServer.onLine &lt;span class="o">(&lt;/span>repl.js:440:10&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at emitOne &lt;span class="o">(&lt;/span>events.js:120:20&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at REPLServer.emit &lt;span class="o">(&lt;/span>events.js:210:7&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>&lt;code>console.time()&lt;/code> and &lt;code>console.timeEnd()&lt;/code>&lt;/p>
&lt;p>You can easily calculate how much time a function takes to run, using &lt;code>time()&lt;/code> and &lt;code>timeEnd()&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">doSomething&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">measureDoingSomething&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;doSomething()&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//do something, and measure the time it takes
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">doSomething&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">timeEnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;doSomething()&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">measureDoingSomething&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>&lt;code>console.error()&lt;/code>&lt;/p>
&lt;p>As we saw &lt;code>console.log&lt;/code> is great for printing messages in the Console. This is what&amp;rsquo;s called the standard output, or &lt;code>stdout&lt;/code>.&lt;/p>
&lt;p>&lt;code>console.error&lt;/code> prints to the &lt;code>stderr&lt;/code> stream. It will not appear in the console, but it will appear in the error log.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="colorful">Colorful
&lt;/h3>&lt;p>The simplest way to go about coloring the console output is by using a library. &lt;a class="link" href="https://github.com/chalk/chalk" target="_blank" rel="noopener"
>Chalk&lt;/a> is such a library, and in addition to coloring it also helps with other styling facilities, like making text bold, italic or underlined.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">chalk&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;chalk&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chalk&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">yellow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hi!&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="progress-bar">Progress bar
&lt;/h3>&lt;p>&lt;a class="link" href="https://www.npmjs.com/package/progress" target="_blank" rel="noopener"
>Progress&lt;/a> is an awesome package to create a progress bar in the console. Install it using &lt;code>npm install progress&lt;/code>&lt;/p>
&lt;p>This snippet creates a 10-step progress bar, and every 100ms one step is completed. When the bar completes we clear the interval:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">ProgressBar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;progress&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">bar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">ProgressBar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;:bar&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">total&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setInterval&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bar&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tick&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">bar&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">complete&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clearInterval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="export">Export
&lt;/h2>&lt;p>Node.js has a built-in module system. A Node.js file can import functionality exposed by other Node.js files.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">car&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">brand&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ford&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">model&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Fiesta&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">car&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">car&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./car&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">car&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">brand&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ford&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">model&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Fiesta&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">exports&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">car&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">car&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">exports&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">car&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">brand&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ford&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">model&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Fiesta&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">items&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./items&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">car&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">car&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">car&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./items&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">car&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">car&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./items&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The difference between &lt;code>module.exports&lt;/code> and &lt;code>exports&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>&lt;code>module.exports&lt;/code> : exposes &lt;strong>the object&lt;/strong> it points to.&lt;/li>
&lt;li>&lt;code>exports&lt;/code>: exposes &lt;em>&lt;strong>the properties&lt;/strong>&lt;/em> of the object it points to.&lt;/li>
&lt;/ul>
&lt;h2 id="production">Production
&lt;/h2>&lt;p>Node.js assumes it&amp;rsquo;s always running in a development environment. You can signal Node.js that you are running in production by setting the &lt;code>NODE_ENV=production&lt;/code> environment variable or:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">NODE_ENV&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">production&lt;/span> &lt;span class="nx">node&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">js&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="npm">&lt;strong>Npm&lt;/strong>
&lt;/h2>&lt;h3 id="install">Install
&lt;/h3>&lt;p>If a project has a &lt;code>package.json&lt;/code> file, by running&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>it will install everything the project needs, in the &lt;code>node_modules&lt;/code> folder, creating it if it&amp;rsquo;s not existing already.&lt;/p>
&lt;p>You can also install a specific package by running&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install &amp;lt;package-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Furthermore, since npm 5, this command adds &lt;code>&amp;lt;package-name&amp;gt;&lt;/code> to the &lt;code>package.json&lt;/code> file &lt;em>dependencies&lt;/em>. &lt;strong>Before version 5&lt;/strong>, you needed to add the flag &lt;code>--save&lt;/code>.&lt;/p>
&lt;p>Often you&amp;rsquo;ll see more &lt;strong>flags&lt;/strong> added to this command:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--save-dev&lt;/code> installs and adds the entry to the &lt;code>package.json&lt;/code> file &lt;em>devDependencies&lt;/em>&lt;/li>
&lt;li>&lt;code>--no-save&lt;/code> installs but does not add the entry to the &lt;code>package.json&lt;/code> file &lt;em>dependencies&lt;/em>&lt;/li>
&lt;li>&lt;code>--save-optional&lt;/code> installs and adds the entry to the &lt;code>package.json&lt;/code> file &lt;em>optionalDependencies&lt;/em>&lt;/li>
&lt;li>&lt;code>--no-optional&lt;/code> will prevent optional dependencies from being installed&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Shorthands&lt;/strong> of the flags can also be used:&lt;/p>
&lt;ul>
&lt;li>-S: &amp;ndash;save&lt;/li>
&lt;li>-D: &amp;ndash;save-dev&lt;/li>
&lt;li>-O: &amp;ndash;save-optional&lt;/li>
&lt;/ul>
&lt;p>The difference between &lt;em>devDependencies&lt;/em> and &lt;em>dependencies&lt;/em> is that the former contains development tools, like a testing library, while the latter is bundled with the app in production.&lt;/p>
&lt;p>As for the &lt;em>optionalDependencies&lt;/em> the difference is that build failure of the dependency will not cause installation to fail. But it is your program&amp;rsquo;s responsibility to handle the lack of the dependency.&lt;/p>
&lt;p>A global installation is performed using the &lt;code>-g&lt;/code> flag:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g lodash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can install an old version of an npm package using the &lt;code>@&lt;/code> syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install &amp;lt;package&amp;gt;@&amp;lt;version&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You might also be interested in listing all the previous versions of a package. You can do it with &lt;code>npm view &amp;lt;package&amp;gt; versions&lt;/code>&lt;/p>
&lt;p>When you install a package using &lt;code>npm install &amp;lt;packagename&amp;gt;&lt;/code>, the &lt;strong>latest available&lt;/strong> version of the package is downloaded and put in the &lt;code>node_modules&lt;/code> folder, and a corresponding entry is added to the &lt;code>package.json&lt;/code> and &lt;code>package-lock.json&lt;/code> files that are present in your current folder.&lt;/p>
&lt;h3 id="uninstall">Uninstall
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm uninstall &amp;lt;package-name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Using the &lt;code>-S&lt;/code> flag, or &lt;code>--save&lt;/code>, this operation will also remove the reference in the &lt;code>package.json&lt;/code> file.&lt;/p>
&lt;p>&lt;code>package.json&lt;/code> will be &lt;strong>automatically&lt;/strong> updated with devDependency and dependency once you uninstall npm package.&lt;/p>
&lt;p>If the package is installed &lt;strong>globally&lt;/strong>, you need to add the &lt;code>-g&lt;/code> / &lt;code>--global&lt;/code> flag:&lt;/p>
&lt;h3 id="update">Update
&lt;/h3>&lt;p>Updating is also made easy, by running&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">npm&lt;/span> &lt;span class="nx">update&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>npm&lt;/code> will check all packages for a newer version that satisfies your versioning constraints.&lt;/p>
&lt;p>You can specify a single package to update as well:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">npm update &amp;lt;package-name&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Since npm version 5.0.0, &lt;code>npm update&lt;/code> will update the &lt;code>package.json&lt;/code> with the updated version. Use &lt;code>npm update --no-save&lt;/code> to &lt;strong>not update&lt;/strong> &lt;code>package.json&lt;/code>.&lt;/p>
&lt;p>To discover new releases of the packages, you run &lt;code>npm outdated&lt;/code>.&lt;/p>
&lt;p>Some of those updates are major releases. Running &lt;code>npm update&lt;/code> won&amp;rsquo;t update the version of those. Major releases are never updated in this way because they (by definition) introduce breaking changes, and &lt;code>npm&lt;/code> wants to save you trouble.&lt;/p>
&lt;p>To update all packages to a new major version, install the &lt;code>npm-check-updates&lt;/code> package globally:&lt;/p>
&lt;p>then run :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ncu -u
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="script">Script
&lt;/h3>&lt;p>The &lt;code>package.json&lt;/code> file supports a format for specifying command line tasks that can be run by using&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="err">npm&lt;/span> &lt;span class="err">run&lt;/span> &lt;span class="err">&amp;lt;task-name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;start-dev&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;node lib/server-development&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;start&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;node lib/server-production&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>npm root -g&lt;/code> command will tell you where that global installation location is on your machine.&lt;/p>
&lt;h3 id="packagejson">&lt;code>Package.json&lt;/code>
&lt;/h3>&lt;p>The &lt;code>package.json&lt;/code> file is kind of a &lt;strong>manifest&lt;/strong> for your project. It can do a lot of things, completely unrelated. It&amp;rsquo;s a central repository of configuration for tools, for example. It&amp;rsquo;s also where &lt;code>npm&lt;/code> and &lt;code>yarn&lt;/code> store the names and versions for all the installed packages.&lt;/p>
&lt;p>There are no fixed requirements of what should be in a &lt;code>package.json&lt;/code> file, for an application. The only requirement is that it &lt;strong>respects the JSON format&lt;/strong>, otherwise it cannot be read by programs that try to access its properties programmatically.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>main&lt;/p>
&lt;p>Sets the &lt;strong>entry point&lt;/strong> for the package. When you import this package in an application, that&amp;rsquo;s where the application will search for the module exports.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>private&lt;/p>
&lt;p>if set to &lt;code>true&lt;/code> prevents the app/package to be accidentally published on &lt;code>npm&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>engines&lt;/p>
&lt;p>Sets which &lt;strong>versions of Node.js and other commands&lt;/strong> this package/app work on&lt;/p>
&lt;/li>
&lt;li>
&lt;p>browserslist&lt;/p>
&lt;p>Is used to tell &lt;strong>which browsers (and their versions)&lt;/strong> you want to support. It&amp;rsquo;s referenced by Babel, Autoprefixer, and other tools, to only add the polyfills and fallbacks needed to the browsers you target.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="package-lockjson">&lt;code>package-lock.json&lt;/code>
&lt;/h3>&lt;p>The goal of &lt;code>package-lock.json&lt;/code> file is to keep track of the &lt;strong>exact version&lt;/strong> of every package that is installed so that a product is 100% reproducible in the same way even if packages are updated by their maintainers.&lt;/p>
&lt;p>You don&amp;rsquo;t commit to Git your node_modules folder, which is generally huge, and when you try to replicate the project on another machine by using the &lt;code>npm install&lt;/code> command, if you specified the &lt;code>~&lt;/code> syntax and a patch release of a package has been released, that one is going to be installed. Same for &lt;code>^&lt;/code> and minor releases.&lt;/p>
&lt;p>The &lt;code>package-lock.json&lt;/code> sets your currently installed version of each package &lt;strong>in stone&lt;/strong>, and &lt;code>npm&lt;/code> will use those exact versions when running &lt;code>npm ci&lt;/code>.&lt;/p>
&lt;p>The dependencies versions &lt;strong>will be updated&lt;/strong> in the &lt;code>package-lock.json&lt;/code> file when you run &lt;code>npm update&lt;/code>.&lt;/p>
&lt;h3 id="semantic-version">Semantic Version
&lt;/h3>&lt;p>The Semantic Versioning concept is simple: all versions have 3 digits: &lt;code>x.y.z&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>the first digit is the &lt;strong>major&lt;/strong> version&lt;/li>
&lt;li>the second digit is the &lt;strong>minor&lt;/strong> version&lt;/li>
&lt;li>the third digit is the &lt;strong>patch&lt;/strong> version&lt;/li>
&lt;/ul>
&lt;p>The rules use those symbols:&lt;/p>
&lt;ul>
&lt;li>&lt;code>^&lt;/code>: It will only do updates that &lt;strong>do not change the leftmost non-zero number&lt;/strong> i.e there can be changes in minor version or patch version but not in major version. If you write &lt;code>^13.1.0&lt;/code>, when running &lt;code>npm update&lt;/code>, it can update to &lt;code>13.2.0&lt;/code>, &lt;code>13.3.0&lt;/code> even &lt;code>13.3.1&lt;/code>, &lt;code>13.3.2&lt;/code> and so on, but not to &lt;code>14.0.0&lt;/code> or above.&lt;/li>
&lt;li>&lt;code>~&lt;/code>: if you write &lt;code>~0.13.0&lt;/code> when running &lt;code>npm update&lt;/code> it can update to patch releases: &lt;code>0.13.1&lt;/code> is ok, but &lt;code>0.14.0&lt;/code> is not.&lt;/li>
&lt;li>&lt;code>&amp;gt;&lt;/code>: you accept any version higher than the one you specify&lt;/li>
&lt;li>&lt;code>&amp;gt;=&lt;/code>: you accept any version equal to or higher than the one you specify&lt;/li>
&lt;li>&lt;code>&amp;lt;=&lt;/code>: you accept any version equal or lower to the one you specify&lt;/li>
&lt;li>&lt;code>&amp;lt;&lt;/code>: you accept any version lower than the one you specify&lt;/li>
&lt;li>&lt;code>=&lt;/code>: you accept that exact version&lt;/li>
&lt;li>&lt;code>-&lt;/code>: you accept a &lt;strong>range&lt;/strong> of versions. Example: &lt;code>2.1.0 - 2.6.2&lt;/code>&lt;/li>
&lt;li>&lt;code>||&lt;/code>: you combine &lt;strong>sets&lt;/strong>. Example: &lt;code>&amp;lt; 2.1 || &amp;gt; 2.6&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>There are other rules too:&lt;/p>
&lt;ul>
&lt;li>no symbol: you accept only that specific version you specify (&lt;code>1.2.1&lt;/code>)&lt;/li>
&lt;li>&lt;code>latest&lt;/code>: you want to use the latest version available&lt;/li>
&lt;/ul>
&lt;h3 id="scope">Scope
&lt;/h3>&lt;p>In your code you can only require &lt;strong>local&lt;/strong> packages:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;package-name&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In general, &lt;strong>all packages should be installed locally&lt;/strong>. This makes sure you can have dozens of applications in your computer, all running a different version of each package if needed. A package &lt;strong>should be installed globally&lt;/strong> when it provides an executable command that you run from the &lt;strong>shell&lt;/strong> (CLI), and it&amp;rsquo;s reused across projects.&lt;/p>
&lt;p>Great examples of popular global packages which you might know are&lt;/p>
&lt;ul>
&lt;li>&lt;code>npm&lt;/code>&lt;/li>
&lt;li>&lt;code>vue-cli&lt;/code>&lt;/li>
&lt;li>&lt;code>grunt-cli&lt;/code>&lt;/li>
&lt;li>&lt;code>mocha&lt;/code>&lt;/li>
&lt;li>&lt;code>react-native-cli&lt;/code>&lt;/li>
&lt;li>&lt;code>gatsby-cli&lt;/code>&lt;/li>
&lt;li>&lt;code>forever&lt;/code>&lt;/li>
&lt;li>&lt;code>nodemon&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="npx">NPX
&lt;/h3>&lt;p>&lt;code>npx&lt;/code> is a very powerful command that&amp;rsquo;s been available in &lt;strong>npm&lt;/strong> starting version 5.2, released in July 2017.&lt;/p>
&lt;p>&lt;code>npx&lt;/code> lets you run code built with Node.js and published through the npm registry.&lt;/p>
&lt;p>Running &lt;code>npx commandname&lt;/code> automatically finds the correct reference of the command inside the &lt;code>node_modules&lt;/code> folder of a project, without needing to know the exact path, and without requiring the package to be installed globally and in the user&amp;rsquo;s path.&lt;/p>
&lt;h2 id="event">Event
&lt;/h2>&lt;p>On the backend side, Node.js offers us the option to build a similar system using the &lt;a class="link" href="https://nodejs.org/api/events.html" target="_blank" rel="noopener"
>&lt;code>events&lt;/code> module&lt;/a>.&lt;/p>
&lt;p>This module, in particular, offers the &lt;code>EventEmitter&lt;/code> class, which we&amp;rsquo;ll use to handle our events.&lt;/p>
&lt;p>You initialize that using&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">EventEmitter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;events&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">eventEmitter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">EventEmitter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This object exposes, among many others, the &lt;code>on&lt;/code> and &lt;code>emit&lt;/code> methods.&lt;/p>
&lt;ul>
&lt;li>&lt;code>emit&lt;/code> is used to trigger an event&lt;/li>
&lt;li>&lt;code>on&lt;/code> is used to add a callback function that&amp;rsquo;s going to be executed when the event is triggered&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">eventEmitter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;start&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;started&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>when we run&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">eventEmitter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;start&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>the event handler function is triggered, and we get the console log.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">eventEmitter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;start&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">end&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`started from &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">start&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> to &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">eventEmitter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;start&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The EventEmitter object also exposes several other methods to interact with events, like&lt;/p>
&lt;ul>
&lt;li>&lt;code>once()&lt;/code>: add a one-time listener&lt;/li>
&lt;li>&lt;code>removeListener()&lt;/code> / &lt;code>off()&lt;/code>: remove an event listener from an event&lt;/li>
&lt;li>&lt;code>removeAllListeners()&lt;/code>: remove all listeners for an event&lt;/li>
&lt;/ul>
&lt;h2 id="event-loop">Event Loop
&lt;/h2>&lt;p>The Node.js JavaScript code runs on a single thread. There is just one thing happening at a time.&lt;/p>
&lt;p>This is a limitation that&amp;rsquo;s actually very helpful, as it simplifies a lot how you program without worrying about concurrency issues.&lt;/p>
&lt;p>You mainly need to be concerned that &lt;em>your code&lt;/em> will run on a &lt;strong>single event loop&lt;/strong>, and write code with this thing in mind to avoid blocking it.&lt;/p>
&lt;p>Almost all the I/O primitives in JavaScript are non-blocking. Network requests, filesystem operations, and so on. Being blocking is the exception, and this is why JavaScript is based so much on &lt;strong>callbacks&lt;/strong>, and more recently on &lt;strong>promises&lt;/strong> and &lt;strong>async/await&lt;/strong>.&lt;/p>
&lt;h3 id="call-stack">Call Stack
&lt;/h3>&lt;p>The event loop continuously checks the &lt;strong>call stack&lt;/strong> to see if there&amp;rsquo;s any function that needs to run.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">bar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">baz&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;baz&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">foo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">bar&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">baz&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">foo&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//output
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">foo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">baz&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">bar&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220130164512101.png"
loading="lazy"
alt="image-20220130164512101"
>&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220130171105441.png"
loading="lazy"
alt="image-20220130171105441"
>&lt;/p>
&lt;h3 id="the-message-queue">The Message Queue
&lt;/h3>&lt;p>When &lt;code>setTimeout()&lt;/code> is called, the Browser or Node.js starts the timer. Once the timer expires, in this case immediately as we put 0 as the timeout, the callback function is put in the &lt;strong>Message Queue&lt;/strong>.&lt;/p>
&lt;p>The Message Queue is also where user-initiated events like click or keyboard events, or fetch responses are queued before your code has the opportunity to react to them. Or also DOM events like &lt;code>onload&lt;/code>.&lt;/p>
&lt;p>&lt;strong>The loop gives priority to the call stack, and it first processes everything it finds in the call stack, and once there&amp;rsquo;s nothing in there, it goes to pick up things in the message queue.&lt;/strong>&lt;/p>
&lt;p>We don&amp;rsquo;t have to wait for functions like &lt;code>setTimeout&lt;/code>, fetch or other things to do their own work, because they are provided by the browser, and they live on their own threads. For example, if you set the &lt;code>setTimeout&lt;/code> timeout to 2 seconds, you don&amp;rsquo;t have to wait 2 seconds - the wait &lt;strong>happens elsewhere&lt;/strong>.&lt;/p>
&lt;h3 id="es6-job-queue">ES6 Job Queue
&lt;/h3>&lt;p>ECMAScript 2015 introduced the concept of the &lt;strong>Job Queue&lt;/strong>, which is used by B (also introduced in ES6/ES2015). It&amp;rsquo;s a way to execute the result of an &lt;strong>async&lt;/strong> function as soon as possible, rather than being put at the end of the call stack.&lt;/p>
&lt;p>Promises that resolve before the current function ends will be executed right after the current function.&lt;/p>
&lt;h3 id="processnexttick">&lt;code>process.nextTick()&lt;/code>
&lt;/h3>&lt;p>As you try to understand the Node.js event loop, one important part of it is &lt;code>process.nextTick()&lt;/code>. Every time the event loop takes &lt;strong>a full trip&lt;/strong>, we call it a &lt;strong>tick&lt;/strong>. When we pass a function to &lt;code>process.nextTick()&lt;/code>, we instruct the engine to invoke this function at the end of the current operation, &lt;strong>before&lt;/strong> the next event loop tick starts. Calling &lt;code>setTimeout(() =&amp;gt; {}, 0)&lt;/code> will execute the function &lt;strong>at the end of next tick&lt;/strong>, much later than when using &lt;code>nextTick()&lt;/code> which prioritizes the call and executes it just &lt;strong>before the beginning&lt;/strong> of the next tick. Use &lt;code>nextTick()&lt;/code> when you want to make sure that in the next event loop iteration that code is &lt;strong>already executed&lt;/strong>.&lt;/p>
&lt;h3 id="setimmediate">&lt;code>setImmediate()&lt;/code>
&lt;/h3>&lt;p>When you want to execute some piece of code &lt;strong>asynchronously&lt;/strong>, but &lt;strong>as soon as possible&lt;/strong>, one option is to use the &lt;code>setImmediate()&lt;/code> function. Any function passed as the &lt;code>setImmediate()&lt;/code> argument is a &lt;strong>callback&lt;/strong> that&amp;rsquo;s executed &lt;strong>in the&lt;/strong> &lt;strong>next iteration of the event loop&lt;/strong>.&lt;/p>
&lt;p>The differences between &lt;code>setImmediate()&lt;/code> , &lt;code>setTimeout(() =&amp;gt; {}, 0)&lt;/code> , and &lt;code>process.nextTick()&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>A function passed to &lt;code>process.nextTick()&lt;/code> is going to be executed on the current iteration of the event loop, after the current operation ends. This means it will always execute before &lt;code>setTimeout&lt;/code> and &lt;code>setImmediate&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A &lt;code>setTimeout()&lt;/code> callback with a 0ms delay is very similar to &lt;code>setImmediate()&lt;/code>. The execution order will depend on various factors, but they will be &lt;strong>both run in the next iteration of the event loop&lt;/strong>. If you specify the timeout delay to &lt;code>0&lt;/code>, the callback function will be executed as soon as possible, but after the current function execution. This is called &lt;strong>zero delay&lt;/strong>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="asynchronicity">Asynchronicity
&lt;/h2>&lt;p>Computers are asynchronous by design. Asynchronous means that things can happen &lt;strong>independently&lt;/strong> of the main program flow. In the current consumer computers, every program runs for a specific time slot and then it stops its execution to let another program continue their execution. This thing runs in a cycle so fast that it&amp;rsquo;s impossible to notice. We think our computers run many programs simultaneously, but this is an illusion (except on multiprocessor machines). JavaScript is &lt;strong>synchronous&lt;/strong> by default and is single threaded. This means that code cannot create new threads and run in parallel. Lines of code are executed in series, one after another.&lt;/p>
&lt;h3 id="promise">Promise
&lt;/h3>&lt;p>A promise is commonly defined as &lt;strong>a proxy for a value that will eventually become available&lt;/strong>. Promises are one way to deal with asynchronous code, without getting stuck in &lt;strong>callback hell&lt;/strong>. Promises have been part of the language for years (standardized and introduced in ES2015), and have recently become more integrated, with &lt;strong>async&lt;/strong> and &lt;strong>await&lt;/strong> in ES2017.&lt;/p>
&lt;p>&lt;strong>Async functions&lt;/strong> use promises &lt;strong>behind the scenes&lt;/strong>, so understanding how promises work is fundamental to understanding how &lt;code>async&lt;/code> and &lt;code>await&lt;/code> work.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">done&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isItDoneYet&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">done&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">workDone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Here is the thing I built&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">workDone&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">why&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Still working on something else&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">why&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="async-and--await">Async and Await
&lt;/h3>&lt;p>Async functions are a combination of promises and generators, and basically, they are a higher level abstraction over promises. Let me repeat: &lt;strong>async/await is built on promises&lt;/strong>. An async function &lt;strong>returns a promise&lt;/strong>. When you want to &lt;strong>call&lt;/strong> this function you prepend &lt;code>await&lt;/code>, and &lt;strong>the calling code will stop until the promise is resolved or rejected&lt;/strong>. One caveat: the client function must be defined as &lt;code>async&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">doSomethingAsync&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;I did something&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">doSomething&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">doSomethingAsync&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Before&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">doSomething&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;After&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="file-and-folder">File and Folder
&lt;/h2>&lt;h3 id="file-descriptor">File Descriptor
&lt;/h3>&lt;p>A file descriptor is &lt;strong>a reference to an open file&lt;/strong>, a &lt;strong>number&lt;/strong> (fd) returned by opening the file using the &lt;code>open()&lt;/code> method offered by the &lt;code>fs&lt;/code> module. This number (&lt;code>fd&lt;/code>) uniquely identifies an open file in operating system&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fd&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//fd is our file descriptor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Other flags you&amp;rsquo;ll commonly use are:&lt;/p>
&lt;ul>
&lt;li>&lt;code>r+&lt;/code> open the file for &lt;strong>reading and writing&lt;/strong>, if file doesn&amp;rsquo;t exist it &lt;strong>won&amp;rsquo;t be created&lt;/strong>.&lt;/li>
&lt;li>&lt;code>w+&lt;/code> open the file for &lt;strong>reading and writing&lt;/strong>, positioning the stream at the &lt;strong>beginning&lt;/strong> of the file. The file is &lt;strong>created&lt;/strong> &lt;strong>if not existing.&lt;/strong>&lt;/li>
&lt;li>&lt;code>a&lt;/code> open the file for &lt;strong>writing&lt;/strong>, positioning the stream at the &lt;strong>end&lt;/strong> of the file. The file is &lt;strong>created if not existing&lt;/strong>.&lt;/li>
&lt;li>&lt;code>a+&lt;/code> open the file for &lt;strong>reading and writing&lt;/strong>, positioning the stream at the &lt;strong>end&lt;/strong> of the file. The file is created if not existing.&lt;/li>
&lt;/ul>
&lt;p>You can also open the file by using the &lt;code>fs.openSync&lt;/code> method, which returns the file descriptor, instead of providing it in a callback:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">fd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">openSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="stats">Stats
&lt;/h3>&lt;p>The file information is included in the stats variable. We can obtain information about the file by:&lt;/p>
&lt;ul>
&lt;li>if the file is a &lt;strong>directory&lt;/strong> or a file, using &lt;code>stats.isFile()&lt;/code> and &lt;code>stats.isDirectory()&lt;/code>&lt;/li>
&lt;li>if the file is a &lt;strong>symbolic link&lt;/strong> using &lt;code>stats.isSymbolicLink()&lt;/code>&lt;/li>
&lt;li>the file &lt;strong>size in bytes&lt;/strong> using &lt;code>stats.size&lt;/code>.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">stats&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//we have access to the file stats in `stats`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//sync
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">stats&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">statSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="path">Path
&lt;/h3>&lt;p>Given a path, you can extract information out of it using those methods:&lt;/p>
&lt;ul>
&lt;li>&lt;code>dirname&lt;/code>: get the parent folder of a file&lt;/li>
&lt;li>&lt;code>basename&lt;/code>: get the filename part&lt;/li>
&lt;li>&lt;code>extname&lt;/code>: get the file extension&lt;/li>
&lt;/ul>
&lt;p>You can get the absolute path calculation of a relative path using &lt;code>path.resolve()&lt;/code>, &lt;code>path.normalize()&lt;/code> is another useful function that will try and calculate the actual path, when it contains relative specifiers like &lt;code>.&lt;/code> or &lt;code>..&lt;/code>, or double slashes. &lt;strong>Neither resolve nor normalize will check if the path exists&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;path&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">notes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/users/joe/notes.txt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">dirname&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">notes&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// /users/joe
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">basename&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">notes&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// notes.txt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">extname&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">notes&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// .txt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;joe&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;users&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;notes.txt&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//&amp;#39;/users/joe/notes.txt&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;joe.txt&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//&amp;#39;/Users/joe/joe.txt&amp;#39; if run from my home folder
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">normalize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/users/joe/..//test.txt&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//&amp;#39;/users/test.txt&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="read">Read
&lt;/h3>&lt;p>The simplest way to read a file in Node.js is to use the &lt;code>fs.readFile()&lt;/code> method, passing it the file path, encoding and a callback function that will be called with the file data (and the error).&lt;/p>
&lt;p>Alternatively, you can use the synchronous version &lt;code>fs.readFileSync()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">readFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;utf8&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//sync
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">readFileSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;utf8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Both &lt;code>fs.readFile()&lt;/code> and &lt;code>fs.readFileSync()&lt;/code> read the full content of the file in memory before returning the data.&lt;/p>
&lt;p>This means that big files are going to have a major impact on your memory consumption and speed of execution of the program.&lt;/p>
&lt;p>In this case, a better option is to read the file content using streams.&lt;/p>
&lt;h3 id="write">Write
&lt;/h3>&lt;p>The easiest way to write to files in Node.js is to use the &lt;code>fs.writeFile()&lt;/code> API.&lt;/p>
&lt;p>Alternatively, you can use the synchronous version &lt;code>fs.writeFileSync()&lt;/code>。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Some content!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">writeFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//file written successfully
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//sync
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Some content!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">writeFileSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//file written successfully
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By default, this API will &lt;strong>replace the contents of the file&lt;/strong> if it does already exist.&lt;/p>
&lt;p>You can modify the default by specifying a flag:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">writeFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/Users/joe/test.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">flag&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;a+&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The flags you&amp;rsquo;ll likely use are&lt;/p>
&lt;ul>
&lt;li>&lt;code>r+&lt;/code> open the file for reading and writing&lt;/li>
&lt;li>&lt;code>w+&lt;/code> open the file for reading and writing, positioning the stream at the beginning of the file. The file is created if it does not exist&lt;/li>
&lt;li>&lt;code>a&lt;/code> open the file for writing, positioning the stream at the end of the file. The file is created if it does not exist&lt;/li>
&lt;li>&lt;code>a+&lt;/code> open the file for reading and writing, positioning the stream at the end of the file. The file is created if it does not exist&lt;/li>
&lt;/ul>
&lt;h3 id="append">Append
&lt;/h3>&lt;p>The easiest way to append content to files in Node.js is to use the &lt;code>fs.appendFile()&lt;/code> API.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Some content!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">appendFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;file.log&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//done!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="folders">Folders
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Use &lt;code>fs.access()&lt;/code> to check if the folder exists and Node.js can access it with its permissions.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use &lt;code>fs.mkdir()&lt;/code> or &lt;code>fs.mkdirSync()&lt;/code> to create a new folder.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">folderName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/Users/joe/test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">existsSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">folderName&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mkdirSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">folderName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>Use &lt;code>fs.readdir()&lt;/code> or &lt;code>fs.readdirSync()&lt;/code> to read the contents of a directory.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use &lt;code>fs.rename()&lt;/code> or &lt;code>fs.renameSync()&lt;/code> to rename folder.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Use &lt;code>fs.rmdir()&lt;/code> or &lt;code>fs.rmdirSync()&lt;/code> to remove a folder.&lt;/p>
&lt;p>Removing a folder that has content can be more complicated than you need. You can pass the option &lt;code>{ recursive: true }&lt;/code> to recursively remove the contents&lt;/p>
&lt;p>&lt;strong>NOTE:&lt;/strong> &lt;em>In Node&lt;/em> &lt;code>v16.x&lt;/code> &lt;em>the option&lt;/em> &lt;code>recursive&lt;/code> &lt;em>is&lt;/em> &lt;strong>deprecated&lt;/strong> &lt;em>for&lt;/em> &lt;code>fs.rmdir&lt;/code> &lt;em>of callback API, instead use&lt;/em> &lt;code>fs.rm&lt;/code> &lt;em>to delete folders that have content in them&lt;/em>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">rm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dir&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">recursive&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">force&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">dir&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> is deleted!`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="buffer-and-stream">Buffer and Stream
&lt;/h2>&lt;h3 id="buffer">Buffer
&lt;/h3>&lt;p>A buffer is &lt;strong>an area of memory&lt;/strong>. It represents &lt;strong>a fixed-size chunk&lt;/strong> of memory (can&amp;rsquo;t be resized) allocated &lt;strong>outside&lt;/strong> of the V8 JavaScript engine. You can think of a buffer like an array of integers, which each represent a byte of data.&lt;/p>
&lt;p>A buffer is created using the &lt;a class="link" href="https://nodejs.org/api/buffer.html#buffer_buffer_from_buffer_alloc_and_buffer_allocunsafe" target="_blank" rel="noopener"
>&lt;code>Buffer.from()&lt;/code>&lt;/a>, &lt;a class="link" href="https://nodejs.org/api/buffer.html#buffer_class_method_buffer_alloc_size_fill_encoding" target="_blank" rel="noopener"
>&lt;code>Buffer.alloc()&lt;/code>&lt;/a>, and &lt;a class="link" href="https://nodejs.org/api/buffer.html#buffer_class_method_buffer_allocunsafe_size" target="_blank" rel="noopener"
>&lt;code>Buffer.allocUnsafe()&lt;/code>&lt;/a> methods.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_array" target="_blank" rel="noopener"
>&lt;code>Buffer.from(array)&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_arraybuffer_byteoffset_length" target="_blank" rel="noopener"
>&lt;code>Buffer.from(arrayBuffer[, byteOffset[, length\]])&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_buffer" target="_blank" rel="noopener"
>&lt;code>Buffer.from(buffer)&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_string_encoding" target="_blank" rel="noopener"
>&lt;code>Buffer.from(string[, encoding\])&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">buf&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hey!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">buf&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">alloc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">buf&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">allocUnsafe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="stream">Stream
&lt;/h3>&lt;p>Streams are a way to handle reading/writing files, network communications, or any kind of end-to-end information exchange in an efficient way. The Node.js &lt;a class="link" href="https://nodejs.org/api/stream.html" target="_blank" rel="noopener"
>&lt;code>stream&lt;/code> module&lt;/a> provides the foundation upon which all streaming APIs are built. &lt;strong>All streams are instances of EventEmitter&lt;/strong>.&lt;/p>
&lt;p>Streams basically provide two major advantages over using other data handling methods:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Memory efficiency&lt;/strong>: you don&amp;rsquo;t need to load large amounts of data in memory before you are able to process it&lt;/li>
&lt;li>&lt;strong>Time efficiency&lt;/strong>: it takes way less time to start processing data, since you can start processing as soon as you have it, rather than waiting till the whole data payload is available&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">http&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;http&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">http&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createServer&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">stream&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createReadStream&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">__dirname&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;/data.txt&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>the &lt;code>pipe()&lt;/code> method is called on the file stream. It takes the source, and pipes it into a destination.&lt;/p>
&lt;p>The return value of the &lt;code>pipe()&lt;/code> method is the destination stream, which is a very convenient thing that lets us chain multiple &lt;code>pipe()&lt;/code> calls, like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">src&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dest1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">pipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dest2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Due to their advantages, many Node.js core modules provide native stream handling capabilities, most notably:&lt;/p>
&lt;ul>
&lt;li>&lt;code>process.stdin&lt;/code> returns a stream connected to stdin&lt;/li>
&lt;li>&lt;code>process.stdout&lt;/code> returns a stream connected to stdout&lt;/li>
&lt;li>&lt;code>process.stderr&lt;/code> returns a stream connected to stderr&lt;/li>
&lt;li>&lt;code>fs.createReadStream()&lt;/code> creates a readable stream to a file&lt;/li>
&lt;li>&lt;code>fs.createWriteStream()&lt;/code> creates a writable stream to a file&lt;/li>
&lt;li>&lt;code>net.connect()&lt;/code> initiates a stream-based connection&lt;/li>
&lt;li>&lt;code>http.request()&lt;/code> returns an instance of the http.ClientRequest class, which is a writable stream&lt;/li>
&lt;li>&lt;code>zlib.createGzip()&lt;/code> compress data using gzip (a compression algorithm) into a stream&lt;/li>
&lt;li>&lt;code>zlib.createGunzip()&lt;/code> decompress a gzip stream.&lt;/li>
&lt;li>&lt;code>zlib.createDeflate()&lt;/code> compress data using deflate (a compression algorithm) into a stream&lt;/li>
&lt;li>&lt;code>zlib.createInflate()&lt;/code> decompress a deflate stream&lt;/li>
&lt;/ul>
&lt;h3 id="types">types
&lt;/h3>&lt;p>There are four classes of streams:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Readable&lt;/code>: a stream you can pipe from, but not pipe into (you can receive data, but not send data to it). When you push data into a readable stream, it is buffered, until a consumer starts to read the data.&lt;/li>
&lt;li>&lt;code>Writable&lt;/code>: a stream you can pipe into, but not pipe from (you can send data, but not receive from it)&lt;/li>
&lt;li>&lt;code>Duplex&lt;/code>: a stream you can both pipe into and pipe from, basically a combination of a Readable and Writable stream&lt;/li>
&lt;li>&lt;code>Transform&lt;/code>: a Transform stream is similar to a Duplex, but the output is a transform of its input&lt;/li>
&lt;/ul>
&lt;p>We get the Readable stream from the &lt;a class="link" href="https://nodejs.org/api/stream.html" target="_blank" rel="noopener"
>&lt;code>stream&lt;/code> module&lt;/a>, and we initialize it and implement the &lt;code>readable._read()&lt;/code> method.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Stream&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;stream&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">readableStream&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Stream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Readable&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">readableStream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_read&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">readableStream&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Stream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Readable&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">read&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">readableStream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hi!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">readableStream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ho!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">writableStream&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Stream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Writable&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">writableStream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_write&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">chunk&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">encoding&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chunk&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also consume a readable stream directly, using the &lt;code>readable&lt;/code> event:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">JScopy&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">readableStream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;readable&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">readableStream&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">read&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="modules">Modules
&lt;/h2>&lt;h3 id="fs--module">fs module
&lt;/h3>&lt;ul>
&lt;li>&lt;code>fs.access()&lt;/code>: check if the file exists and Node.js can access it with its permissions&lt;/li>
&lt;li>&lt;code>fs.appendFile()&lt;/code>: append data to a file. If the file does not exist, it&amp;rsquo;s created&lt;/li>
&lt;li>&lt;code>fs.chmod()&lt;/code>: change the permissions of a file specified by the filename passed. Related: &lt;code>fs.lchmod()&lt;/code>, &lt;code>fs.fchmod()&lt;/code>&lt;/li>
&lt;li>&lt;code>fs.chown()&lt;/code>: change the owner and group of a file specified by the filename passed. Related: &lt;code>fs.fchown()&lt;/code>, &lt;code>fs.lchown()&lt;/code>&lt;/li>
&lt;li>&lt;code>fs.close()&lt;/code>: close a file descriptor&lt;/li>
&lt;li>&lt;code>fs.copyFile()&lt;/code>: copies a file&lt;/li>
&lt;li>&lt;code>fs.createReadStream()&lt;/code>: create a readable file stream&lt;/li>
&lt;li>&lt;code>fs.createWriteStream()&lt;/code>: create a writable file stream&lt;/li>
&lt;li>&lt;code>fs.link()&lt;/code>: create a new hard link to a file&lt;/li>
&lt;li>&lt;code>fs.mkdir()&lt;/code>: create a new folder&lt;/li>
&lt;li>&lt;code>fs.mkdtemp()&lt;/code>: create a temporary directory&lt;/li>
&lt;li>&lt;code>fs.open()&lt;/code>: set the file mode&lt;/li>
&lt;li>&lt;code>fs.readdir()&lt;/code>: read the contents of a directory&lt;/li>
&lt;li>&lt;code>fs.readFile()&lt;/code>: read the content of a file. Related: &lt;code>fs.read()&lt;/code>&lt;/li>
&lt;li>&lt;code>fs.readlink()&lt;/code>: read the value of a symbolic link&lt;/li>
&lt;li>&lt;code>fs.realpath()&lt;/code>: resolve relative file path pointers (&lt;code>.&lt;/code>, &lt;code>..&lt;/code>) to the full path&lt;/li>
&lt;li>&lt;code>fs.rename()&lt;/code>: rename a file or folder&lt;/li>
&lt;li>&lt;code>fs.rmdir()&lt;/code>: remove a folder&lt;/li>
&lt;li>&lt;code>fs.stat()&lt;/code>: returns the status of the file identified by the filename passed. Related: &lt;code>fs.fstat()&lt;/code>, &lt;code>fs.lstat()&lt;/code>&lt;/li>
&lt;li>&lt;code>fs.symlink()&lt;/code>: create a new symbolic link to a file&lt;/li>
&lt;li>&lt;code>fs.truncate()&lt;/code>: truncate to the specified length the file identified by the filename passed. Related: &lt;code>fs.ftruncate()&lt;/code>&lt;/li>
&lt;li>&lt;code>fs.unlink()&lt;/code>: remove a file or a symbolic link&lt;/li>
&lt;li>&lt;code>fs.unwatchFile()&lt;/code>: stop watching for changes on a file&lt;/li>
&lt;li>&lt;code>fs.utimes()&lt;/code>: change the timestamp of the file identified by the filename passed. Related: &lt;code>fs.futimes()&lt;/code>&lt;/li>
&lt;li>&lt;code>fs.watchFile()&lt;/code>: start watching for changes on a file. Related: &lt;code>fs.watch()&lt;/code>&lt;/li>
&lt;li>&lt;code>fs.writeFile()&lt;/code>: write data to a file. Related: &lt;code>fs.write()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>One peculiar thing about the &lt;code>fs&lt;/code> module is that all the methods are asynchronous by default, but they can also work synchronously by appending &lt;code>Sync&lt;/code>.&lt;/p>
&lt;h3 id="os-module">os module
&lt;/h3>&lt;p>This module provides many functions that you can use to retrieve information from the underlying operating system and the computer the program runs on, and interact with it.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">os&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;os&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>There are a few useful properties that tell us some key things related to handling files:&lt;/p>
&lt;p>&lt;code>os.EOL&lt;/code> gives the line delimiter sequence. It&amp;rsquo;s &lt;code>\n&lt;/code> on Linux and macOS, and &lt;code>\r\n&lt;/code> on Windows.&lt;/p>
&lt;p>&lt;code>os.constants.signals&lt;/code> tells us all the constants related to handling process signals, like SIGHUP, SIGKILL and so on.&lt;/p>
&lt;p>&lt;code>os.constants.errno&lt;/code> sets the constants for error reporting, like EADDRINUSE, EOVERFLOW and more.&lt;/p></description></item><item><title>【Internet】Basics</title><link>https://dyhes.github.io/p/internetbasics/</link><pubDate>Sat, 15 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/internetbasics/</guid><description>&lt;h2 id="what-is-internet">What is Internet
&lt;/h2>&lt;p>The internet is &lt;strong>the world’s most popular computer network&lt;/strong>. It began as an &lt;strong>academic research project&lt;/strong> in &lt;strong>1969&lt;/strong>, and became a &lt;strong>global commercial network&lt;/strong> in the &lt;strong>1990s&lt;/strong>.&lt;/p>
&lt;p>The internet began as &lt;strong>ARPANET&lt;/strong>, an academic research network that was funded by the military’s Advanced Research Projects Agency (ARPA, now DARPA) and that began operations in 1969.&lt;/p>
&lt;p>In &lt;strong>1973&lt;/strong>, software engineers Vint Cerf and Bob Kahn began work on the next generation of networking standards for the ARPANET. These standards, known as &lt;strong>TCP/IP&lt;/strong>, became the foundation of the modern internet.&lt;/p>
&lt;p>The shared technical standards that make the internet work are managed by an organization called the &lt;strong>Internet Engineering Task Force&lt;/strong>.&lt;/p>
&lt;p>The &lt;strong>Internet Corporation for Assigned Names and Numbers&lt;/strong>(ICANN) is in charge of distributing &lt;strong>domain names&lt;/strong> and &lt;strong>IP addresses&lt;/strong>.&lt;/p>
&lt;p>The &lt;strong>World Wide Web&lt;/strong> was created by &lt;strong>Timothy Berners-Lee&lt;/strong> in 1991. It offered a more powerful and user-friendly interface than other internet applications. The web supported hyperlinks, allowing users to browse from one document to another with a single click. Over time, the web became increasingly sophisticated, supporting images, audio, video, and interactive content.&lt;/p>
&lt;p>In 1994, Berners-Lee created the &lt;strong>World Wide Web Consortium(W3C)&lt;/strong> to be the web’s official standards organization. He is still the W3C’s director and continues to oversee the development of web standards.&lt;/p>
&lt;h3 id="how-we-access-internet">How we access Internet
&lt;/h3>&lt;p>Most people access internet content using a web browser.&lt;/p>
&lt;p>the web is just one of many internet applications. Other popular Internet applications include &lt;strong>email&lt;/strong> and &lt;strong>BitTorrent&lt;/strong>.&lt;/p>
&lt;h2 id="basic-parts-of-the-internet">Basic parts of the Internet
&lt;/h2>&lt;p>The internet has three basic parts:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>The last mile&lt;/strong> is the part of the internet that connects homes and small businesses to the internet.&lt;/li>
&lt;li>&lt;strong>Data centers&lt;/strong> are rooms full of servers that store user data and host online apps and content.&lt;/li>
&lt;li>&lt;strong>The backbone&lt;/strong> consists of long-distance networks — mostly on &lt;strong>fiber optic cables&lt;/strong> —that carry data between data centers and consumers.&lt;/li>
&lt;/ul>
&lt;h3 id="wireless-internet">Wireless Internet
&lt;/h3>&lt;p>There are two basic types of &lt;strong>wireless internet&lt;/strong> access:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>wifi&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>Wifi networks use &lt;strong>unlicensed spectrum&lt;/strong>: electromagnetic frequencies that are available for anyone to use without charge. To prevent neighbors’ networks from interfering with each other, there are strict limits on the power (and therefore the range) of wifi networks.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>cellular&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>Cellular networks are more centralized. They work by breaking up the service territory into &lt;strong>cells&lt;/strong>. Each cell has a &lt;strong>tower&lt;/strong> at its &lt;strong>center&lt;/strong> providing services to devices there.&lt;/p>
&lt;h2 id="ip-address">IP address
&lt;/h2>&lt;p>Internet Protocol addresses are numbers that computers use to identify each other on the internet.&lt;/p>
&lt;h2 id="packet">Packet
&lt;/h2>&lt;p>A packet is the &lt;strong>basic unit of information&lt;/strong> transmitted over the internet. Splitting information up into small, digestible pieces allows the network’s capacity to be used more efficiently.&lt;/p>
&lt;p>A packet consists of two parts:&lt;/p>
&lt;ul>
&lt;li>header&lt;/li>
&lt;/ul>
&lt;p>The header contains information that &lt;strong>helps the packet get to its destination&lt;/strong>, including the &lt;strong>length&lt;/strong> of the packet, its &lt;strong>source and destination&lt;/strong>, and a &lt;strong>checksum value&lt;/strong> that helps the recipient detect if a packet was damaged in transit.&lt;/p>
&lt;ul>
&lt;li>body ( actual data )&lt;/li>
&lt;/ul>
&lt;h3 id="discard-packet">Discard packet
&lt;/h3>&lt;p>If internet routers experience &lt;strong>congestion or other technical problems&lt;/strong>, they are allowed to deal with it by simply discarding packets.&lt;/p>
&lt;p>It’s the &lt;strong>sending computer’s responsibility&lt;/strong> to detect that a packet didn’t reach its destination and send another copy.&lt;/p>
&lt;h2 id="osi">OSI
&lt;/h2>&lt;p>The &lt;strong>open systems interconnection&lt;/strong> (OSI) model is a conceptual model which enables diverse communication systems to communicate using standard protocols.&lt;/p>
&lt;p>The OSI Model can be seen as a universal language for computer networking.&lt;/p>
&lt;p>&lt;img src="https://www.cloudflare.com/img/learning/ddos/what-is-a-ddos-attack/osi-model-7-layers.svg"
loading="lazy"
alt="undefined"
>&lt;/p>
&lt;p>Although the modern Internet doesn’t strictly follow the OSI Model (it more closely follows the simpler Internet protocol suite), the OSI Model is still very useful for troubleshooting network problems.&lt;/p>
&lt;h3 id="7-the-application-layer">7. The application layer
&lt;/h3>&lt;p>This is the only layer that directly interacts with data from the user. Software applications like web browsers and email clients rely on the application layer to initiate communications. But it should be made clear that client software applications are not part of the application layer. Application layer protocols include &lt;a class="link" href="https://www.cloudflare.com/learning/ddos/glossary/hypertext-transfer-protocol-http/" target="_blank" rel="noopener"
>HTTP&lt;/a> as well as SMTP (Simple Mail Transfer Protocol is one of the protocols that enables email communications).&lt;/p>
&lt;h3 id="6-the-presentation-layer">6. The presentation layer
&lt;/h3>&lt;p>This layer is primarily responsible for preparing data so that it can be used by the application layer; in other words, layer 6 makes the data presentable for applications to consume.&lt;/p>
&lt;p>The presentation layer is responsible for translation, &lt;a class="link" href="https://www.cloudflare.com/learning/ssl/what-is-encryption/" target="_blank" rel="noopener"
>encryption&lt;/a>, and compression of data.&lt;/p>
&lt;p>&lt;img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/60dPoRIz0Es5TjDDncEp2M/7ad742131addcbe5dc6baa16a93bf189/6-presentation-layer.svg"
loading="lazy"
alt="The Presentation Layer"
>&lt;/p>
&lt;h3 id="5-the-session-layer">5. The session layer
&lt;/h3>&lt;p>This is the layer responsible for opening and closing communication between the two devices. The time between when the communication is opened and closed is known as the session. The session layer ensures that the session stays open long enough to transfer all the data being exchanged, and then promptly closes the session in order to avoid wasting resources.&lt;/p>
&lt;p>The session layer also synchronizes data transfer with checkpoints. For example, if a 100 megabyte file is being transferred, the session layer could set a checkpoint every 5 megabytes. In the case of a disconnect or a crash after 52 megabytes have been transferred, the session could be resumed from the last checkpoint, meaning only 50 more megabytes of data need to be transferred. Without the checkpoints, the entire transfer would have to begin again from scratch.&lt;/p>
&lt;p>&lt;img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/6jFRnaZSuIMoUzSotZXYbG/cc7a47d2b3f8d3e77b9ffbdb8b8d5280/5-session-layer.svg"
loading="lazy"
alt="The Session Layer"
>&lt;/p>
&lt;h3 id="4-the-transport-layer">4. The transport layer
&lt;/h3>&lt;p>Layer 4 is responsible for end-to-end communication between the two devices. This includes taking data from the session layer and breaking it up into chunks called segments before sending it to layer 3. The transport layer on the receiving device is responsible for reassembling the segments into data the session layer can consume.&lt;/p>
&lt;p>The transport layer is also responsible for flow control and error control. Flow control determines an optimal speed of transmission to ensure that a sender with a fast connection doesn’t overwhelm a receiver with a slow connection. The transport layer performs error control on the receiving end by ensuring that the data received is complete, and requesting a retransmission if it isn’t.&lt;/p>
&lt;p>&lt;img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/1MGbIKcfXgTjXgW0KE93xK/64b5aa0b8ebfb14d5f5124867be92f94/4-transport-layer.svg"
loading="lazy"
alt="The Transport Layer"
>&lt;/p>
&lt;h3 id="3-the-network-layer">3. The network layer
&lt;/h3>&lt;p>The network layer breaks up segments from the transport layer into smaller units, called packets, on the sender’s device, and reassembling these packets on the receiving device. The network layer also finds the best physical path for the data to reach its destination; this is known as routing.&lt;/p>
&lt;p>&lt;img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/76JgEjycZl12c90UByKfJA/d6578bcd7b151c489e61f42227a45713/3-network-layer.svg"
loading="lazy"
alt="The Network Layer"
>&lt;/p>
&lt;h3 id="2-the-data-link-layer">2. The data link layer
&lt;/h3>&lt;p>The data link layer is very similar to the network layer, except the data link layer facilitates data transfer between two devices on the SAME network. The data link layer takes packets from the network layer and breaks them into smaller pieces called frames. Like the network layer, the data link layer is also responsible for flow control and error control in intra-network communication (The transport layer only does flow control and error control for inter-network communications).&lt;/p>
&lt;p>&lt;img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/3MR4mPOwaos80t1annw7BG/8ea1c59ccfa1baf6e9738773daa30450/2-data-link-layer.svg"
loading="lazy"
alt="The Data Link Layer"
>&lt;/p>
&lt;h3 id="1-the-physical-layer">1. The physical layer
&lt;/h3>&lt;p>This layer includes the physical equipment involved in the data transfer, such as the &lt;strong>cables and switches&lt;/strong>. This is also the layer where the data gets converted into a bit stream, which is a string of 1s and 0s. The physical layer of both devices must also agree on a signal convention so that the 1s can be distinguished from the 0s on both devices.&lt;/p>
&lt;p>&lt;img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/3m1ZkcaaBYHoodrEO3brv2/2819c4db294631b5753cd55de0c01bd9/1-physical-layer.svg"
loading="lazy"
alt="The Physical Layer"
>&lt;/p></description></item><item><title>【HTTP】Basics</title><link>https://dyhes.github.io/p/httpbasics/</link><pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/httpbasics/</guid><description>&lt;h2 id="http">HTTP
&lt;/h2>&lt;p>HTTP stands for Hyper Text Transfer Protocol&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120200019157.png"
loading="lazy"
alt="image-20220120200019157"
>&lt;/p>
&lt;p>HTTP is generally designed to be simple and human readable, even with the added complexity introduced in HTTP/2 by encapsulating HTTP messages into frames.&lt;/p>
&lt;h3 id="request">Request
&lt;/h3>&lt;p>A typical HTTP request contains:&lt;/p>
&lt;ul>
&lt;li>HTTP &lt;strong>version type&lt;/strong>&lt;/li>
&lt;li>URL&lt;/li>
&lt;li>HTTP &lt;strong>method&lt;/strong>&lt;/li>
&lt;li>HTTP &lt;strong>request header&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120170645475.png"
loading="lazy"
alt="image-20220120170645475"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Optional&lt;/strong> HTTP body.&lt;/li>
&lt;/ul>
&lt;p>The body of an HTTP request contains any information being submitted to the web server, such as a username and password, or any other data entered into a form.&lt;/p>
&lt;h3 id="status">Status
&lt;/h3>&lt;p>HTTP status codes are 3-digit codes most often used to indicate whether an HTTP request has been successfully completed. Status codes are broken into the following 5 blocks:&lt;/p>
&lt;ul>
&lt;li>1xx &lt;strong>Informational&lt;/strong>&lt;/li>
&lt;li>2xx &lt;strong>Success&lt;/strong>&lt;/li>
&lt;li>3xx &lt;strong>Redirection&lt;/strong>&lt;/li>
&lt;li>4xx &lt;strong>Client Error&lt;/strong>&lt;/li>
&lt;li>5xx &lt;strong>Server Error&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>Keep in mind that HTTP is a “&lt;strong>stateless&lt;/strong>” protocol, which means that each command runs &lt;strong>independent&lt;/strong> of any other command. In the original spec, &lt;strong>HTTP requests each created and closed a TCP connection.&lt;/strong> In newer versions of the HTTP protocol (HTTP 1.1 and above), persistent connection allows for multiple HTTP requests to pass over a persistent TCP connection, improving resource consumption.&lt;/p>
&lt;p>while the core of HTTP itself is stateless, HTTP cookies allow the use of stateful sessions. Using header extensibility, HTTP Cookies are added to the workflow, allowing session creation on each HTTP request to share the same context, or the same state.&lt;/p>
&lt;h3 id="proxy">Proxy
&lt;/h3>&lt;p>HTTP is a &lt;strong>client-server&lt;/strong> protocol: &lt;strong>requests&lt;/strong> are sent by one entity, the user-agent (or a proxy on behalf of it).Each individual request is sent to a server, which handles it and provides an answer called the &lt;em>&lt;strong>response&lt;/strong>&lt;/em>. A server is not necessarily a single machine, but several server software instances can be hosted on the same machine. With HTTP/1.1 and the &lt;code>Host&lt;/code> header, they may even share the same IP address.&lt;/p>
&lt;p>Between the client and the server there are numerous entities, collectively called proxies, which perform different operations and act as &lt;strong>gateways or caches&lt;/strong>. Proxies are those numerous computers and machines which operate at the application layers and relay the HTTP messages between the Web browser and the server.&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120200604043.png"
loading="lazy"
alt="image-20220120200604043"
>&lt;/p>
&lt;p>In reality, there are more computers between a browser and the server handling the request: there are &lt;strong>routers, modems, and more&lt;/strong>.&lt;/p>
&lt;p>These can be transparent, forwarding on the requests they receive without altering them in any way, or non-transparent, in which case they will change the request in some way before passing it along to the server.&lt;/p>
&lt;p>Proxies may perform numerous functions:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>caching&lt;/strong> (the cache can be public or private, like the browser cache)&lt;/li>
&lt;li>&lt;strong>filtering&lt;/strong> (like an antivirus scan or parental controls)&lt;/li>
&lt;li>&lt;strong>load balancing&lt;/strong> (to allow multiple servers to serve different requests)&lt;/li>
&lt;li>&lt;strong>authentication&lt;/strong> (to control access to different resources)&lt;/li>
&lt;li>&lt;strong>logging&lt;/strong> (allowing the storage of historical information)&lt;/li>
&lt;/ul>
&lt;h3 id="procedure">Procedure
&lt;/h3>&lt;p>When a client wants to communicate with a server, either the final server or an intermediate proxy, it performs the following steps:&lt;/p>
&lt;ol>
&lt;li>Open a &lt;strong>TCP connection&lt;/strong>: The TCP connection is used to send a request, or several, and receive an answer. The client may open a new connection, reuse an existing connection, or open several TCP connections to the servers.&lt;/li>
&lt;li>Send an &lt;strong>HTTP message&lt;/strong>: HTTP messages (before HTTP/2) are human-readable. With HTTP/2, these simple messages are encapsulated in frames, making them impossible to read directly, but the principle remains the same.&lt;/li>
&lt;li>&lt;strong>Read the response&lt;/strong> sent by the server&lt;/li>
&lt;li>&lt;strong>Close or reuse the connection&lt;/strong> for further requests.&lt;/li>
&lt;/ol>
&lt;p>If HTTP &lt;strong>pipelining&lt;/strong> is activated, several requests can be sent without waiting for the first response to be fully received. HTTP pipelining has proven difficult to implement in existing networks, where old pieces of software coexist with modern versions. HTTP pipelining has been superseded in HTTP/2 with more robust multiplexing requests within a frame.&lt;/p>
&lt;p>HTTP messages, as defined in HTTP/1.1 and earlier, are human-readable. In HTTP/2, these messages are embedded into a binary structure, a &lt;em>frame&lt;/em>, allowing optimizations like compression of headers and multiplexing.&lt;/p>
&lt;h3 id="http09-the-one-liner--1991">&lt;code>HTTP/0.9&lt;/code> (The One Liner) -1991
&lt;/h3>&lt;p>The first documented version of HTTP was &lt;a class="link" href="https://www.w3.org/Protocols/HTTP/AsImplemented.html" target="_blank" rel="noopener"
>&lt;code>HTTP/0.9&lt;/code>&lt;/a>&lt;/p>
&lt;p>The server would get the request, reply with the HTML in response and as soon as the content has been transferred, the connection will &lt;strong>be closed&lt;/strong>.&lt;/p>
&lt;p>There were&lt;/p>
&lt;ul>
&lt;li>No headers&lt;/li>
&lt;li>&lt;code>GET&lt;/code> was the only allowed method&lt;/li>
&lt;li>Response had to be HTML&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Sample&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="err">GET /index.html
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="err">(response body)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>(connection closed)&lt;/strong>&lt;/p>
&lt;h3 id="http10---1996">&lt;code>HTTP/1.0&lt;/code> - 1996
&lt;/h3>&lt;ul>
&lt;li>could deal with &lt;strong>other response formats&lt;/strong>.&lt;/li>
&lt;li>It added &lt;strong>more methods&lt;/strong> (i.e. &lt;code>POST&lt;/code> and &lt;code>HEAD&lt;/code>),&lt;/li>
&lt;li>HTTP &lt;strong>headers got added&lt;/strong> to both the request and responses&lt;/li>
&lt;li>&lt;strong>status codes&lt;/strong> were added to identify the response&lt;/li>
&lt;li>c&lt;strong>haracter set support&lt;/strong> was introduced&lt;/li>
&lt;li>multi-part types&lt;/li>
&lt;li>authorization&lt;/li>
&lt;li>caching&lt;/li>
&lt;li>content encoding and more&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Sample&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">GET&lt;/span> &lt;span class="nn">/&lt;/span> &lt;span class="kr">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="m">1.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">kamranahmed.info&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">User-Agent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Accept&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">*/*&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="m">1.0&lt;/span> &lt;span class="m">200&lt;/span> &lt;span class="ne">OK &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Content-Type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">text/plain&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Content-Length&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">137582&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">Thu, 05 Dec 1997 16:00:00 GMT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Last-Modified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">Wed, 5 August 1996 15:55:28 GMT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Server&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">Apache 0.84&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">(response&lt;/span> &lt;span class="err">body)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>(connection closed)&lt;/strong>&lt;/p>
&lt;h4 id="drawback">drawback
&lt;/h4>&lt;p>One of the &lt;strong>major drawbacks&lt;/strong> of &lt;code>HTTP/1.0&lt;/code> were you &lt;strong>couldn’t have multiple requests per connection&lt;/strong>. That is, whenever a client will need something from the server, it will have to open a new TCP connection and after that single request has been fulfilled, connection will be closed. And for any next requirement, it will have to be on a new connection.&lt;/p>
&lt;p>let’s assume that you visit a webpage having &lt;code>10&lt;/code> images, &lt;code>5&lt;/code> stylesheets and &lt;code>5&lt;/code> javascript files, totalling to &lt;code>20&lt;/code> items that needs to fetched when request to that webpage is made. Since the server closes the connection as soon as the request has been fulfilled, there will be a series of &lt;code>20&lt;/code> separate connections where each of the items will be served one by one on their separate connections.&lt;/p>
&lt;p>Apart from being &lt;strong>connectionless&lt;/strong>, &lt;code>HTTP&lt;/code> also is a stateless protocol. server doesn’t maintain the information about the client and so each of the requests has to have the information necessary for the server to fulfill the request on it’s own without any association with any old requests. So it also has to send some redundant data on the wire &lt;strong>causing increased bandwidth usage&lt;/strong>.&lt;/p>
&lt;h3 id="http11---1999">&lt;code>HTTP/1.1&lt;/code> - 1999
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>New HTTP methods&lt;/strong> were added, which introduced &lt;code>PUT&lt;/code>, &lt;code>PATCH&lt;/code>, &lt;code>OPTIONS&lt;/code>, &lt;code>DELETE&lt;/code>&lt;/li>
&lt;li>&lt;strong>Hostname Identification&lt;/strong> In &lt;code>HTTP/1.0&lt;/code> &lt;code>Host&lt;/code> header wasn’t required but &lt;code>HTTP/1.1&lt;/code> made it &lt;strong>required&lt;/strong>.&lt;/li>
&lt;li>&lt;strong>Persistent Connections&lt;/strong> &lt;code>HTTP/1.1&lt;/code> introduced the persistent connections i.e. &lt;strong>connections weren’t closed by default&lt;/strong> and were kept open which allowed multiple sequential requests. To close the connections, the &lt;strong>header &lt;code>Connection: close&lt;/code>&lt;/strong> had to be available on the request. Clients usually send this header in the last request to safely close the connection.&lt;/li>
&lt;li>&lt;strong>Pipelining&lt;/strong> It also introduced the support for pipelining, where &lt;strong>the client could&lt;/strong> &lt;strong>send multiple requests to the server without waiting for the response from server on the same connection and server had to send the response in the same sequence in which requests were received&lt;/strong>. To solve this problem that the client don&amp;rsquo;t know where is the point where first response download completes and the content for next response starts, &lt;strong>there must be &lt;code>Content-Length&lt;/code>&lt;/strong> header present which clients can use to identify where the response ends and it can start waiting for the next response.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>But there was still an issue with this approach. And that is, what if the data is dynamic and server cannot find the content length before hand? Well in that case, you really can’t benefit from persistent connections, could you?! In order to solve this &lt;code>HTTP/1.1&lt;/code> introduced chunked encoding. In such cases server may omit content-Length in favor of chunked encoding. However, if none of them are available, then the connection must be closed at the end of request.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;strong>Chunked Transfers&lt;/strong> In case of dynamic content, when the server cannot really find out the &lt;code>Content-Length&lt;/code> when the transmission starts, it may start sending the content in pieces (chunk by chunk) and add the &lt;code>Content-Length&lt;/code> for each chunk when it is sent. And when all of the chunks are sent. whole transmission has completed, it sends an empty chunk the one with &lt;code>Content-Length&lt;/code> set to zero in order to identify the client that transmission has completed. In order to notify the client about the chunked transfer, server includes the header &lt;code>Transfer-Encoding: chunked&lt;/code>&lt;/li>
&lt;li>Unlike &lt;code>HTTP/1.0&lt;/code> which had Basic authentication only, &lt;code>HTTP/1.1&lt;/code> included &lt;strong>digest and proxy authentication&lt;/strong>&lt;/li>
&lt;li>Caching&lt;/li>
&lt;li>Byte Ranges&lt;/li>
&lt;li>Character sets&lt;/li>
&lt;li>Language negotiation&lt;/li>
&lt;li>Client cookies&lt;/li>
&lt;li>Enhanced compression support&lt;/li>
&lt;li>New status codes&lt;/li>
&lt;li>..and more&lt;/li>
&lt;/ul>
&lt;h3 id="spdy---2009">SPDY - 2009
&lt;/h3>&lt;p>Google went ahead and started experimenting with alternative protocols to make the web faster and improving web security while reducing the latency of web pages. In 2009, they announced &lt;code>SPDY&lt;/code>.&lt;/p>
&lt;p>In 2015, at Google, they didn’t want to have two competing standards and so they decided to merge it into HTTP while giving birth to &lt;code>HTTP/2&lt;/code> and deprecating SPDY.&lt;/p>
&lt;h3 id="http2---2015">&lt;code>HTTP/2&lt;/code> - 2015
&lt;/h3>&lt;p>&lt;code>HTTP/2&lt;/code> was designed for low latency transport of content. The key features or differences from the old version of &lt;code>HTTP/1.1&lt;/code> include&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Binary&lt;/strong> instead of Textual&lt;/li>
&lt;li>&lt;strong>Multiplexing&lt;/strong> - Multiple asynchronous HTTP requests over a single connection&lt;/li>
&lt;li>&lt;strong>Header compression&lt;/strong> using HPACK&lt;/li>
&lt;li>&lt;strong>Server Push&lt;/strong> - Multiple responses for single request&lt;/li>
&lt;li>Request &lt;strong>Prioritization&lt;/strong>&lt;/li>
&lt;li>Security&lt;/li>
&lt;/ul>
&lt;h5 id="frames-and-streams">Frames and Streams
&lt;/h5>&lt;p>HTTP messages are now composed of one or more frames. There is a &lt;code>HEADERS&lt;/code> frame for the meta data and &lt;code>DATA&lt;/code> frame for the payload and there exist several other types of frames (&lt;code>HEADERS&lt;/code>, &lt;code>DATA&lt;/code>, &lt;code>RST_STREAM&lt;/code>, &lt;code>SETTINGS&lt;/code>, &lt;code>PRIORITY&lt;/code> etc)&lt;/p>
&lt;p>Every &lt;code>HTTP/2&lt;/code> request and response is given a &lt;strong>unique stream ID&lt;/strong> and it is divided into frames.&lt;/p>
&lt;p>Frames are nothing but binary pieces of data. A collection of frames is called a Stream.&lt;/p>
&lt;p>Each frame has a stream id that identifies the stream to which it belongs and each frame has a &lt;strong>common header&lt;/strong>.&lt;/p>
&lt;p>Also, apart from stream ID being unique, it is worth mentioning that, any request initiated by &lt;strong>client&lt;/strong> uses &lt;strong>odd&lt;/strong> numbers and the &lt;strong>response&lt;/strong> from server has &lt;strong>even&lt;/strong> numbers stream IDs.&lt;/p>
&lt;p>client can use &lt;code>RST_STREAM&lt;/code> and stop receiving a specific stream while the connection will still be open and the other streams will still be in play.&lt;/p>
&lt;h2 id="ssl">SSL
&lt;/h2>&lt;p>SSL, short for &lt;strong>Secure Sockets Layer&lt;/strong>, is a family of &lt;strong>encryption technologies&lt;/strong> that allows web users to protect the privacy of information they transmit over the internet &lt;strong>introduced by Netscape in 1994&lt;/strong>.&lt;/p>
&lt;p>That lock is supposed to signal that third parties won&amp;rsquo;t be able to read any information you send or receive.&lt;/p>
&lt;p>SSL accomplishes that by transforming your data into a coded message that only the recipient knows how to decipher.&lt;/p></description></item><item><title>【Web】Browser</title><link>https://dyhes.github.io/p/webbrowser/</link><pubDate>Thu, 13 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/webbrowser/</guid><description>&lt;h2 id="what-is-a-web-browser">What is a web browser
&lt;/h2>&lt;p>A web browser is a &lt;strong>computer program&lt;/strong> that allows users to &lt;strong>download and view websites&lt;/strong>.&lt;/p>
&lt;h3 id="history-of-web-browser">history of web browser
&lt;/h3>&lt;p>The &lt;strong>first&lt;/strong> web browser, called &lt;strong>WorldWideWeb&lt;/strong>, was created in &lt;strong>1990&lt;/strong> by Sir &lt;strong>Tim Berners-Lee.&lt;/strong> He then recruited Nicola Pellow to write the Line Mode Browser, which displayed web pages on dumb terminals.
1993 was a landmark year with the release of &lt;strong>Mosaic&lt;/strong>, credited as &amp;ldquo;the world&amp;rsquo;s first popular browser&amp;rdquo;. Its innovative graphical user interface made the World Wide Web system easy to use and thus more accessible to the average person. This, in turn, sparked the Internet boom of the 1990s, when the Web grew at a very rapid rate. Marc Andreessen, the leader of the Mosaic team, soon started his own company, &lt;strong>Netscape&lt;/strong>, which released the Mosaic-influenced &lt;strong>Netscape Navigator&lt;/strong> in &lt;strong>1994&lt;/strong>. Navigator quickly became the most popular browser.&lt;/p>
&lt;p>Microsoft debuted &lt;strong>Internet Explorer&lt;/strong> in 1995, leading to a browser war with Netscape. Within a few years, Microsoft gained a dominant position in the browser market for two reasons: it bundled Internet Explorer with its popular Windows operating system and did so as freeware with no restrictions on usage. The market share of Internet Explorer peaked at over &lt;strong>95%&lt;/strong> in the early 2000s.&lt;/p>
&lt;p>In 1998, Netscape launched what would become the &lt;strong>Mozilla Foundation&lt;/strong> to create a new browser using the open source software model. This work evolved into the &lt;strong>Firefox&lt;/strong> browser, first released by Mozilla in 2004. Firefox market share peaked at 32% in 2010.&lt;/p>
&lt;p>Apple released its &lt;strong>Safari&lt;/strong> browser in 2003. Safari remains the dominant browser on Apple devices, though it did not become popular elsewhere.&lt;/p>
&lt;p>Google debuted its &lt;strong>Chrome browser&lt;/strong> in &lt;strong>2008&lt;/strong>, which steadily took market share from Internet Explorer and became the most popular browser in &lt;strong>2012&lt;/strong>. Chrome has remained dominant ever since.&lt;/p>
&lt;p>Microsoft released its &lt;strong>Edge browser&lt;/strong> in &lt;strong>2015&lt;/strong> as part of the Windows 10 release. (Internet Explorer is still used on older versions of Windows.)&lt;/p>
&lt;h2 id="components">Components
&lt;/h2>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120165610428.png"
loading="lazy"
alt="image-20220120165610428"
>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>User Interface&lt;/strong>: This component allows &lt;strong>end-users&lt;/strong> to interact with all visual elements available on the web page. The visual elements include the &lt;strong>address bar, home button, next button,&lt;/strong> and all other elements that fetch and display the web page requested by the end-user.&lt;/li>
&lt;li>&lt;strong>Browser Engine:&lt;/strong> It is a &lt;strong>core component&lt;/strong> of every web browser. The browser engine functions as an intermediary or a bridge between the user interface and the rendering engine. It queries and handles the rendering engine as per the inputs received from the user interface.&lt;/li>
&lt;li>&lt;strong>Rendering Engine:&lt;/strong> As the name suggests, this component is responsible for rendering a specific web page requested by the user on their screen.&lt;/li>
&lt;li>&lt;strong>Networking:&lt;/strong> This component is responsible for managing network calls using standard protocols like HTTP or FTP. It also looks after security issues associated with internet communication.&lt;/li>
&lt;li>&lt;strong>JavaScript Interpreter&lt;/strong>: As the name suggests, it is responsible for parsing and executing the JavaScript code embedded in a website.&lt;/li>
&lt;li>&lt;strong>UI Backend:&lt;/strong> This component uses the &lt;strong>user interface methods of&lt;/strong> &lt;strong>the underlying operating system&lt;/strong>. It is mainly used for drawing basic widgets (windows and combo boxes).&lt;/li>
&lt;li>&lt;strong>Data Storage/Persistence:&lt;/strong> It is a persistent layer. A web browser needs to store various types of data locally, for example, cookies. As a result, browsers must be compatible with data storage mechanisms such as WebSQL, IndexedDB, FileSystem, etc.&lt;/li>
&lt;/ul>
&lt;h2 id="process">Process
&lt;/h2>&lt;h3 id="navigation">Navigation
&lt;/h3>&lt;h4 id="tcp-handshake">TCP Handshake
&lt;/h4>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120001242662.png"
loading="lazy"
alt="image-20220120001242662"
>&lt;/p>
&lt;p>TCP (Transmission Control Protocol) uses a &lt;strong>three-way handshake&lt;/strong> to set up a TCP/IP connection over an IP based network.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>SYN&lt;/strong>chronize&lt;/li>
&lt;/ul>
&lt;p>The host, generally the browser, sends a TCP SYNchronize packet to the server.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>SYN&lt;/strong>chronize-&lt;strong>ACK&lt;/strong>nowledgement&lt;/li>
&lt;/ul>
&lt;p>The server receives the SYN and sends back a SYNchronize-ACKnowledgement.&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ACK&lt;/strong>nowledge&lt;/li>
&lt;/ul>
&lt;p>The host receives the server&amp;rsquo;s SYN-ACK and sends an ACKnowledge. The server receives ACK and the TCP socket connection is established.&lt;/p>
&lt;p>&lt;img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoGCBMTExcVERUYGBcYGxoaGBoZGBcZIxkZGhoZGRoYHxcbHyskGhwoHxgYJTUmKCwuNDIyGSE3PDcxOysxMy4BCwsLDg4PHRERGDEoIB8uOzExMS4xMTEuMTExMTExLjEuMTEuMTExLi4xMDExMS4xMTExMTE7MTExNDExMS4xMf/AABEIAJwBQwMBIgACEQEDEQH/xAAcAAACAwEBAQEAAAAAAAAAAAAABQMEBgIBBwj/xABPEAACAQMBAwYHCwkGBQUBAAABAgMABBESBSExBhMiQVFhFBYyUnGU0wcjQlRicoGRobHSFTNDU3OCkrLUJDWTs9HwNGN0wcNEouHj8SX/xAAYAQEAAwEAAAAAAAAAAAAAAAAAAQIDBP/EACARAQEAAgMAAgMBAAAAAAAAAAABAhEDITESQTJRYSL/2gAMAwEAAhEDEQA/APs1FFFAUk5WysscY1lEeVElcEqVjbOekPJy2hc9WqndRSxhgVYAgjBBAII7CDxoMntBo4XEcEshxLGXjMkjBMxTHTrJJ6WkErndgHAzv52ft&amp;#43;dnUBBoRoY21NGM85HG5fW8gb4eAApzpO8nhqIrGFFCpEiqDkKqKACd2QAMZr3wKLUr80mtRhW0rlR2BsZA3nhQZK82xdG3DF0UywmRSqkGPTJGuM535V&amp;#43;7GDWzj4DJycDf299RNaRkaSilcFcFVxpPFcY4bhu7qljUAAAAAbgBuwB1YoJKKKKAooooCiiigKKKKAooooCiiigKKKKAooooCiiigKKKKArMcp1Lzxorg4jkYwtLJBrGpPfFkTiyYI0nhrzurT1Vu7OKUATRo4ByA6qwB7QCKDJw8opsKsKMyJFE7NI0eX1u6nMjSL0RoxrUNkn0Zt/l2WOPwibRzPOyx6VU5XS8kaEtneWdVXh8KtDLZRMVLRoSnkEqp0fNyOjwHCu&amp;#43;YTGnSuM5xgYznVnHbnfntoMvFt6554o0a4jeCOTeigtKkbswZ5AwwXwAFOdB69wb8mLuWaFZZiuX3qFUjSN4wcned2fpq&amp;#43;9pGziRkQuu5XKqWA7A2MjifrqWKMKAFAAHAAAAfQKCSiile3du2tmoa6mSIE4Go7ye5Rkn6t1A0oqvZ3McqK8Tq6MMqyMGBHaCNxqxQFFFFAUUUUBRRRQFFFFAUUUq5T7ZSyt3uJVZlTHRXGSSQABkgcTQNa8zXzu02ntXaSCSForOBuBX36XvB4BG9OMd9e&amp;#43;Ll5bHnbC9leXjIly2tJfq8g943ffQfRKKw1v7oUcYMd9bzQ3C/o1jeUP3xugwR6cV4/KraNx/wWzyinhJdOE3dvNJk/bQbnNe18/e821be/SmC6T9JDGpjZR/y3PlHuI31ouTXKm2vQRExWRfLikGiRD2FD94yKB9RRRQFFFFAUUUUBRRRQFFFFAUUUUBRRRQFVr&amp;#43;7jhjaSVgqIMsx4AdtWaRcu0DWFwrDIKYPeCQCKB2DneK6pJyblK67ZzloDhSfhRNvib6srntQ07oCiio5JAoJYgAcSTgD6aDuq20L2KBDJO6xou8sxAA&amp;#43;k1k9p8tjK7Q7Ki8JkG5pCdMMZ75PhnuX6&amp;#43;qqtpyVaZxNtSU3Mo3qmNMUR&amp;#43;RH1nvP1Cq3KRMgn5WXV7lNlQ6IuBupwVXHbHH5TbuGcfRUmyeS0MbGSctczsMNLLhjv4hV4Iu/gK0KxgDAGAOAG7FdaapcrVpIycnJqW3cy7Jl5hictE&amp;#43;Wik7iu/mz3r9VMNk8uVEiwbSjNpMdysx1RSH5Mo3D0Nj053U801Wv7GKdDHMiuh4qwBFMcrCw/VwRkHIPAiuq&amp;#43;eJsa9sDq2ZLzkXXazsSuP&amp;#43;VJxT0HdTvk9yzgnfmZla2uBxhm6JPejcJB6N/dWksqumpoooqUCiiigKKKKArIe6/wD3ZL86P/MWtfWQ91/&amp;#43;7JfnR/5i0FPwR0bnLVlSVgC8beRKAAOkBvVsbg47s5G6nOydqRzkoQY5V8qJ8Bh3jqdflD7OFIduWpcWpjcxyc7hZAASBzLkqQfKQlRkd3dViN45yIL1ObmG&amp;#43;NlYrqI&amp;#43;HDKMEH5PEdeRTQ0/NDIOBkcDjePprm8gMiModo2IwHUKSp7cMCD9IpXBPdWwxMDcxD9IoAlUfLjGFk9K4J82muzb&amp;#43;GcEwuGx5Q&amp;#43;Ep7GU71PpFB885T7NvYiWuHMkf6xc6cZDb1OQgyM6XyN250pJMBIVM2osgykqMUlj7CspzlePQlyD1SGvtOmsxt3kdFKS9ueafjp36GPWcDDRN8pCO8NwoMdsnaMsGfDGnuoRxmilnSSIH9bbq/k/KXs663eyLKzuYxJbzSyIetbqc/QffNxrNbO5HXWoFmEenODq3g5AOkoBpJGTlcKcANGeNXrrkUYvf7S5NvcjOqRVVY5d&amp;#43;RzsPk5xjJXGd5x2Bo/F6Hz5/Wbj8dHi9D58/rNx&amp;#43;OlvIjlDNctPDcxos1uUV2jYlHDjIZc714cN/p7NVQJ/F6Hz5/Wbj8dHi/D58/rNx&amp;#43;OnFIeWgBtwGkEYMkYywbQelnRIVIKxtjBOesUE3i/D58/rNx&amp;#43;Ojxfh8&amp;#43;f1m4/HWaTdb3EsGI5LRzKoSUyxNpj1PGDgYR1BBX4JII3iu76zuNdo8Up59hNcHeQsj6Y/eiv6vQxQdY3NxFBovF&amp;#43;Hz5/Wbj8dHi9D58/rNx&amp;#43;Oq3Iy&amp;#43;FxHNINQBmkGls5UrhWUjqwQRWhoE/i9D58/rNx&amp;#43;Ojxeh8&amp;#43;f1m4/HTiigT&amp;#43;L0Pnz&amp;#43;s3H46PF6Hz5/Wbj8dOKKBP4vQ&amp;#43;fP6zcfjqObk3A40uZmU4yGuJyDg53gvvG6nlFAg5SAwSR3i8I&amp;#43;hOPOgcjLemNtL/NDjrp6GzwpXyq2pDa20ktwCYwArKBktrIQLjvLAViOT9ntDaNugkmNtZ497WP89LFnC65CTp6O7dxoNJt/lnDC/M26tc3J4Qxb9Pe78Ix6d/dSjxeu7469qy4j4rawkqgHZJJxk9H/wCVpdh7Ct7RNFtEqD4R4sx85nO9j6TTDTVbalRsrKOFBHCioi7gqgAAegVNoqxpo01X4p2r6KNFWNNGmo&amp;#43;JtX0UaKsaahuZljGWP0cTTSXOikfKq1tJ05u5jEpHk43Mp7RIN6HvFdbR2m7bk6K93E&amp;#43;k/wClJX41jnya/FbHDfrFWXKa9iXm0uZdKM6rqOo6Q7AZYjfuopK/lP8APk/nait2b9LUUUVogUUUUBWQ91/&amp;#43;7JfnR/5i1r6yHuv/AN2S/Oj/AMxaCC942v7b/wAMlOLrZ8c6aJkDqeo9R6iCN6kdo30nveNr&amp;#43;2/8MlaWyq88VvpPDFdW25SbmIcAxAlQdms7pf3sN3mhvAbx8ZKTrwwWgmTHYRhiN3Dep760ZSku3LCGcaZ40kA3jUoOD2g8VPeMVGtpt05k8Mt1ZhIlwignEgEcmBv/ADiDQ27tUemrV7tAmBZI&amp;#43;jrRWHaAwBx6d9KuT7HwKVSzMFadV1szkKpIA1MSTgdpqZj/AGSH9lH/ACLVUnVlIeaQ8TpG876S7ZcniSaZWj4jQfJH3Ur2vQZ7kFtCGG&amp;#43;2hzssceTBjW6pnEZzjUd9bf8AL9n8ag/xo/xVj/c4jVr7aOpQd8HEA/oz21vfBk8xf4RQUvy/Z/GoP8aP8Vcvt2yIwbm3IPEGWM/Zqq/4MnmL/CKRbS2kiXlvapGp5zUZG0joKEcoPSxU/QDQXI9s2Crhbi2C9gliA&amp;#43;oGuvy5Zbv7Tb7uHvse7/3VfFtH5i/wj/SjwZPMX&amp;#43;EUFBduWQ4XNuOv89Hx/irr8v2fxqD/ABo/xVd8GTzF/hFHgyeYv8IoKX5fs/jUH&amp;#43;NH&amp;#43;Kj8v2fxqD/Gj/FV3wZPMX&amp;#43;EUeDJ5i/wigpfl&amp;#43;z&amp;#43;NQf40f4qPy/Z/GoP8aP8VXfBk8xf4RR4MnmL/CKCl&amp;#43;X7P41B/jR/irxdvWhOBdQEngBLHv8A/dV7wZPMX&amp;#43;EUl5bQoLKc6VGEznAGN430CH3bbxFsOZYamlki3diLIhZj2LnSvpcUx2NcGABVGY8Doj4O7iv&amp;#43;lIPdA9&amp;#43;sbi7PB5II4e6JLhOkPntlu8Beypb/AG9BbyxRzsVMoJViOjuwME/TWXJvc0vh5W9t5VcakOR/vd3GpNNZ&amp;#43;0PBo2wT1jeCOrI4MKaw3h&amp;#43;Gp&amp;#43;cmSPpXiPtqcct&amp;#43;ouK3po015DMrjKMD6DnHp7DUuKuqj01427jXrOOqq8xqKlFdXJG5d3fSa6JO80xuKW3FZZ1piXzVVfjVqaqr8a5cmkfMH8p/nyfztRQ/lP8APk/naiu1g/S1FFFaKiiiigKyHuv/AN2S/Oj/AMxaZ8peU1tZAc&amp;#43;/TbyI0BeR/moN&amp;#43;O84HfWQ25b7T2nC5kj8GgGGSDotLNpIYByTiPPZnOR1dYNb3ja/tv8AwyVpbKs3CI7qFTG7IUbUjgHMcigqQ0belgVNXtk7WKuIbpRFKfIPGOYedG/b2ocMOwjfVpetI&amp;#43;2jY7qWXtWudqpeGrYztFJ9hH&amp;#43;yT/tLj72qWNs2kX7KP&amp;#43;RarbFb&amp;#43;y3H7S4&amp;#43;80WT5toh/wAqP&amp;#43;QVS&amp;#43;pMTLgKPkr91Vb98ioruTDD5q/cKnsLRpd53J29vcP9ahJT7mf/AB20fTB/lmvoFYnavJiVJmudmzGGYgB0bLRShRgB14g4HlCpdkctAJBb7TjNpOdyl98cvekvk7&amp;#43;wn/Sg1O0LtIYnkkbSiKWY9gUZNZPQ8It7qaOUySTPLMscckrRh4XWOMpGrHoAopOOOT1022x/aJ47Yb1XE03YVU&amp;#43;9oe5nGfQh7afYoEfjRB&amp;#43;qvPUb32VHjRB&amp;#43;qvPUb32VPBVHau0VgVSys7OwSNEALO5DNpGSAOirHJIGFO&amp;#43;go&amp;#43;NEH6q89RvfZUeNEH6q89RvfZVNBtqNmjVlkQyMyDWoGmRRq5tiCRqK5IIyCFODXEPKGBpY48sDNzhiJXCuIyqnB7y27PHG7qyHHjRB&amp;#43;qvPUb32VHjRB&amp;#43;qvPUb32VXINqRvo06um8iDIG4xFg5O/cuU4947ar2vKCCSF5gWCIxQgqdWrdpAQZLagylccQ4oI/GiD9Veeo3vsqPGiD9Veeo3vsqkG3UG6WKWNsoNLquSJG0qwKsVIzxGcjrFW7O/SUuI8kIdJfHRLDylVvhaeBI3A7s5BwFDxog/VXnqN77KqW2tr21zBJBLFe6JFKtixvQcHj&amp;#43;irVUUHzf3SdsQvs5ooo7hAGgC85a3MSgLLHga5Iwo3DrNSbZtLeaIR3KgoxABOei2OiwceQeoHI3nHXTP3Yv7sk/aQf50dU7zZqXCBSxjcDMbj4JIwVIO5lYbiDuOKx5PYvj5WetrXaGyzqiDXVnneoBaSMfMG8jfxHYcgbydVyW5a2N2dKShJM45uQhGJ&amp;#43;SGxq&amp;#43;is5Bt642c4ju00r8FwTzbD5Ln82fkPu7GxTa62Lsraoy6KJTxI97k9Pyx3jIPbVsf6itrJCjb2UE9R6/oYbxQd27JwO0k/ad9ZbkjyTlsZmIvJpYdOFik6Wk9urP2ACtLM&amp;#43;&amp;#43;rod6q5kNR66C9VSr3FLbimVxS24rLJeF81VX41amqq/GubJpHzB/Kf58n87UUP5T/AD5P52ortYP0tRRRWioooooPmXKq3L7aDK2h47RXjfjpbnWG8HiMEgjvrUbA22Jm5qZeanUb1z0ZF/WRN8Je0cVPEYwTmuVI/wD68n/Q9YLfpT8Ebz6BSfZ1&amp;#43;MCOcExjpI6k64vlq43vF8ryl4MMb6DfbX2KWczWzCOb4WfIlA&amp;#43;DIB19jDeO/hVS3vY7gNBcx6JB5cMuCd3w0YbnXrDqezgd1c7M27JCALoiWI&amp;#43;RcoM7uoSoOHz13HG8LTy&amp;#43;sYLqNSwDrxR1OCPlK67wfRQIzFcQfmSbiIfo3YCVQP1cjdGXq6LlT8o1PabWimyqsQ44xuCjr6Ubf/2qKW1u7btuohwIwsqDd5S7lm7cjSe41Q2htS3nKI0ayb8ENqSSM7h0RgOrb89XCrTLXquWk2yG/s0/7S4&amp;#43;81DsyT&amp;#43;zxD/lJ/IKs29kLe3ljViwPOsNRJIDZOCSSTjtqlydt3liiVB&amp;#43;jTJ6gNI3mqrNDb7K1vrk8nC6V7dw3nsFNwnUNwHAdldRJhQOwAfUK5nkVBlj/v0UBppPyja2eMxTxrKD8AgH7fg/fUW1tpuVYJ0Rg&amp;#43;k/TWThlZpVLHimaCT3ILlonnib8088qQksWK8ycCIsxyRo8n5pr6fXzPkBZNNaXgiIWVLyaSJjwEiNlc/JPknuY1qjt93it3t4lZ52KlJJDGI2VWaRWZUc6lKMvDiKDRUp5RWsksaiNI5MOGaOUlQygHyXAJRwcMDjqxuzkRc/tL4vaetTf01HP7S&amp;#43;L2nrU39NQUvyLK9nLDLp1OxaJTI8gixgqOeKhiQQTnG7OBnFWdpbDEsyHcsSQSRDG5kcvC8bKMY6PNE5z2VJz&amp;#43;0vi9p61N/TUc/tL4vaetTf01ArsNh3axMkjR85okRXVmxmad3kfBXcdAiwO0sOG89y8mZELCGTUrLG3vp4SQMpj3KvklcqTxGleNMef2l8XtPWpv6ajn9pfF7T1qb&amp;#43;moKu07G6ukKTLHGmqI6FkdidMgZ25wIunojAAHeSOq7sCwe31xDTzAOYAM6kU7zERjGlT5JzwOOrJ45/aXxe09am/pqOf2l8XtPWpv6agd0Uk5/aXxe09am/pq88J2jw5i0z/wBVN/TUCr3Yv7tk/aQf58dcwdXopd7qMt6dnuJ4rdE1w5Mc8kjD35MYVoVB346xTCHqrDm9jTBckt0lTRKoZT1Gkc/IVU6VlKYuvm2Akjz&amp;#43;zPk/uFactdRxAGVwoPDJ&amp;#43;mmcUgIBUggjII6x25qcL0iknJgXkUxju&amp;#43;b082WQxu7BsMozpkAKHDcMkb&amp;#43;6ntw&amp;#43;/wCgV4cZz1gYz3HBI&amp;#43;wfVUF0/S&amp;#43;gfdU2kiTXRrqtro11G06TSnNL7irWqqtxVckwvmqq/GrU1VX41zZNI&amp;#43;YP5T/Pk/naih/Kf58n87UV2sH6WoopByp5UQWQCtmSZ90cKdJ3Po6h3mtFTmeZUUs7BVHEsQAPpNdq2d43ivnz7DnvXWXbZZYuMdtETzcfYZWG92&amp;#43;z7q8t9m31hl9myNPbDObacnIHbFKd69wP/wA0EfL3NvtFLqZW8Gkh8HaRf0T6ywL43qDkYNIb3ZzQEHVqjY6kkDYBzuBLj81Nw6fkONzAHefoGxOUtptBXgkXRJjTLbzLpbfxGk7nG/iKzO1NiT7L1NArXFic64T0ngB4lM&amp;#43;XH8n/AGQvckxiAggZ1tn3sxnO7OpOGrtK9E8RxqWSBrfVLayCHrZGUvEx7WiBBX5yEHtzXHJua3aENavqiJJHSLac8UAJyoHm9XVV&amp;#43;VEdWSQZVhgignseU64HhSc0f1innIm7xIB0R84DHfTK82ba3ahnVJB8F1O8d6yKcqfQax0mwXQlrWUjtVj9mTnV&amp;#43;&amp;#43;H7sVQMjwsTLHJA54ywEx/SyZKN&amp;#43;9n0UGpveTVwFZbe6JVgRouE50DIxgSKVcfva6ebHsUt4UjGBpVQx7SFAJzWY2Jyim5xEeRJo3SRlkK824ZDGMOF6Lbn4gLw6800lu2bexoG0t0Pg/XS27Od5qDn65kmGN53DrNBSvRkN6DSGQJAolncIFXByQPtru52288hh2bH4RINzPwijPypOs9wq1Z&amp;#43;55M0iz3d0kso3hHh1xxn5EetQcd4P/egue44CbaeTSwSW5mkjLAjUjHKsAeoirV9avFtK3CqTFNJJLkcI5RC6v6A4wfTntpqLG9G4XUQH/S//dXvgV98bi9VPtqB1RSbwK&amp;#43;&amp;#43;NxerH21HgV98bi9WPtqBzRSbwK&amp;#43;&amp;#43;NxerH21HgV98bi9WPtqBzRSbwK&amp;#43;&amp;#43;NxerH21HgV98bi9WPtqBzRSbwK&amp;#43;&amp;#43;NxerH21HgV98bi9WPtqBzWO5WzSxXkM8ROIYpHlQfDhLosm7zlB5wd8eOunHgV98bi9WPtq8s9lzCbnp5lkIjaMKsXNjDMrEnptnyRQJfdccNst2UggvbkEdYM0ZBFEPVSfl571s6e0b9FJbmLPXC86aPTpIZP3R203jdRpBIBbcATxOM4HacVhzexpg52mkgKyRpzmFkjZBx0yFDqGeJBjAx2Mam5LQvFbqsgKnU5Cniqs7FV&amp;#43;gEburhVuI7q71Ul6R8P8AXyT6qq3j9L6B91d6qq3z9L6B91Rb0tI95yjnKr66NdU&amp;#43;SdLHOVxK2ai10a6bSrTVVfjVuaqj8axyWj5g/lP8&amp;#43;T&amp;#43;dqKH8p/nyfztRXawfWtscq5rlng2SAdJ0y3TKWji6joGPfHHZvG6p9gbAgtGLjF1NKvvk0japDnj0jkKh7Bjh11ieQmiFVg5x7W&amp;#43;QkOjArzm/I1Rt0ZB8ob8cDW4ttu81hblVgYsMSgZidjuAZv0ZO7ysb8YJrRU2htjp1Z1aPgc4cJ2gZ4HB6/srtWd2zCXQEdLUARnd5KngcdfD00PCjuDNoDNjTgHBxwGrg56wD9FdXUb4CuirpORIG06RwyOsHH0UCjlBsO0uVC3KuJU/NyLlZB8pHXeR29XaKXQ3&amp;#43;0dm7rgNe2o4SqPfY1&amp;#43;Wv6QDtG/jxrVECLBYM4fiwOpicbt3WMZ8nhXkccunJZ9A3hNxYjqBbr9H20GQOw7a8zebDuFilO91XyJDxIki&amp;#43;Cx7QB/3qtByiMUgh2jGbaXgC2&amp;#43;OTHWknDHcd4zvpvtXkzbzS89Yu9tdcTLEukZ82VMaWz2EZNVbzbxiXwblBbIY2OBcKheJ&amp;#43;wsMZif/AGKDLcpeS974Q93YXJDPhtGojqG4HerLu3AiotncvLi3Ii2tCw6g&amp;#43;gYPbwOD6UxWsPI541EuxrsCNuksMh52Jgd/QYHKD0Uu2jtd4QU2rZuiHcX0iaJuryhnH72DQd2V1bySwy2pHNus7buAYtFqGOreKdc7WVuNsWEJhaGSMRIkwAjI3EmIgaBvyd9MNm7Nv9o4KhrO2Pw2Hvsg&amp;#43;Qn6MHtO/soJdrcoY4WEahpZm3JDENTE94HkjvNWLDkjdXpD7TcxxcRaxMRn9rIN7egbq1XJrkza2KkW8YDN5cjdJ3&amp;#43;c53n0cKd0FPZthFAgjgjSNBwVAFH2dffVyiigKKK8oMxy1241uUWNwrKDM4K6tccZGYh2M4LAH5NWOeluZJBDOYkRYyhVI21l11hm1g9DBAwMHjvpulqgdpAvTcKrHtC5wPRvP10vbk7b4UKroFXR0JJEygJIRtLDUoycA8M7qBPc7emExh1ABmhXnwoMcfORk5B&amp;#43;EzuMKDkAsueIB1sYwAM57zjf37qpHZMGl00DRIqqy78FVXSoA6sAdVXIk0gKM4AA3nPDvPGglooooCiiigKKKKDA&amp;#43;7Ts8PZiYEq0ckanHw43ljBQ92oI3pXvrjaiAxgNGZEyNQUkMoxudMb9QPYQeyq3uyTtLbyKrYjt2heU9TSPIiohPYqFmI7WSrs0POopSQqRhkdTu4dY4OpzwP31jy&amp;#43;xpgjs790QMSZouqVBl1xuIdBxIPWN/aKZWt0kqh42DKetTnf2dx7qQOdEmXPg8rHGsb4pjuA1A7tfpw3YSK6uVVW1zxvE/XNBqw2PPCjJA&amp;#43;WpA7azWaLVVW/bpfur91VdlTFxqEySx46LKFznvKnB&amp;#43;oVJtBun&amp;#43;6v3VXK9Ec66NdQ5ozWe19JtdGuq0sqqCzEKo3kkgADtJPClNvtO4vGMezIucwcNO&amp;#43;VjT974Z7hV8ZcvFbZPTbaN7FCheZ1RR1scfR3mlez0vdo/8GnMwH/1Eq&amp;#43;UO2KM&amp;#43;V847q0mwuQUSOJr5zdTDeC497Q/Ii4D6a2YrfHik7rO536Ymy9zOyVAJGldt5Zy&amp;#43;NRJJJwBu3mitxRWyhRyi5PW16mi5jDY8luDIe1WG8GsXfbOv9nA9Fr&amp;#43;04EYBljXHWv6Zft&amp;#43;&amp;#43;vpdeUHzrk7dRyxk7NlRox5dtLnSvyQp6UJz2Ar3VoNl7ZBbmiCkuM8xKQGK9Zik8mVfQTjrxXnKPkfBcvz0Ra3uR5M0WFb0MODjtBrMbTv57Yc1tmASQg9C7iUsoI4MyjpRN3j7aDbLzShniCq67ir5GnJ8kD4Oe7ce&amp;#43;vViLvlve9QxgPvfHaBu4dY3&amp;#43;is9Y7QkQLJEReQ46JBQyoD1pId0ox1HB3cSacWN/HdISsiMinp5VldD5rRkZRhnj6KCzK5/NqrhlPRKEEY6iSeG7qP0ZrqZQAfCTrVhhsoCgHYV34B7TXocJhYlV1YE6Qw1HtbJ3MPSa4WMRgGQkkZIQMSF&amp;#43;ved3bQZc8m5LctPseXmVzloJc8zJ3rnfHnzh9taLkVtzw&amp;#43;1ScpoLalZM6gCpwcHrFZjlbynRHEZLSSnyIYgWY9nRHAd5p17l&amp;#43;zJrawjjuF0SanYrkEqGbIBxuzigtXvI7Z8kgla2RZAch0zGQe3KY399WPF6Hz7j1q49pTiigT&amp;#43;L0Pn3HrNx7Sjxeh8&amp;#43;49ZuPaU4ooE/i9D59x6zce0o8XofPuPWbj2lOKKBP4vQ&amp;#43;fces3HtKPF6Hz7j1m49pTiigT&amp;#43;L0Pn3HrNx7Sjxeh8&amp;#43;49ZuPaU4ooE/i9D59x6zce0o8XofPuPWbj2lOKKBP4vQ&amp;#43;fces3HtKPF6Hz7j1m49pTiigT&amp;#43;L0Pn3HrNx7Sjxeh8&amp;#43;49ZuPaU4ooE/i9D59x6zce0pTfSpYzlw8rJ4O7aHmlk1yc5GsaqHY9NmYKMedWupFtTYnPXkE7t0IVc6N/SckaGPUQu847dJ6qCbZWygLcx3AV2k1NNkZDO&amp;#43;9hv4qPJHcBWG2lsybZJLRK81iTkquWkts93Fovur6fXhFRZLNVMumEs7qC5i1RsksbjB4MD2qQftBqFbBo/zEhUeY&amp;#43;XX6MnUo7gcVf27yGRpDPs&amp;#43;Q2sx8oKMxyfPj4fSN&amp;#43;&amp;#43;kM&amp;#43;0r203bQs30j9Nb&amp;#43;&amp;#43;oe8qOkv0geisMuOzxpMpfTOyRtbNJEiORvkQg69/AnAb6811tI9MfNX7qqbO5QWs35qaMnzSdLD0o2GH1VU5R7aijlEaBpZSq6YohrY7hxx5I7zWWUyvUi0si7qpPLtsySczYxtczcMR&amp;#43;Qh&amp;#43;XJ5Kj6aZ7L5G3V509pNzMR4W8TdIjskkHD0L9fVW92TsyG2jEdvGsaDqUY&amp;#43;knrPprTDg&amp;#43;8lcs/wBMZsrkC0xWTasvOkbxAhIiX09ch7zW6toEjULGoVV3BVAAA7gKmorokk6jLb2iiipBRRRQFFFFAVHLGGBVgCDuIIyCOwipKKDDbW5EGJ2m2VIIJCctE2TFIe9fgHhvH1Uj/KgEyx38b2V2NySg9GT5kvBxu8lq&amp;#43;q1R2vs2G4j5ueNZEbiGGfq7KDFx8rRDHMLlo0aOTQZFXTzgKRyAhBnpe&amp;#43;Y3dYyONVbP8pbS3wA2lseMsozJIPkR/Bz2k/6U75Pe5/YW8rShXkYN0OebnBHuAwoI7ABk5OAN9bCgRcmeTFtZD3lMyHy5XOp3PWWc79/dT6iigKKKKAooooCiiigKKKKAooooCiiigKKKKAooooCiiigKKKKArzFe0UCXanJexuPz9tG57Sgz9YrvYHJ20s1ItYUjzvJAyT6WO/FN6KDzFe0UUBRRRQFFFFAUUUUH/9k="
loading="lazy"
alt="Three-Way Handshake - an overview | ScienceDirect Topics"
>&lt;/p>
&lt;p>This handshake step happens after a &lt;strong>DNS lookup&lt;/strong> and before the &lt;strong>TLS handshake&lt;/strong>, which creating a secure connection. The connection can be terminated independently by each side of the connection via a four-way handshake.&lt;/p>
&lt;h4 id="tlstransport-layer-security-negotiation">TLS(Transport Layer Security) Negotiation
&lt;/h4>&lt;p>This step determines which &lt;strong>cipher&lt;/strong> will be used to encrypt the communication, verifies the server, and &lt;strong>establishes that a secure connection&lt;/strong> is in place before beginning the actual transfer of data. This requires three more round trips to the server before the request for content is actually sent.&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120160737102.png"
loading="lazy"
alt="image-20220120160737102"
>&lt;/p>
&lt;p>(The DNS lookup, the TCP handshake, and 5 steps of the TLS handshake including clienthello, serverhello and certificate, clientkey and finished for both server and client)&lt;/p>
&lt;p>While making the connection secure adds time to the page load, a secure connection is worth the latency expense, as the data transmitted between the browser and the web server cannot be decrypted by a third party.&lt;/p>
&lt;p>After the 8 round trips, the browser is finally able to make the request.&lt;/p>
&lt;h4 id="ttfbtime-to-first-byte">TTFB(Time to First Byte)
&lt;/h4>&lt;p>TTFB refers to the &lt;strong>time&lt;/strong> between the browser requesting a page and when it receives &lt;strong>the first byte of information&lt;/strong> from the server. This time includes&lt;/p>
&lt;ul>
&lt;li>DNS lookup&lt;/li>
&lt;li>establishing the connection using a TCP handshake&lt;/li>
&lt;li>SSL handshake(if the request is made over https)&lt;/li>
&lt;/ul>
&lt;h4 id="tcp-slow-start--14kb-rule">TCP Slow Start / 14kb rule
&lt;/h4>&lt;p>The first response packet will be 14Kb. This is part of &lt;strong>TCP slow start&lt;/strong>, an &lt;strong>algorithm&lt;/strong> which balances the speed of a network connection. Slow start gradually increases the amount of data transmitted until the network&amp;rsquo;s &lt;strong>maximum bandwidth&lt;/strong> can be determined.&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120161834945.png"
loading="lazy"
alt="image-20220120161834945"
>&lt;/p>
&lt;p>As the server sends data in TCP packets, the user&amp;rsquo;s client confirms delivery by returning acknowledgements, or ACKs. If the server sends too many packets too quickly, they will be dropped. Meaning, there will be no acknowledgement.&lt;/p>
&lt;h3 id="critical-rendering-path">Critical Rendering Path
&lt;/h3>&lt;h4 id="parsing">Parsing
&lt;/h4>&lt;p>Once the browser receives the first chunk of data, it can begin parsing the information received. Parsing is the step the browser takes to turn the data it receives over the network into the DOM and CSSOM, which is used by the renderer to paint a page to the screen.&lt;/p>
&lt;p>It&amp;rsquo;s important for web performance optimization to include everything the browser needs to &lt;strong>start rendering a page&lt;/strong>, or at least a &lt;strong>template of the page&lt;/strong> - the CSS and HTML needed for the first render &amp;ndash; in the &lt;strong>first 14 kilobytes&lt;/strong>.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Building the DOM tree&lt;/p>
&lt;p>The &lt;strong>first&lt;/strong> step is processing the HTML markup and building the DOM tree. HTML parsing involves &lt;strong>tokenization&lt;/strong> and &lt;strong>tree construction&lt;/strong>. HTML tokens include start and end tags, as well as attribute names and values. If the document is well-formed, parsing it is straightforward and faster. The parser parses tokenized input into the document, building up the document tree.&lt;/p>
&lt;p>When the parser finds &lt;strong>non-blocking&lt;/strong> resources, such as an image, the browser will request those resources and continue parsing. Parsing can continue when a &lt;strong>CSS file is encountered&lt;/strong>, but &lt;code>&amp;lt;script&amp;gt;&lt;/code> tags—particularly those without an async or defer attribute—&lt;strong>block rendering&lt;/strong>, and pause the parsing of HTML. Though the browser&amp;rsquo;s preload scanner hastens this process, excessive scripts can still be a significant bottleneck.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Preload Scanner&lt;/p>
&lt;p>While the browser builds the DOM tree, this process occupies &lt;strong>the main thread&lt;/strong>. As this happens, the &lt;em>preload scanner&lt;/em> will parse through the content available and request &lt;strong>high priority resources&lt;/strong> like CSS, JavaScript, and web fonts.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Building the CSSOM&lt;/p>
&lt;p>The &lt;strong>second&lt;/strong> step in the critical rendering path is processing CSS and building the CSSOM tree. The CSS object model is &lt;strong>similar&lt;/strong> to the DOM. The DOM and CSSOM are both trees. They are independent data structures. The browser converts the CSS rules into a map of styles it can understand and work with. The browser goes through each rule set in the CSS, creating a tree of nodes with parent, child, and sibling relationships based on the CSS selectors.&lt;/p>
&lt;p>As with HTML, the browser needs to convert the received CSS rules into something it can work with. Hence, it &lt;strong>repeats the HTML-to-object process&lt;/strong>, but for the CSS.&lt;/p>
&lt;p>The CSSOM tree includes styles from the user agent style sheet. The browser begins with the most general rule applicable to a node and recursively refines the computed styles by applying more specific rules. In other words, it &lt;strong>cascades&lt;/strong> the property values.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Other Processes&lt;/p>
&lt;ul>
&lt;li>JavaScript Compilation&lt;/li>
&lt;/ul>
&lt;p>While the CSS is being parsed and the CSSOM is created, other assets, including JavaScript files, are downloading (thanks to the preload scanner). JavaScript is interpreted, compiled, parsed and executed. The scripts are parsed into &lt;strong>abstract syntax trees&lt;/strong>. Some browser engines take the Abstract Syntax Tree and pass it into an interpreter, outputting bytecode which is executed on the main thread. This is known as JavaScript compilation.&lt;/p>
&lt;ul>
&lt;li>Building the Accessibility Tree&lt;/li>
&lt;/ul>
&lt;p>The &lt;strong>accessibility object model (AOM)&lt;/strong> is like a semantic version of the DOM. The browser updates the accessibility tree when the DOM is updated. The accessibility tree is not modifiable by assistive technologies themselves. Until the AOM is built, the content is not accessible to &lt;strong>screen readers&lt;/strong>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="render">Render
&lt;/h4>&lt;p>Rendering steps include style, layout, paint and, in some cases, compositing. The CSSOM and DOM trees created in the parsing step are combined into a &lt;strong>render tree&lt;/strong> which is then used to compute the layout of every visible element, which is then painted to the screen. In some cases, content can be promoted to their own layers and composited, improving performance by painting portions of the screen on the GPU instead of the CPU, freeing up the main thread.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Style&lt;/p>
&lt;p>The &lt;strong>third&lt;/strong> step in the critical rendering path is &lt;strong>combining the DOM and CSSOM into a render tree&lt;/strong>. The computed style tree, or render tree, construction starts with the root of the DOM tree, traversing each visible node.&lt;/p>
&lt;ul>
&lt;li>tags that aren&amp;rsquo;t going to be displayed are not included in the render tree&lt;/li>
&lt;li>Nodes with &lt;code>visibility: hidden&lt;/code> applied are included in the render tree, as they do take up space.&lt;/li>
&lt;li>As we have not given any directives to override the user agent default, the &lt;strong>script node&lt;/strong> will not be included in the render tree.&lt;/li>
&lt;/ul>
&lt;p>Each visible node has its CSSOM rules applied to it. The render tree holds all the visible nodes with content and computed styles &amp;ndash; matching up all the relevant styles to every visible node in the DOM tree, and determining, based on the CSS cascade, what the computed styles are for each node.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Layout&lt;/p>
&lt;p>The &lt;strong>fourth step&lt;/strong> in the critical rendering path is &lt;strong>running layout on the render tree to compute the geometry of each node.&lt;/strong>&lt;/p>
&lt;p>Once the render tree is built, layout &lt;strong>commences&lt;/strong>. The render tree identified which nodes are displayed (even if invisible) along with their computed styles, but &lt;strong>not the dimensions or location&lt;/strong> of each node. To determine the exact size and location of each object, the browser starts at the &lt;strong>root&lt;/strong> of the render tree and traverses it.&lt;/p>
&lt;p>The btime the size and position of nodes are determined is called &lt;strong>layout&lt;/strong>. &lt;strong>Subsequent&lt;/strong> recalculations of node size and locations are called &lt;strong>reflows&lt;/strong>. Suppose the initial layout occurs before the image is returned. If the size of a image is not declared, there will be a reflow once the image size is known.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Paint&lt;/p>
&lt;p>The &lt;strong>last&lt;/strong> step in the critical rendering path is &lt;strong>painting the individual nodes to the screen&lt;/strong>, the first occurrence of which is called the first meaningful paint.&lt;/p>
&lt;p>In the painting or rasterization phase, the browser converts each box calculated in the layout phase to actual pixels on the screen. Painting involves drawing every visual part of an element to the screen, including text, colors, borders, shadows, and replaced elements like buttons and images. The browser needs to do this super quickly.&lt;/p>
&lt;p>To ensure smooth scrolling and animation, everything &lt;strong>occupying the main thread&lt;/strong>, including calculating styles, along with reflow and paint, must take the browser less than 16.67ms to accomplish.&lt;/p>
&lt;p>To ensure repainting can be done even faster than the initial paint, the drawing to the screen is generally broken down into &lt;strong>several layers&lt;/strong>. If this occurs, then &lt;strong>compositing&lt;/strong> is necessary.&lt;/p>
&lt;p>Painting can break the elements in the layout tree into layers. Promoting content into layers on the GPU (instead of the main thread on the CPU) improves paint and repaint performance. There are &lt;strong>specific properties and elements that instantiate a layer&lt;/strong>, including &lt;video> and &lt;canvas>, and any element which has the CSS properties of opacity, a 3D transform, will-change, and a few others. These nodes will be painted onto their own layer, along with their descendants, unless a descendant necessitates its own layer for one (or more) of the above reasons.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Compositing&lt;/p>
&lt;p>When sections of the document are drawn in different layers, overlapping each other, compositing is necessary to ensure they are drawn to the screen &lt;strong>in the right order&lt;/strong> and the content is rendered correctly.&lt;/p>
&lt;p>As the page continues to load assets, reflows can happen. A reflow sparks a repaint and a re-composite. Only the layer that needed to be repainted would be repainted, and composited if necessary.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="interactivity">Interactivity
&lt;/h3>&lt;p>Once the main thread is done &lt;strong>painting&lt;/strong> the page, you would think we would be &amp;ldquo;all set.&amp;rdquo; That isn&amp;rsquo;t necessarily the case. If the load includes JavaScript, that was correctly deferred, and only executed after the onload event fires, the main thread might be busy, and not available for scrolling, touch, and other interactions.&lt;/p>
&lt;h5 id="ttitime-to-interactive">TTI(Time to Interactive)
&lt;/h5>&lt;p>TTI is the measurement of how long it took from that &lt;strong>first request&lt;/strong> which led to the DNS lookup to when the &lt;strong>page is interactive&lt;/strong>.&lt;/p></description></item><item><title>【Vue】Guide</title><link>https://dyhes.github.io/p/vueguide/</link><pubDate>Sat, 08 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/vueguide/</guid><description>&lt;h2 id="create-an-application">Create an Application
&lt;/h2>&lt;p>Every Vue application starts by creating a new &lt;strong>application instance&lt;/strong> with the &lt;a class="link" href="https://vuejs.org/api/application.html#createapp" target="_blank" rel="noopener"
>&lt;code>createApp&lt;/code>&lt;/a> function.&lt;/p>
&lt;p>The object we are passing into &lt;code>createApp&lt;/code> is in fact a component. Every app requires a &amp;ldquo;root component&amp;rdquo; that can contain other components as its children.&lt;/p>
&lt;p>An application instance won&amp;rsquo;t render anything until its &lt;code>.mount()&lt;/code> method is called. It expects a &amp;ldquo;container&amp;rdquo; argument, which can either be an actual DOM element or a selector string&lt;/p>
&lt;p>You are not limited to a single application instance on the same page. The &lt;code>createApp&lt;/code> API allows multiple Vue applications to co-exist on the same page, each with its own scope for configuration and global assets&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createApp&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* ... */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#container-1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createApp&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* ... */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#container-2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you are using Vue to enhance server-rendered HTML and only need Vue to control specific parts of a large page, avoid mounting a single Vue application instance on the entire page. Instead, create multiple small application instances and mount them on the elements they are responsible for.&lt;/p>
&lt;h2 id="template-syntax">Template Syntax
&lt;/h2>&lt;p>The double mustaches interprets the data as plain text, not HTML. In order to output real HTML, you will need to use the &lt;a class="link" href="https://vuejs.org/api/built-in-directives.html#v-html" target="_blank" rel="noopener"
>&lt;code>v-html&lt;/code> directive&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Using&lt;/span> &lt;span class="nx">text&lt;/span> &lt;span class="nx">interpolation&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{{&lt;/span> &lt;span class="nx">rawHtml&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Using&lt;/span> &lt;span class="nx">v&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">html&lt;/span> &lt;span class="nx">directive&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="nt">v-html&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;rawHtml&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="dynamically-binding-multiple-attributes">dynamically binding multiple attributes
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">objectOfAttrs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;container&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">class&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;wrapper&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="nt">v-bind&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;objectOfAttrs&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">objectOfAttrs&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="kr">short&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="directives">Directives
&lt;/h3>&lt;p>Directives are special attributes with the &lt;code>v-&lt;/code> prefix. Vue provides a number of &lt;a class="link" href="https://vuejs.org/api/built-in-directives.html" target="_blank" rel="noopener"
>built-in directives&lt;/a>&lt;/p>
&lt;p>It is also possible to use a JavaScript expression in a directive argument by wrapping it with square brackets.&lt;/p>
&lt;h4 id="dynamic-arguments">Dynamic arguments
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-bind:[attributeName]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;url&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">shorthand&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="nt">:[attributeName]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;url&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Dynamic arguments are expected to evaluate to a string, with the exception of &lt;code>null&lt;/code>. The special value &lt;code>null&lt;/code> can be used to explicitly remove the binding. Any other non-string value will trigger a warning.&lt;/p>
&lt;h3 id="modifiers">Modifiers
&lt;/h3>&lt;p>Modifiers are special postfixes denoted by a dot, which indicate that a directive should be bound in some special way. For example, the &lt;code>.prevent&lt;/code> modifier tells the &lt;code>v-on&lt;/code> directive to call &lt;code>event.preventDefault()&lt;/code> on the triggered event.&lt;/p>
&lt;p>&lt;img src="https://vuejs.org/assets/directive.69c37117.png"
loading="lazy"
alt="directive syntax graph"
>&lt;/p>
&lt;h2 id="reactivity">Reactivity
&lt;/h2>&lt;p>We can create a reactive object or array with the &lt;a class="link" href="https://vuejs.org/api/reactivity-core.html#reactive" target="_blank" rel="noopener"
>&lt;code>reactive()&lt;/code>&lt;/a>, and non-object by the &lt;code>ref()&lt;/code>.&lt;/p>
&lt;p>When you mutate reactive state, the DOM is updated automatically. However, it should be noted that the DOM updates are not applied synchronously. Instead, Vue buffers them until the &amp;ldquo;next tick&amp;rdquo; in the update cycle to ensure that each component needs to update only once no matter how many state changes you have made.&lt;/p>
&lt;p>To wait for the DOM update to complete after a state change, you can use the &lt;a class="link" href="https://vuejs.org/api/general.html#nexttick" target="_blank" rel="noopener"
>nextTick()&lt;/a> global API&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">nextTick&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">++&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nextTick&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// access updated DOM
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="reactive-proxy">Reactive Proxy
&lt;/h3>&lt;p>It is important to note that the returned value from &lt;code>reactive()&lt;/code> is a &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener"
>Proxy&lt;/a> of the original object, which is not equal to the original object.&lt;/p>
&lt;p>Only the proxy is reactive - mutating the original object will not trigger updates.&lt;/p>
&lt;p>To ensure consistent access to the proxy, calling &lt;code>reactive()&lt;/code> on the same object always returns &lt;strong>the same proxy&lt;/strong>, and calling &lt;code>reactive()&lt;/code> on an existing proxy also returns &lt;strong>that&lt;/strong> &lt;strong>same proxy&lt;/strong>&lt;/p>
&lt;h3 id="ref">Ref
&lt;/h3>&lt;p>The &lt;code>reactive()&lt;/code> API has two limitations:&lt;/p>
&lt;ul>
&lt;li>It only works for object types&lt;/li>
&lt;li>we couldn&amp;rsquo;t pass it around without losing reactivity.&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ref()&lt;/code> allows us to create a &amp;ldquo;reference&amp;rdquo; to any value and pass it around without losing reactivity.&lt;/p>
&lt;p>When refs are accessed as &lt;strong>top-level properties&lt;/strong> in the template, they are automatically &amp;ldquo;unwrapped&amp;rdquo; so there is no need to use &lt;code>.value&lt;/code>.&lt;/p>
&lt;h2 id="computed-properties">Computed Properties
&lt;/h2>&lt;p>For complex logic that includes reactive data, it is recommended to use a &lt;strong>computed property&lt;/strong>.&lt;/p>
&lt;p>The &lt;code>computed()&lt;/code> function expects to be passed a getter function, and the returned value is a &lt;strong>computed ref&lt;/strong>.&lt;/p>
&lt;p>A computed property automatically tracks its reactive dependencies.&lt;/p>
&lt;p>Instead of a computed property, we can define the same function as a method. For the end result, the two approaches are indeed &lt;strong>exactly the same&lt;/strong>. However, the difference is that &lt;strong>computed properties are cached based on their reactive dependencies.&lt;/strong> A computed property will only re-evaluate when &lt;strong>some of its reactive dependencies have changed&lt;/strong>. This means as long as &lt;code>author.books&lt;/code> has not changed, multiple access to &lt;code>publishedBooksMessage&lt;/code> will immediately return the previously computed result without having to run the getter function again. In comparison, a method invocation will &lt;strong>always&lt;/strong> run the function whenever a re-render happens.&lt;/p>
&lt;p>This also means the following computed property will never update, because &lt;code>Date.now()&lt;/code> is not a reactive dependency.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">now&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="setter">setter
&lt;/h3>&lt;p>Computed properties are by default getter-only. If you attempt to assign a new value to a computed property, you will receive a runtime warning. In the rare cases where you need a &amp;ldquo;writable&amp;rdquo; computed property, you can create one by providing both a getter and a setter:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">computed&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">firstName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;John&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">lastName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Doe&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fullName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// getter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">get&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// setter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">newValue&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Note: we are using destructuring assignment syntax here.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">newValue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now when you run &lt;code>fullName.value = 'John Doe'&lt;/code>, the setter will be invoked and &lt;code>firstName&lt;/code> and &lt;code>lastName&lt;/code> will be updated accordingly.&lt;/p>
&lt;h2 id="class-and-style-bindings">Class and Style Bindings
&lt;/h2>&lt;p>Vue provides special enhancements when &lt;code>v-bind&lt;/code> is used with &lt;code>class&lt;/code> and &lt;code>style&lt;/code>. In addition to strings, the expressions can also evaluate to objects or arrays.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{ active: isActive }&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The above syntax means the presence of the &lt;code>active&lt;/code> class will be determined by the &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy" target="_blank" rel="noopener"
>truthiness&lt;/a> of the data property &lt;code>isActive&lt;/code>. We can also bind to a &lt;a class="link" href="https://vuejs.org/guide/essentials/computed.html" target="_blank" rel="noopener"
>computed property&lt;/a> that returns an object.&lt;/p>
&lt;p>We can bind &lt;code>:class&lt;/code> to an array to apply a list of classes&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;[isActive ? activeClass : &amp;#39;&amp;#39;, errorClass]&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;[{ active: isActive }, errorClass]&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="with-components">With Components
&lt;/h3>&lt;p>When you use the &lt;code>class&lt;/code> attribute on a component with a &lt;strong>single root element&lt;/strong>, those classes will be added to the component&amp;rsquo;s root element, and merged with any existing class already on it.&lt;/p>
&lt;p>If your component has &lt;strong>multiple root elements&lt;/strong>, you would need to define which element will receive this class. You can do this using the &lt;code>$attrs&lt;/code> component property&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="nt">:class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$attrs.class&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hi&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">This&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="nx">child&lt;/span> &lt;span class="nx">component&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="conditional-rendering">Conditional Rendering
&lt;/h2>&lt;p>&lt;code>v-if&lt;/code>,&lt;code>v-else-if&lt;/code> and &lt;code>v-else&lt;/code> can be used to attain conditional rendering and they also work for &lt;code>&amp;lt;template&amp;gt;&lt;/code>.&lt;/p>
&lt;p>The difference is that an element with &lt;code>v-show&lt;/code> will always be rendered and remain in the DOM; &lt;code>v-show&lt;/code> only toggles the &lt;code>display&lt;/code> CSS property of the element.&lt;/p>
&lt;p>&lt;code>v-show&lt;/code> doesn&amp;rsquo;t support the &lt;code>&amp;lt;template&amp;gt;&lt;/code> element, nor does it work with &lt;code>v-else&lt;/code>.&lt;/p>
&lt;p>Generally speaking, &lt;code>v-if&lt;/code> has higher toggle costs while &lt;code>v-show&lt;/code> has higher initial render costs. So prefer &lt;code>v-show&lt;/code> if you need to toggle something very often, and prefer &lt;code>v-if&lt;/code> if the condition is unlikely to change at runtime.&lt;/p>
&lt;p>It&amp;rsquo;s &lt;strong>not&lt;/strong> recommended to use &lt;code>v-if&lt;/code> and &lt;code>v-for&lt;/code> on the same element due to implicit precedence. Refer to &lt;a class="link" href="https://vuejs.org/style-guide/rules-essential.html#avoid-v-if-with-v-for" target="_blank" rel="noopener"
>style guide&lt;/a> for details.&lt;/p>
&lt;p>When &lt;code>v-if&lt;/code> and &lt;code>v-for&lt;/code> are both used on the same element, &lt;code>v-if&lt;/code> will be evaluated first.&lt;/p>
&lt;h2 id="list-rendering">List Rendering
&lt;/h2>&lt;p>For nested &lt;code>v-for&lt;/code>, scoping also works similar to nested functions. Each &lt;code>v-for&lt;/code> scope has access to parent scopes.&lt;/p>
&lt;p>Similar to template &lt;code>v-if&lt;/code>, you can also use a &lt;code>&amp;lt;template&amp;gt;&lt;/code> tag with &lt;code>v-for&lt;/code> to render a block of multiple elements.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="nt">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item in items&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">msg&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;divider&amp;#34;&lt;/span> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;presentation&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>When they exist on the same node, &lt;code>v-if&lt;/code> has a higher priority than &lt;code>v-for&lt;/code>. That means the &lt;code>v-if&lt;/code> condition will not have access to variables from the scope of the &lt;code>v-for&lt;/code>&lt;/p>
&lt;p>This can be fixed by moving &lt;code>v-for&lt;/code> to a wrapping &lt;code>&amp;lt;template&amp;gt;&lt;/code> tag (which is also more explicit):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="nt">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo in todos&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;!todo.isComplete&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="na">todo.name&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To give Vue a hint so that it can track each node&amp;rsquo;s identity, and thus reuse and reorder existing elements, you need to provide a unique &lt;code>key&lt;/code> attribute for each item&lt;/p>
&lt;p>When using &lt;code>&amp;lt;template v-for&amp;gt;&lt;/code>, the &lt;code>key&lt;/code> should be placed on the &lt;code>&amp;lt;template&amp;gt;&lt;/code> container&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="nt">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo in todos&amp;#34; :key=&amp;#34;todo.name&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">todo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="with-components-1">with Components
&lt;/h3>&lt;p>You can directly use &lt;code>v-for&lt;/code> on a component, like any normal element (don&amp;rsquo;t forget to provide a &lt;code>key&lt;/code>).&lt;/p>
&lt;p>However, this won&amp;rsquo;t automatically pass any data to the component, because components have isolated scopes of their own. In order to pass the iterated data into the component, we should also use props.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">my-component&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(item, index) in items&amp;#34;&lt;/span>&lt;span class="p">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&lt;/span> &lt;span class="nt">:item&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">:index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;index&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item.id&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">my-component&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="array-change">Array Change
&lt;/h3>&lt;p>Vue wraps an observed array&amp;rsquo;s mutation methods so they will also trigger view updates. The wrapped methods are:&lt;/p>
&lt;ul>
&lt;li>&lt;code>push()&lt;/code>&lt;/li>
&lt;li>&lt;code>pop()&lt;/code>&lt;/li>
&lt;li>&lt;code>shift()&lt;/code>&lt;/li>
&lt;li>&lt;code>unshift()&lt;/code>&lt;/li>
&lt;li>&lt;code>splice()&lt;/code>&lt;/li>
&lt;li>&lt;code>sort()&lt;/code>&lt;/li>
&lt;li>&lt;code>reverse()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>There are also non-mutating methods, e.g. &lt;code>filter()&lt;/code>, &lt;code>concat()&lt;/code> and &lt;code>slice()&lt;/code>, which do not mutate the original array but &lt;strong>always return a new array&lt;/strong>. When working with non-mutating methods, we should replace the old array with the new one.&lt;/p>
&lt;p>Be careful with &lt;code>reverse()&lt;/code> and &lt;code>sort()&lt;/code> in a computed property! These two methods will mutate the original array, which should be avoided in computed getters. Create a copy of the original array before calling these methods.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">numbers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reverse&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">//wrong
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="nx">numbers&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">reverse&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">//true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="event-handling">Event Handling
&lt;/h2>&lt;p>We can use the &lt;code>v-on&lt;/code> directive, which we typically shorten to the &lt;code>@&lt;/code> symbol, to listen to DOM events and run some JavaScript when they&amp;rsquo;re triggered.&lt;/p>
&lt;p>The handler value can be one of the following:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Inline handlers:&lt;/strong> Inline JavaScript to be executed when the event is triggered (similar to the native &lt;code>onclick&lt;/code> attribute).&lt;/li>
&lt;li>&lt;strong>Method handlers:&lt;/strong> A property name or path that points to a method defined on the component.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;count++&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Add&lt;/span> &lt;span class="na">1&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Count&lt;/span> &lt;span class="nx">is&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The template compiler detects method handlers by checking whether the &lt;code>v-on&lt;/code> value string is a valid JavaScript identifier or property access path.&lt;/p>
&lt;p>Sometimes we also need to access the original DOM event in an inline handler. You can pass it into a method using the special &lt;code>$event&lt;/code> variable, or use an inline arrow function.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;warn(&amp;#39;Form cannot be submitted yet.&amp;#39;, $event)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Submit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">using&lt;/span> &lt;span class="nx">inline&lt;/span> &lt;span class="nx">arrow&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(event) =&amp;gt; warn(&amp;#39;Form cannot be submitted yet.&amp;#39;, event)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Submit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="event-modifiers">Event Modifiers
&lt;/h3>&lt;p>Recall that modifiers are directive postfixes denoted by a dot.&lt;/p>
&lt;ul>
&lt;li>&lt;code>.stop&lt;/code>&lt;/li>
&lt;li>&lt;code>.prevent&lt;/code>&lt;/li>
&lt;li>&lt;code>.self&lt;/code>&lt;/li>
&lt;li>&lt;code>.capture&lt;/code>&lt;/li>
&lt;li>&lt;code>.once&lt;/code>&lt;/li>
&lt;li>&lt;code>.passive&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">click&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="nx">propagation&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">be&lt;/span> &lt;span class="nx">stopped&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="nt">@click.stop&lt;/span>&lt;span class="s">=&amp;#34;doThis&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">submit&lt;/span> &lt;span class="nx">event&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">no&lt;/span> &lt;span class="nx">longer&lt;/span> &lt;span class="nx">reload&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">page&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="nt">@submit.prevent&lt;/span>&lt;span class="s">=&amp;#34;onSubmit&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">modifiers&lt;/span> &lt;span class="nx">can&lt;/span> &lt;span class="nx">be&lt;/span> &lt;span class="nx">chained&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">and&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">order&lt;/span> &lt;span class="nx">matters&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="nt">@click.stop.prevent&lt;/span>&lt;span class="s">=&amp;#34;doThat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">just&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">modifier&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">submit.prevent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">only&lt;/span> &lt;span class="nx">trigger&lt;/span> &lt;span class="nx">handler&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="nx">itself&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="nx">not&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="nx">child&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="nt">@click.self&lt;/span>&lt;span class="s">=&amp;#34;doThat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;...&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>.capture&lt;/code>, &lt;code>.once&lt;/code>, and &lt;code>.passive&lt;/code> modifiers mirror the &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters" target="_blank" rel="noopener"
>options of the native &lt;code>addEventListener&lt;/code> method&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">use&lt;/span> &lt;span class="nx">capture&lt;/span> &lt;span class="nx">mode&lt;/span> &lt;span class="nx">when&lt;/span> &lt;span class="nx">adding&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">event&lt;/span> &lt;span class="nx">listener&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span> &lt;span class="nx">an&lt;/span> &lt;span class="nx">event&lt;/span> &lt;span class="nx">targeting&lt;/span> &lt;span class="nx">an&lt;/span> &lt;span class="nx">inner&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">handled&lt;/span> &lt;span class="nx">here&lt;/span> &lt;span class="nx">before&lt;/span> &lt;span class="nx">being&lt;/span> &lt;span class="nx">handled&lt;/span> &lt;span class="nx">by&lt;/span> &lt;span class="nx">that&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="nt">@click.capture&lt;/span>&lt;span class="s">=&amp;#34;doThis&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;...&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">click&lt;/span> &lt;span class="nx">event&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">be&lt;/span> &lt;span class="nx">triggered&lt;/span> &lt;span class="nx">at&lt;/span> &lt;span class="nx">most&lt;/span> &lt;span class="nx">once&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="nt">@click.once&lt;/span>&lt;span class="s">=&amp;#34;doThis&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">scroll&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">behavior&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">scrolling&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">happen&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">immediately&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">instead&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">waiting&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="sb">`onScroll`&lt;/span> &lt;span class="nx">to&lt;/span> &lt;span class="nx">complete&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="nx">it&lt;/span> &lt;span class="nx">contains&lt;/span> &lt;span class="sb">`event.preventDefault()`&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="nt">@scroll.passive&lt;/span>&lt;span class="s">=&amp;#34;onScroll&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;...&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="key-modifiers">Key Modifiers
&lt;/h3>&lt;p>You can directly use any valid key names exposed via &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values" target="_blank" rel="noopener"
>&lt;code>KeyboardEvent.key&lt;/code>&lt;/a> as modifiers by converting them to kebab-case.&lt;/p>
&lt;h4 id="key-aliases">key aliases
&lt;/h4>&lt;p>Vue provides aliases for the most commonly used keys:&lt;/p>
&lt;ul>
&lt;li>&lt;code>.enter&lt;/code>&lt;/li>
&lt;li>&lt;code>.tab&lt;/code>&lt;/li>
&lt;li>&lt;code>.delete&lt;/code> (captures both &amp;ldquo;Delete&amp;rdquo; and &amp;ldquo;Backspace&amp;rdquo; keys)&lt;/li>
&lt;li>&lt;code>.esc&lt;/code>&lt;/li>
&lt;li>&lt;code>.space&lt;/code>&lt;/li>
&lt;li>&lt;code>.up&lt;/code>&lt;/li>
&lt;li>&lt;code>.down&lt;/code>&lt;/li>
&lt;li>&lt;code>.left&lt;/code>&lt;/li>
&lt;li>&lt;code>.right&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="system-modifier-keys">System Modifier Keys
&lt;/h4>&lt;p>You can use the following modifiers to trigger mouse or keyboard event listeners only when the corresponding modifier key is pressed:&lt;/p>
&lt;ul>
&lt;li>&lt;code>.ctrl&lt;/code>&lt;/li>
&lt;li>&lt;code>.alt&lt;/code>&lt;/li>
&lt;li>&lt;code>.shift&lt;/code>&lt;/li>
&lt;li>&lt;code>.meta&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Note that modifier keys are different from regular keys and when used with &lt;code>keyup&lt;/code> events, they have to be pressed when the event is emitted. In other words, &lt;code>keyup.ctrl&lt;/code> will only trigger if you release a key while holding down &lt;code>ctrl&lt;/code>. It won&amp;rsquo;t trigger if you release the &lt;code>ctrl&lt;/code> key alone.&lt;/p>
&lt;h5 id="exact-modifier">&lt;code>.exact&lt;/code> Modifier
&lt;/h5>&lt;p>The &lt;code>.exact&lt;/code> modifier allows control of the exact combination of system modifiers needed to trigger an event.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="k">this&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">fire&lt;/span> &lt;span class="nx">even&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">Alt&lt;/span> &lt;span class="nx">or&lt;/span> &lt;span class="nx">Shift&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">also&lt;/span> &lt;span class="nx">pressed&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click.ctrl&lt;/span>&lt;span class="s">=&amp;#34;onClick&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="k">this&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">only&lt;/span> &lt;span class="nx">fire&lt;/span> &lt;span class="nx">when&lt;/span> &lt;span class="nx">Ctrl&lt;/span> &lt;span class="nx">and&lt;/span> &lt;span class="nx">no&lt;/span> &lt;span class="nx">other&lt;/span> &lt;span class="nx">keys&lt;/span> &lt;span class="nx">are&lt;/span> &lt;span class="nx">pressed&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click.ctrl.exact&lt;/span>&lt;span class="s">=&amp;#34;onCtrlClick&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="k">this&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">only&lt;/span> &lt;span class="nx">fire&lt;/span> &lt;span class="nx">when&lt;/span> &lt;span class="nx">no&lt;/span> &lt;span class="nx">system&lt;/span> &lt;span class="nx">modifiers&lt;/span> &lt;span class="nx">are&lt;/span> &lt;span class="nx">pressed&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click.exact&lt;/span>&lt;span class="s">=&amp;#34;onClick&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="mouse-button-modifiers">Mouse Button Modifiers
&lt;/h3>&lt;ul>
&lt;li>&lt;code>.left&lt;/code>&lt;/li>
&lt;li>&lt;code>.right&lt;/code>&lt;/li>
&lt;li>&lt;code>.middle&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>These modifiers restrict the handler to events triggered by a specific mouse button.&lt;/p>
&lt;h2 id="form-input-bindings">Form Input Bindings
&lt;/h2>&lt;p>&lt;code>v-model&lt;/code> will ignore the initial &lt;code>value&lt;/code>, &lt;code>checked&lt;/code> or &lt;code>selected&lt;/code> attributes found on any form elements. It will always treat the current bound JavaScript state as the source of truth. You should declare the initial value on the JavaScript side, using reactivity APIs.&lt;/p>
&lt;h2 id="lifecycle-hooks">Lifecycle Hooks
&lt;/h2>&lt;p>There are also other hooks which will be called at different stages of the instance&amp;rsquo;s lifecycle, with the most commonly used being &lt;a class="link" href="https://vuejs.org/api/composition-api-lifecycle.html#onmounted" target="_blank" rel="noopener"
>&lt;code>onMounted&lt;/code>&lt;/a>, &lt;a class="link" href="https://vuejs.org/api/composition-api-lifecycle.html#onupdated" target="_blank" rel="noopener"
>&lt;code>onUpdated&lt;/code>&lt;/a>, and &lt;a class="link" href="https://vuejs.org/api/composition-api-lifecycle.html#onunmounted" target="_blank" rel="noopener"
>&lt;code>onUnmounted&lt;/code>&lt;/a>.&lt;/p>
&lt;p>&lt;img src="https://vuejs.org/assets/lifecycle.16e4c08e.png"
loading="lazy"
alt="Component lifecycle diagram"
>&lt;/p>
&lt;h2 id="watchs">Watchs
&lt;/h2>&lt;p>With Composition API, we can use the &lt;a class="link" href="https://vuejs.org/api/reactivity-core.html#watch" target="_blank" rel="noopener"
>&lt;code>watch&lt;/code> function&lt;/a> to trigger a callback whenever a piece of reactive state changes.&lt;/p>
&lt;p>&lt;code>watch&lt;/code>&amp;rsquo;s first argument can be different types of reactive &amp;ldquo;sources&amp;rdquo;: it can be a ref (including computed refs), a reactive object, a getter function, or an array of multiple sources.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// single ref
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">watch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">newX&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`x is &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">newX&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// getter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">watch&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">sum&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`sum of x + y is: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">sum&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// array of multiple sources
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">watch&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">([&lt;/span>&lt;span class="nx">newX&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">newY&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`x is &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">newX&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> and y is &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">newY&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Do note that you can&amp;rsquo;t watch a property of a reactive object like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// this won&amp;#39;t work because we are passing a number to watch()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">watch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`count is: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Instead, use a getter:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// instead, use a getter:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">watch&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`count is: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="watcheffect">watchEffect
&lt;/h3>&lt;p>&lt;code>watchEffect()&lt;/code> allows us to perform a side effect immediately while automatically tracking the effect&amp;rsquo;s reactive dependencies.&lt;/p>
&lt;p>&lt;code>watch&lt;/code> and &lt;code>watchEffect&lt;/code> both allow us to reactively perform side effects. Their main difference is the way they track their reactive dependencies:&lt;/p>
&lt;ul>
&lt;li>&lt;code>watch&lt;/code> only tracks the explicitly watched source. It won&amp;rsquo;t track anything accessed inside the callback. In addition, the callback only triggers when the source has actually changed. &lt;code>watch&lt;/code> separates dependency tracking from the side effect, giving us more precise control over when the callback should fire.&lt;/li>
&lt;li>&lt;code>watchEffect&lt;/code>, on the other hand, combines dependency tracking and side effect into one phase. It automatically tracks every reactive property accessed during its synchronous execution. This is more convenient and typically results in terser code, but makes its reactive dependencies less explicit.&lt;/li>
&lt;/ul>
&lt;p>By default, user-created watcher callbacks are called &lt;strong>before&lt;/strong> Vue component updates. This means if you attempt to access the DOM inside a watcher callback, the DOM will be in the state before Vue has applied any updates.&lt;/p>
&lt;p>If you want to access the DOM in a watcher callback &lt;strong>after&lt;/strong> Vue has updated it, you need to specify the &lt;code>flush: 'post'&lt;/code> option.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">watch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">source&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">callback&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flush&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;post&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">watchEffect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">callback&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flush&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;post&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Post-flush &lt;code>watchEffect()&lt;/code> also has a convenience alias, &lt;code>watchPostEffect()&lt;/code>.&lt;/p>
&lt;p>Watchers declared synchronously inside &lt;code>setup()&lt;/code> or &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> are bound to the owner component instance, and will be automatically stopped when the owner component is unmounted. In most cases, you don&amp;rsquo;t need to worry about stopping the watcher yourself.&lt;/p>
&lt;p>The key here is that the watcher must be created &lt;strong>synchronously&lt;/strong>: if the watcher is created in an async callback, it won&amp;rsquo;t be bound to the owner component and must be stopped manually to avoid memory leaks.&lt;/p>
&lt;p>To manually stop a watcher, use the returned handle function. This works for both &lt;code>watch&lt;/code> and &lt;code>watchEffect&lt;/code>.&lt;/p>
&lt;p>Note that there should be very few cases where you need to create watchers asynchronously, and synchronous creation should be preferred whenever possible. If you need to wait for some async data, you can make your watch logic conditional instead.&lt;/p>
&lt;h2 id="template-refs">Template Refs
&lt;/h2>&lt;p>There may still be cases where we need direct access to the underlying DOM elements. To achieve this, we can use the special &lt;code>ref&lt;/code> attribute:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">input&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;input&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>ref&lt;/code> is a special attribute, similar to the &lt;code>key&lt;/code> attribute discussed in the &lt;code>v-for&lt;/code> chapter. It allows us to obtain a direct reference to a specific DOM element or child component instance after it&amp;rsquo;s mounted.&lt;/p>
&lt;p>To obtain the reference with Composition API, we need to declare a ref with the same name&lt;/p>
&lt;h2 id="components">Components
&lt;/h2>&lt;h3 id="registration">Registration
&lt;/h3>&lt;h4 id="global-registration">Global Registration
&lt;/h4>&lt;p>We can make components available globally in the current &lt;a class="link" href="https://vuejs.org/guide/essentials/application.html" target="_blank" rel="noopener"
>Vue application&lt;/a> using the &lt;code>app.component()&lt;/code> method.&lt;/p>
&lt;p>If using SFCs, you will be registering the imported &lt;code>.vue&lt;/code> files.&lt;/p>
&lt;p>The &lt;code>app.component()&lt;/code> method can be &lt;strong>chained&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ComponentA&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ComponentA&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ComponentB&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ComponentB&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ComponentC&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ComponentC&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Globally registered components can be used in the template of any component within this application&lt;/p>
&lt;h5 id="drawbacks">drawbacks
&lt;/h5>&lt;ul>
&lt;li>prevents build systems from removing unused components&lt;/li>
&lt;li>makes dependency relationships less explicit in large applications&lt;/li>
&lt;/ul>
&lt;h4 id="local-registration">Local Registration
&lt;/h4>&lt;p>When using SFC with &lt;code>&amp;lt;script setup&amp;gt;&lt;/code>, imported components are automatically registered locally.&lt;/p>
&lt;p>Note that &lt;strong>locally registered components are *not* also available in descendent components&lt;/strong>.&lt;/p>
&lt;h3 id="props">Props
&lt;/h3>&lt;p>Vue components require explicit props declaration so that Vue knows what external props passed to the component should be treated as fallthrough attributes.&lt;/p>
&lt;p>In SFCs using &lt;code>&amp;lt;script setup&amp;gt;&lt;/code>, props can be declared using the &lt;code>defineProps()&lt;/code> macro.&lt;/p>
&lt;h3 id="events">Events
&lt;/h3>&lt;h4 id="emit">$emit()
&lt;/h4>&lt;p>A component can emit custom events directly in template expressions (e.g. in a &lt;code>v-on&lt;/code> handler) using the built-in &lt;code>$emit&lt;/code> function.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;someEvent&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>click me&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The parent can then listen to it using &lt;code>v-on&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyComponent&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">some-event&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;callback&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Like components and props, event names provide an automatic case transformation. Like components and props, event names provide an automatic case transformation.&lt;/p>
&lt;blockquote>
&lt;p>Unlike native DOM events, component emitted events do &lt;strong>not&lt;/strong> bubble. You can only listen to the events emitted by a direct child component.&lt;/p>
&lt;/blockquote>
&lt;p>It&amp;rsquo;s sometimes useful to emit a specific value with an event.&lt;/p>
&lt;blockquote>
&lt;p>All extra arguments passed to &lt;code>$emit()&lt;/code> after the event name will be forwarded to the listener. For example, with &lt;code>$emit('foo', 1, 2, 3)&lt;/code> the listener function will receive three arguments.&lt;/p>
&lt;/blockquote>
&lt;h4 id="defineemits">&lt;code>defineEmits&lt;/code>
&lt;/h4>&lt;p>Emitted events can be explicitly declared on the component via the &lt;a class="link" href="https://vuejs.org/api/sfc-script-setup.html#defineprops-defineemits" target="_blank" rel="noopener"
>&lt;code>defineEmits()&lt;/code>&lt;/a> macro.&lt;/p>
&lt;h3 id="fallthrough-attributes">Fallthrough Attributes
&lt;/h3>&lt;p>A &amp;ldquo;fallthrough attribute&amp;rdquo; is an attribute or &lt;code>v-on&lt;/code> event listener that is passed to a component, but is not explicitly declared in the receiving component&amp;rsquo;s &lt;a class="link" href="https://vuejs.org/guide/components/props.html" target="_blank" rel="noopener"
>props&lt;/a> or &lt;a class="link" href="https://vuejs.org/guide/components/events.html#declaring-emitted-events" target="_blank" rel="noopener"
>emits&lt;/a>. Common examples of this include &lt;code>class&lt;/code>, &lt;code>style&lt;/code>, and &lt;code>id&lt;/code> attributes.&lt;/p>
&lt;p>When a component renders a single root element, fallthrough attributes will be automatically added to the root element&amp;rsquo;s attributes.&lt;/p>
&lt;p>Unlike components with a single root node, components with multiple root nodes do not have an automatic attribute fallthrough behavior. If &lt;code>$attrs&lt;/code> are not bound explicitly, a runtime warning will be issued.&lt;/p>
&lt;h4 id="useattrs">&lt;code>useAttrs&lt;/code>
&lt;/h4>&lt;p>If needed, you can access a component&amp;rsquo;s fallthrough attributes in &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> using the &lt;code>useAttrs()&lt;/code> API:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">script&lt;/span> &lt;span class="nx">setup&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useAttrs&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">attrs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useAttrs&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/script&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="providerinject">Provider/inject
&lt;/h3>&lt;h4 id="prop-drilling">Prop Drilling
&lt;/h4>&lt;p>&lt;img src="https://vuejs.org/assets/prop-drilling.11201220.png"
loading="lazy"
alt="prop drilling diagram"
>&lt;/p>
&lt;p>We can solve props drilling with &lt;code>provide&lt;/code> and &lt;code>inject&lt;/code>. A parent component can serve as a &lt;strong>dependency provider&lt;/strong> for all its descendants. Any component in the descendant tree, regardless of how deep it is, can &lt;strong>inject&lt;/strong> dependencies provided by components up in its parent chain.&lt;/p>
&lt;p>&lt;img src="https://vuejs.org/assets/provide-inject.3e0505e4.png"
loading="lazy"
alt="Provide/inject scheme"
>&lt;/p>
&lt;h4 id="provide">Provide
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">provide&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/* key */&lt;/span> &lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="cm">/* value */&lt;/span> &lt;span class="s1">&amp;#39;hello!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>provide()&lt;/code> function accepts two arguments. The first argument is called the &lt;strong>injection key&lt;/strong>, which can be a string or a &lt;code>Symbol&lt;/code>. The injection key is used by descendent components to lookup the desired value to inject. A single component can call &lt;code>provide()&lt;/code> multiple times with different injection keys to provide different values.&lt;/p>
&lt;p>The second argument is the provided value. The value can be of any type, including reactive state such as refs.&lt;/p>
&lt;h4 id="inject">Inject
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To inject data provided by an ancestor component, use the &lt;a class="link" href="https://vuejs.org/api/composition-api-dependency-injection.html#inject" target="_blank" rel="noopener"
>&lt;code>inject()&lt;/code>&lt;/a> function.&lt;/p>
&lt;p>If the provided value is a ref, it will be injected as-is and will &lt;strong>not&lt;/strong> be automatically unwrapped. This allows the injector component to &lt;strong>retain the reactivity connection&lt;/strong> to the provider component.&lt;/p>
&lt;p>By default, &lt;code>inject&lt;/code> assumes that the injected key is provided somewhere in the parent chain. In the case where the key is not provided, there will be a runtime warning.&lt;/p>
&lt;p>If we want to make an injected property work with optional providers, we need to declare a default value, similar to props&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;default value&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>It is recommended to keep any mutations to reactive state inside of the *provider* whenever possible&lt;/strong>.&lt;/p>
&lt;p>There may be times when we need to update the data from a injector component. In such cases, we recommend providing a function that is responsible for mutating the state.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">provide&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;location&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">location&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">updateLocation&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Finally, you can wrap the provided value with &lt;a class="link" href="https://vuejs.org/api/reactivity-core.html#readonly" target="_blank" rel="noopener"
>&lt;code>readonly()&lt;/code>&lt;/a> if you want to ensure that the data passed through &lt;code>provide&lt;/code> cannot be mutated by the injected component.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">provide&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;read-only-count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">readonly&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>symbol&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">myInjectionKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Symbol&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">provide&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">myInjectionKey&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* data to provide */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">injected&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">myInjectionKey&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="async-components">Async Components
&lt;/h3>&lt;p>In large applications, we may need to divide the app into smaller chunks and only load a component from the server when it&amp;rsquo;s needed. To make that possible, Vue has a &lt;a class="link" href="https://vuejs.org/api/general.html#defineasynccomponent" target="_blank" rel="noopener"
>&lt;code>defineAsyncComponent&lt;/code>&lt;/a> function.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">AsyncComp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineAsyncComponent&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...load component from server
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/* loaded component */&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ... use `AsyncComp` like a normal component
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#dynamic_imports" target="_blank" rel="noopener"
>ES module dynamic import&lt;/a> also returns a Promise, so most of the time we will use it in combination with &lt;code>defineAsyncComponent&lt;/code>. Bundlers like Vite and webpack also support the syntax, so we can use it to import Vue SFCs.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">AsyncComp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineAsyncComponent&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">import&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./components/MyComponent.vue&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="loading-and-error-states">Loading and Error States
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">AsyncComp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineAsyncComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// the loader function
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">loader&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kr">import&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./Foo.vue&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// A component to use while the async component is loading
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">loadingComponent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">LoadingComponent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Delay before showing the loading component. Default: 200ms.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// A component to use if the load fails
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">errorComponent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">ErrorComponent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// The error component will be displayed if a timeout is
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// provided and exceeded. Default: Infinity.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">timeout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="reusability">Reusability
&lt;/h2>&lt;h3 id="composables">Composables
&lt;/h3>&lt;p>In the context of Vue applications, a &amp;ldquo;composable&amp;rdquo; is a function that leverages Vue Composition API to encapsulate and reuse &lt;strong>stateful logic&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">useMouse&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// state encapsulated and managed by the composable
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// a composable can update its managed state over time.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageX&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">y&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// a composable can also hook into its owner component&amp;#39;s
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// lifecycle to setup and teardown side effects.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">onMounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mousemove&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">update&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onUnmounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">removeEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mousemove&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">update&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// expose managed state as return value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>extract the logic into an external file, as a composable function.&lt;/p>
&lt;p>The cooler part about composables though, is that you can also nest them: one composable function can call one or more other composable functions. This enables us to compose complex logic using small, isolated units, similar to how we compose an entire application using components.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">error&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">doFetch&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// reset state before fetching..
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// unref() unwraps potential refs
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">json&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">isRef&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// setup reactive re-fetch if input URL is a ref
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">watchEffect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">doFetch&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// otherwise, just fetch once
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// and avoid the overhead of a watcher
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">doFetch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>&amp;lt;script setup&amp;gt;&lt;/code> is the only place where you can call composables after usage of await. The compiler automatically restores the active instance context after the async operation for you.&lt;/p>
&lt;p>To some extent, you can think of these extracted cas component-scoped services that can talk to one another.&lt;/p>
&lt;h3 id="custom-directives">Custom Directives
&lt;/h3>&lt;p>In addition to the default set of directives shipped in core (like &lt;code>v-model&lt;/code> or &lt;code>v-show&lt;/code>), Vue also allows you to register your own custom directives.&lt;/p>
&lt;p>We have introduced two forms of code reuse in Vue: &lt;a class="link" href="https://vuejs.org/guide/essentials/component-basics.html" target="_blank" rel="noopener"
>components&lt;/a> and &lt;a class="link" href="https://vuejs.org/guide/reusability/composables.html" target="_blank" rel="noopener"
>composables&lt;/a>. Components are the main building blocks, while composables are focused on reusing stateful logic. Custom directives, on the other hand, are mainly intended for reusing logic that involves low-level DOM access on plain elements.&lt;/p>
&lt;p>A custom directive is defined as an object containing lifecycle hooks similar to those of a component.&lt;/p>
&lt;p>In &lt;code>&amp;lt;script setup&amp;gt;&lt;/code>, any camelCase variable that starts with the &lt;code>v&lt;/code> prefix can be used as a custom directive. In the example above, &lt;code>vFocus&lt;/code> can be used in the template as &lt;code>v-focus&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">myDirective&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// called before bound element&amp;#39;s attributes
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// or event listeners are applied
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">created&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">binding&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">vnode&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">prevVnode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// see below for details on arguments
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// called right before the element is inserted into the DOM.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">beforeMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// called when the bound element&amp;#39;s parent component
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// and all its children are mounted.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">mounted&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// called before the parent component is updated
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">beforeUpdate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// called after the parent component and
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// all of its children have updated
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">updated&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// called before the parent component is unmounted
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">beforeUnmount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// called when the parent component is unmounted
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">unmounted&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Directive hooks are passed these arguments:&lt;/p>
&lt;ul>
&lt;li>&lt;code>el&lt;/code>: the element the directive is bound to. This can be used to directly manipulate the DOM.&lt;/li>
&lt;li>&lt;code>binding&lt;/code>: an object containing the following properties.
&lt;ul>
&lt;li>&lt;code>value&lt;/code>: The value passed to the directive. For example in &lt;code>v-my-directive=&amp;quot;1 + 1&amp;quot;&lt;/code>, the value would be &lt;code>2&lt;/code>.&lt;/li>
&lt;li>&lt;code>oldValue&lt;/code>: The previous value, only available in &lt;code>beforeUpdate&lt;/code> and &lt;code>updated&lt;/code>. It is available whether or not the value has changed.&lt;/li>
&lt;li>&lt;code>arg&lt;/code>: The argument passed to the directive, if any. For example in &lt;code>v-my-directive:foo&lt;/code>, the arg would be &lt;code>&amp;quot;foo&amp;quot;&lt;/code>.&lt;/li>
&lt;li>&lt;code>modifiers&lt;/code>: An object containing modifiers, if any. For example in &lt;code>v-my-directive.foo.bar&lt;/code>, the modifiers object would be &lt;code>{ foo: true, bar: true }&lt;/code>.&lt;/li>
&lt;li>&lt;code>instance&lt;/code>: The instance of the component where the directive is used.&lt;/li>
&lt;li>&lt;code>dir&lt;/code>: the directive definition object.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>vnode&lt;/code>: the underlying VNode representing the bound element.&lt;/li>
&lt;li>&lt;code>prevNode&lt;/code>: the VNode representing the bound element from the previous render. Only available in the &lt;code>beforeUpdate&lt;/code> and &lt;code>updated&lt;/code> hooks.&lt;/li>
&lt;/ul>
&lt;p>It is also common to globally register custom directives at the app level.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">directive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;focus&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* ... */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Custom directives should only be used when the desired functionality can only be achieved via direct DOM manipulation. Prefer declarative templating using built-in directives such as &lt;code>v-bind&lt;/code> when possible because they are more &lt;strong>efficient&lt;/strong> and &lt;strong>server-rendering friendly&lt;/strong>.&lt;/p>
&lt;/blockquote>
&lt;h4 id="shorthand">shorthand
&lt;/h4>&lt;p>It&amp;rsquo;s common for a custom directive to have the same behavior for &lt;code>mounted&lt;/code> and &lt;code>updated&lt;/code>, with no need for the other hooks. In such cases we can define the directive as a function:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">directive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">binding&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// this will be called for both `mounted` and `updated`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">binding&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>When used on components, custom directives will always apply to a component&amp;rsquo;s root node, similar to &lt;strong>&lt;a class="link" href="https://vuejs.org/guide/components/attrs.html" target="_blank" rel="noopener"
>Fallthrough Attributes&lt;/a>.&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyComponent&lt;/span> &lt;span class="na">v-demo&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- template of MyComponent --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="c">&amp;lt;!-- v-demo directive will be applied here --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>My component content&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that components can potentially have more than one root node. When applied to a multi-root component, a directive will be ignored and a warning will be thrown. Unlike attributes, directives can&amp;rsquo;t be passed to a different element with &lt;code>v-bind=&amp;quot;$attrs&amp;quot;&lt;/code>. In general, it is &lt;strong>not&lt;/strong> recommended to use custom directives on components.&lt;/p>
&lt;h3 id="plugins">Plugins
&lt;/h3>&lt;p>Plugins are self-contained code that usually add app-level functionality to Vue. This is how we install a plugin:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">createApp&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createApp&lt;/span>&lt;span class="p">({})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">myPlugin&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* optional options */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A plugin is defined as either an object that exposes an &lt;code>install()&lt;/code> method, or simply a function that acts as the install function itself. The install function receives the &lt;a class="link" href="https://vuejs.org/api/application.html" target="_blank" rel="noopener"
>app instance&lt;/a> along with additional options passed to &lt;code>app.use()&lt;/code>, if any:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">myPlugin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">install&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">app&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// configure the app
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>There is no strictly defined scope for a plugin, but common scenarios where plugins are useful include:&lt;/p>
&lt;ol>
&lt;li>Register one or more global components or custom directives with &lt;a class="link" href="https://vuejs.org/api/application.html#app-component" target="_blank" rel="noopener"
>&lt;code>app.component()&lt;/code>&lt;/a> and &lt;a class="link" href="https://vuejs.org/api/application.html#app-directive" target="_blank" rel="noopener"
>&lt;code>app.directive()&lt;/code>&lt;/a>.&lt;/li>
&lt;li>Make a resource &lt;a class="link" href="https://vuejs.org/guide/components/provide-inject.html" target="_blank" rel="noopener"
>injectable&lt;/a> throughout the app by calling &lt;a class="link" href="https://vuejs.org/api/application.html#app-provide" target="_blank" rel="noopener"
>&lt;code>app.provide()&lt;/code>&lt;/a>.&lt;/li>
&lt;li>Add some global instance properties or methods by attaching them to &lt;a class="link" href="https://vuejs.org/api/application.html#app-config-globalproperties" target="_blank" rel="noopener"
>&lt;code>app.config.globalProperties&lt;/code>&lt;/a>.&lt;/li>
&lt;li>A library that needs to perform some combination of the above (e.g. &lt;a class="link" href="https://github.com/vuejs/vue-router-next" target="_blank" rel="noopener"
>vue-router&lt;/a>).&lt;/li>
&lt;/ol>
&lt;h2 id="built-in">Built-in
&lt;/h2>&lt;h3 id="transition">Transition
&lt;/h3>&lt;p>Vue offers two built-in components that can help work with transitions and animations in response to changing state:&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;lt;Transition&amp;gt;&lt;/code> for applying animations when an element or component is entering and leaving the DOM.&lt;/li>
&lt;li>&lt;code>&amp;lt;TransitionGroup&amp;gt;&lt;/code> for applying animations when an element or component is inserted into, removed from, or moved within a &lt;code>v-for&lt;/code> list.&lt;/li>
&lt;/ul>
&lt;p>&lt;code>&amp;lt;Transition&amp;gt;&lt;/code> only supports a single element or component as its slot content. If the content is a component, the component must also have only one single root element.&lt;/p>
&lt;p>When an element in a &lt;code>&amp;lt;Transition&amp;gt;&lt;/code> component is inserted or removed, this is what happens:&lt;/p>
&lt;ol>
&lt;li>Vue will automatically sniff whether the target element has &lt;strong>CSS transitions or animations&lt;/strong> applied. If it does, a number of &lt;a class="link" href="https://vuejs.org/guide/built-ins/transition.html#transition-classes" target="_blank" rel="noopener"
>CSS transition classes&lt;/a> will be added / removed at appropriate timings.&lt;/li>
&lt;li>If there are &lt;strong>listeners&lt;/strong> for &lt;a class="link" href="https://vuejs.org/guide/built-ins/transition.html#javascript-hooks" target="_blank" rel="noopener"
>JavaScript hooks&lt;/a>, these hooks will be called at appropriate timings.&lt;/li>
&lt;li>If no CSS transitions / animations are detected and no JavaScript hooks are provided, the DOM operations for insertion and/or removal will be executed &lt;strong>on the browser&amp;rsquo;s next animation frame&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://vuejs.org/assets/transition-classes.f0f7b3c9.png"
loading="lazy"
alt="Transition Diagram"
>&lt;/p>
&lt;ol>
&lt;li>&lt;code>v-enter-from&lt;/code>: Starting state for enter. Added before the element is inserted, removed one frame after the element is inserted.&lt;/li>
&lt;li>&lt;code>v-enter-active&lt;/code>: Active state for enter. Applied during the entire entering phase. Added before the element is inserted, removed when the transition/animation finishes. This class can be used to define the duration, delay and easing curve for the entering transition.&lt;/li>
&lt;li>&lt;code>v-enter-to&lt;/code>: Ending state for enter. Added one frame after the element is inserted (at the same time &lt;code>v-enter-from&lt;/code> is removed), removed when the transition/animation finishes.&lt;/li>
&lt;li>&lt;code>v-leave-from&lt;/code>: Starting state for leave. Added immediately when a leaving transition is triggered, removed after one frame.&lt;/li>
&lt;li>&lt;code>v-leave-active&lt;/code>: Active state for leave. Applied during the entire leaving phase. Added immediately when a leave transition is triggered, removed when the transition/animation finishes. This class can be used to define the duration, delay and easing curve for the leaving transition.&lt;/li>
&lt;li>&lt;code>v-leave-to&lt;/code>: Ending state for leave. Added one frame after a leaving transition is triggered (at the same time &lt;code>v-leave-from&lt;/code> is removed), removed when the transition/animation finishes.&lt;/li>
&lt;/ol>
&lt;p>For a named transition, its transition classes will be prefixed with its name instead of &lt;code>v&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Transition&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;fade&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Transition&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">fade&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">fade&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">opacity&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="nx">ease&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">fade&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">fade&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opacity&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="transitiongroup">TransitionGroup
&lt;/h3>&lt;p>&lt;code>&amp;lt;TransitionGroup&amp;gt;&lt;/code> is a built-in component designed for animating the insertion, removal, and order change of elements or components that are rendered in a list.&lt;/p>
&lt;h3 id="keepalive">KeepAlive
&lt;/h3>&lt;p>&lt;code>&amp;lt;KeepAlive&amp;gt;&lt;/code> is a built-in component that allows us to &lt;strong>conditionally cache component instances&lt;/strong> (to keep the state) when dynamically switching between multiple components.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">Inactive&lt;/span> &lt;span class="nx">components&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">be&lt;/span> &lt;span class="nx">cached&lt;/span>&lt;span class="o">!&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">KeepAlive&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">component&lt;/span> &lt;span class="nt">:is&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;activeComponent&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">KeepAlive&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="teleport">Teleport
&lt;/h3>&lt;p>&lt;code>&amp;lt;Teleport&amp;gt;&lt;/code> is a built-in component that allows us to &amp;ldquo;teleport&amp;rdquo; a part of a component&amp;rsquo;s template into a DOM node that exists outside the DOM hierarchy of that component.&lt;/p>
&lt;h3 id="suspense">Suspense
&lt;/h3>&lt;p>……&lt;/p></description></item><item><title>【Vue】Tutorial</title><link>https://dyhes.github.io/p/vuetutorial/</link><pubDate>Fri, 07 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/vuetutorial/</guid><description>&lt;h2 id="single-file-component-sfc">Single File Component (SFC)
&lt;/h2>&lt;p>An SFC is a reusable self-contained block of code that encapsulates HTML, CSS and JavaScript that belong together, written inside a &lt;code>.vue&lt;/code> file.&lt;/p>
&lt;h2 id="declarative-rendering">declarative rendering
&lt;/h2>&lt;p>The core feature of Vue is &lt;strong>declarative rendering&lt;/strong>: using a template syntax that extends HTML, we can describe how the HTML should look like based on JavaScript state.&lt;/p>
&lt;h2 id="reactive">Reactive
&lt;/h2>&lt;p>State that can trigger updates when changed are considered &lt;strong>reactive&lt;/strong>. We can declare reactive state using Vue&amp;rsquo;s &lt;code>reactive()&lt;/code> API. Objects created from &lt;code>reactive()&lt;/code> are JavaScript &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener"
>Proxies&lt;/a> that work just like normal objects.&lt;/p>
&lt;p>&lt;code>reactive()&lt;/code> only works on objects (including arrays and built-in types like &lt;code>Map&lt;/code> and &lt;code>Set&lt;/code>). &lt;code>ref()&lt;/code>, on the other hand, can take any value type and create an object that exposes the inner value under a &lt;code>.value&lt;/code> property.&lt;/p>
&lt;p>Reactive state declared in the component&amp;rsquo;s &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> block can be used directly in the template.&lt;/p>
&lt;p>we did not need to use &lt;code>.value&lt;/code> when accessing the &lt;code>message&lt;/code> ref in templates: it is automatically unwrapped for more succinct usage.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello World!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="directive">Directive
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">titleClass&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;title&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-bind&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;titleClass&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Make&lt;/span> &lt;span class="nx">me&lt;/span> &lt;span class="nx">red&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;titleClass&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="kr">short&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A &lt;strong>directive&lt;/strong> is a special attribute that starts with the &lt;code>v-&lt;/code> prefix. They are part of Vue&amp;rsquo;s template syntax. Similar to text interpolations, directive values are JavaScript expressions that have access to the component&amp;rsquo;s state.&lt;/p>
&lt;h2 id="event-listener">Event Listener
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// update component state
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">++&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-on:click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;increment&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;increment&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">for&lt;/span> &lt;span class="na">short&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="two-way-bindings">Two-Way bindings
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-VUE" data-lang="VUE">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">text&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">onInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// a v-on handler receives the native DOM event
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// as the argument.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="nt">:value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="nt">@input&lt;/span>&lt;span class="s">=&amp;#34;onInput&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">&amp;lt;!-&lt;/span>&lt;span class="nt">-for&lt;/span> &lt;span class="na">short&lt;/span>&lt;span class="err">--&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To simplify two-way bindings, Vue provides a directive, &lt;code>v-model&lt;/code>, which is essentially a syntax sugar.&lt;/p>
&lt;p>&lt;code>v-model&lt;/code> automatically syncs the &lt;code>&amp;lt;input&amp;gt;&lt;/code>&amp;rsquo;s value with the bound state, so we no longer need to use a event handler for that.&lt;/p>
&lt;p>&lt;code>v-model&lt;/code> works not only on text inputs, but also other input types such as checkboxes, radio buttons, and select dropdowns.&lt;/p>
&lt;h2 id="conditional-rendering">Conditional Rendering
&lt;/h2>&lt;p>We can use the &lt;code>v-if&lt;/code> directive to conditionally render an element, we can also use &lt;code>v-else&lt;/code> and &lt;code>v-else-if&lt;/code> to denote other branches of the condition.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">awesome&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">toggle&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">awesome&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">=!&lt;/span>&lt;span class="nx">awesome&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;toggle&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">toggle&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-if&lt;/span>&lt;span class="err">=&amp;#39;&lt;/span>&lt;span class="na">awesome&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Vue&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">awesome&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="nt">v-else&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Oh&lt;/span> &lt;span class="na">no&lt;/span> &lt;span class="err">😢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="list-rendering">List Rendering
&lt;/h2>&lt;p>We can use the &lt;code>v-for&lt;/code> directive to render a list of elements based on a source array&lt;/p>
&lt;p>we are also giving each todo object a unique &lt;code>id&lt;/code>, and binding it as the &lt;a class="link" href="https://vuejs.org/api/built-in-special-attributes.html#key" target="_blank" rel="noopener"
>special &lt;code>key&lt;/code> attribute&lt;/a> for each &lt;code>&amp;lt;li&amp;gt;&lt;/code>. The &lt;code>key&lt;/code> allows Vue to accurately move each &lt;code>&amp;lt;li&amp;gt;&lt;/code> to match the position of its corresponding object in the array.&lt;/p>
&lt;p>There are two ways to update the list:&lt;/p>
&lt;ol>
&lt;li>Call &lt;a class="link" href="https://stackoverflow.com/questions/9009879/which-javascript-array-functions-are-mutating" target="_blank" rel="noopener"
>mutating methods&lt;/a> on the source array&lt;/li>
&lt;li>Replace the array with a new one&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// give each todo a unique id
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">newTodo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">todos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Learn HTML&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Learn JavaScript&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Learn Vue&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">addTodo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">newTodo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">newTodo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">removeTodo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">todo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">t&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">todo&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;newTodo&amp;#34; @keyup.enter=&amp;#34;addTodo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;addTodo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Add&lt;/span> &lt;span class="na">Todo&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="nt">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo in todos&amp;#34; :key=&amp;#34;todo.id&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="na">todo.text&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;removeTodo(todo)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">X&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="computed-property">Computed property
&lt;/h2>&lt;p>We can create a computed ref that computes its &lt;code>.value&lt;/code> based on other reactive data sources by using &lt;code>computed()&lt;/code>&lt;/p>
&lt;p>A computed property tracks other reactive state used in its computation as dependencies. It caches the result and automatically updates it when its dependencies change.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">computed&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">newTodo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">hideCompleted&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">todos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Learn HTML&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Learn JavaScript&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Learn Vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">filteredTodos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">hideCompleted&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">?&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">done&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">addTodo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">newTodo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">newTodo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">removeTodo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">todo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">t&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">todo&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;newTodo&amp;#34; @keyup.enter=&amp;#34;addTodo&amp;#34;&lt;/span>&lt;span class="p"> /&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;addTodo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Add&lt;/span> &lt;span class="na">Todo&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="nt">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo in filteredTodos&amp;#34; :key=&amp;#34;todo.id&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo.done&amp;#34;&lt;/span>&lt;span class="p"> /&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{ done: todo.done }&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">todo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;removeTodo(todo)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">X&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;hideCompleted = !hideCompleted&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">hideCompleted&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Show all&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hide completed&amp;#39;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">done&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">decoration&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">line&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">through&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="lifecycle-and-template-refs">Lifecycle and Template Refs
&lt;/h2>&lt;p>We can request a &lt;strong>template ref&lt;/strong> - i.e. a reference to an element in the template - using the &lt;a class="link" href="https://vuejs.org/api/built-in-special-attributes.html#ref" target="_blank" rel="noopener"
>special &lt;code>ref&lt;/code> attribute&lt;/a>.&lt;/p>
&lt;p>To access the ref, we need to declare a ref with matching name in &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> . Notice the ref is initialized with &lt;code>null&lt;/code> value. This is because the element doesn&amp;rsquo;t exist yet when &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> is executed. The template ref is only accessible after the component is &lt;strong>mounted&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">onMounted&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">onMounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textContent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;mounted!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;p&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">hello&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>hooks such as &lt;code>onUpdated&lt;/code> and &lt;code>onUnmounted&lt;/code> are lifecycle hooks.&lt;/p>
&lt;h2 id="watchers">Watchers
&lt;/h2>&lt;p>Sometimes we may need to perform &amp;ldquo;side effects&amp;rdquo; reactively&lt;/p>
&lt;p>&lt;code>watch()&lt;/code> can directly watch a ref, and the callback gets called whenever &lt;code>count&lt;/code>&amp;rsquo;s value changes.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">watch&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">todoId&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">todoData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">fetchData&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todoData&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="sb">`https://jsonplaceholder.typicode.com/todos/&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">todoId&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todoData&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fetchData&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">watch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">todoId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fetchData&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Todo&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{{&lt;/span> &lt;span class="nx">todoId&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;todoId++&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Fetch&lt;/span> &lt;span class="na">next&lt;/span> &lt;span class="na">todo&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;!todoData&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Loading...&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">pre&lt;/span> &lt;span class="nt">v-else&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">todoData&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">pre&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="props">Props
&lt;/h2>&lt;p>A child component can accept input from the parent via &lt;strong>props&lt;/strong>. First, it needs to declare the props it accepts:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">ChildComp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vue&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">props&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineProps&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">msg&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nb">String&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note &lt;code>defineProps()&lt;/code> is a compile-time macro and doesn&amp;rsquo;t need to be imported. Once declared, the &lt;code>msg&lt;/code> prop can be used in the child component&amp;rsquo;s template. It can also be accessed in JavaScript via the returned object of &lt;code>defineProps()&lt;/code>.&lt;/p>
&lt;h2 id="emits">Emits
&lt;/h2>&lt;p>In addition to receiving props, a child component can also emit events to the parent:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// declare emitted events
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">emitter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineEmits&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;response&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// emit with argument
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">emitter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;response&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;hello from child&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">emitter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;testtest&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The first argument to &lt;code>emit()&lt;/code> is the event name. Any additional arguments are passed on to the event listener.&lt;/p>
&lt;p>The parent can listen to child-emitted events using &lt;code>v-on&lt;/code> - here the handler receives the extra argument from the child emit call and assigns it to local state:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComp&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">response&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;(msg) =&amp;gt; childMsg = msg&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="slots">Slots
&lt;/h2>&lt;p>In addition to passing data via props, the parent component can also pass down template fragments to the child via &lt;strong>slots&lt;/strong>.&lt;/p>
&lt;p>In the child component, it can render the slot content from the parent using the &lt;code>&amp;lt;slot&amp;gt;&lt;/code> element as outlet.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//parent
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComp&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span> &lt;span class="nx">to&lt;/span> &lt;span class="nx">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ChildComp&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//child
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">some&lt;/span> &lt;span class="nx">word&lt;/span> &lt;span class="nx">here&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span> &lt;span class="nx">passed&lt;/span> &lt;span class="nx">form&lt;/span> &lt;span class="nx">parent&lt;/span> &lt;span class="nx">will&lt;/span> &lt;span class="nx">be&lt;/span> &lt;span class="nx">present&lt;/span> &lt;span class="nx">here&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">and&lt;/span> &lt;span class="k">this&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">words&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【React】Basics</title><link>https://dyhes.github.io/p/reactbasics/</link><pubDate>Sat, 01 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/reactbasics/</guid><description>&lt;h2 id="jsx">JSX
&lt;/h2>&lt;p>JSX is a &lt;strong>syntax extension&lt;/strong> to JavaScript. it is recomended to use with React to describe &lt;strong>what the UI should look like&lt;/strong>. JSX may remind you of a template language, but it comes with the full power of JavaScript.&lt;/p>
&lt;p>Since JSX is closer to JavaScript than to HTML, React DOM uses &lt;code>camelCase&lt;/code> property naming convention instead of HTML attribute names.&lt;/p>
&lt;p>Babel compiles JSX down to &lt;code>React.createElement()&lt;/code> calls.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//before
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;greeting&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">world&lt;/span>&lt;span class="o">!&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//after compilation
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;h1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">className&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;greeting&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Hello, world!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="in-depth">In-depth
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Choosing the Type at Runtime&lt;/p>
&lt;p>You cannot use a general expression as the React element type. If you do want to use a general expression to indicate the type of the element, just assign it to a capitalized variable first. This often comes up when you want to render a different component based on a prop:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">PhotoStory&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">VideoStory&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./stories&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">components&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">photo&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PhotoStory&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">video&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">VideoStory&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">Story&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Correct! JSX type can be a capitalized variable.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">SpecificStory&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">components&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">storyType&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">SpecificStory&lt;/span> &lt;span class="na">story&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">story&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Props default to &amp;rsquo;true'&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyTextBox&lt;/span> &lt;span class="na">autocomplete&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//equals to
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyTextBox&lt;/span> &lt;span class="na">autocomplete&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In general, we don’t recommend &lt;em>not&lt;/em> passing a value for a prop, because it can be confused with the &lt;a class="link" href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Object_initializer#New_notations_in_ECMAScript_2015" target="_blank" rel="noopener"
>ES6 object shorthand&lt;/a> &lt;code>{foo}&lt;/code> which is short for &lt;code>{foo: foo}&lt;/code> rather than &lt;code>{foo: true}&lt;/code>. This behavior is just there so that it matches the behavior of HTML.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Spread Attributes&lt;/p>
&lt;p>In general, we don’t recommend &lt;em>not&lt;/em> passing a value for a prop, because it can be confused with the &lt;a class="link" href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Object_initializer#New_notations_in_ECMAScript_2015" target="_blank" rel="noopener"
>ES6 object shorthand&lt;/a> &lt;code>{foo}&lt;/code> which is short for &lt;code>{foo: foo}&lt;/code> rather than &lt;code>{foo: true}&lt;/code>. This behavior is just there so that it matches the behavior of HTML.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">App1&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Greeting&lt;/span> &lt;span class="na">firstName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Ben&amp;#34;&lt;/span> &lt;span class="na">lastName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Hector&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//equals to
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">App2&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">props&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ben&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hector&amp;#39;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Greeting&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="na">...props&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//eg2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">Button&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">props&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">kind&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">other&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">className&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">kind&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;primary&amp;#34;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s2">&amp;#34;PrimaryButton&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;SecondaryButton&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">className&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="na">...other&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Children&lt;/p>
&lt;p>In JSX expressions that contain both an opening tag and a closing tag, the content between those tags is passed as a special prop: &lt;code>props.children&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Boolean&lt;/strong>&lt;/p>
&lt;p>&lt;code>false&lt;/code>, &lt;code>null&lt;/code>, &lt;code>undefined&lt;/code>, and &lt;code>true&lt;/code> are valid children. They simply don’t render. This can be useful to conditionally render React elements.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">showHeader&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Header&lt;/span> &lt;span class="p">/&amp;gt;}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Content&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Conversely, if you want a value like false, true, null, or undefined to appear in the output, you have to convert it to a string first:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">My&lt;/span> &lt;span class="nx">JavaScript&lt;/span> &lt;span class="nx">variable&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">myVariable&lt;/span>&lt;span class="p">)}.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>String Literals&lt;/strong>&lt;/p>
&lt;p>You can put a string between the opening and closing tags and &lt;code>props.children&lt;/code> will just be that string. HTML is unescaped, so you can generally write JSX just like you would write HTML.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">This&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="nx">valid&lt;/span> &lt;span class="nx">HTML&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">amp&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">JSX&lt;/span> &lt;span class="nx">at&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">same&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MyComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>JSX removes whitespace at the beginning and ending of a line. It also removes blank lines. New lines adjacent to tags are removed; new lines that occur in the middle of string literals are condensed into a single space.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>JSX&lt;/strong>&lt;/p>
&lt;p>You can provide more JSX elements as the children. This is useful for displaying nested components.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyContainer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyFirstComponent&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MySecondComponent&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MyContainer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>JS Expression&lt;/strong>&lt;/p>
&lt;p>You can pass any JavaScript expression as children, by enclosing it within &lt;code>{}&lt;/code>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="components">Components
&lt;/h2>&lt;p>Components let you split the UI into independent, reusable pieces, and think about each piece in isolation.&lt;/p>
&lt;p>Conceptually, components are like JavaScript functions. They accept arbitrary inputs (called “props”) and return React elements describing what should appear on the screen.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> &lt;strong>Always start component names with a capital letter.&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>Function Component&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">Welcome&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">h1&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/h1&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Welcome&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Sara&amp;#34;&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">ReactDOM&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">element&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Class Component&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Welcome&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Welcome&lt;/span>&lt;span class="p">/&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">ReactDOM&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">element&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//with state
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">class&lt;/span> &lt;span class="nx">Clock&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">()};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">world&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">It&lt;/span> &lt;span class="nx">is&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toLocaleTimeString&lt;/span>&lt;span class="p">()}.&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">ReactDOM&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Clock&lt;/span> &lt;span class="p">/&amp;gt;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//with method
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">class&lt;/span> &lt;span class="nx">Toggle&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">isToggleOn&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// This binding is necessary to make `this` work in the callback
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleClick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleClick&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleClick&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">prevState&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isToggleOn&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nx">prevState&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isToggleOn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleClick&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isToggleOn&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;ON&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;OFF&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">ReactDOM&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Toggle&lt;/span> &lt;span class="p">/&amp;gt;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="lifecycle-methods">Lifecycle Methods
&lt;/h2>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220329184734485.png"
loading="lazy"
alt="image-20220329184734485"
>&lt;/p>
&lt;p>include less used method&lt;/p>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220330145339086.png"
loading="lazy"
alt="image-20220330145339086"
>&lt;/p>
&lt;p>[more detail&amp;hellip;](&lt;a class="link" href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" target="_blank" rel="noopener"
>React lifecycle methods diagram (wojtekmaj.pl)&lt;/a>)&lt;/p>
&lt;h2 id="hooks">Hooks
&lt;/h2>&lt;p>&lt;em>Hooks&lt;/em> are a new addition in &lt;strong>React 16.8&lt;/strong>. They let you use state and other React features without writing a class.&lt;/p>
&lt;h3 id="usestate">&lt;code>useState&lt;/code>
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setState&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">initialState&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Returns a stateful value, and a function to update it.&lt;/p>
&lt;p>During the initial render, the returned state (state) is the same as the value passed as the first argument (initialState).&lt;/p>
&lt;p>The setState function is used to update the state. It accepts a new state value and enqueues a re-render of the component.&lt;/p>
&lt;p>If the new state is computed using the previous state, you can pass a function to &lt;code>setState&lt;/code>. The function will receive the previous value, and return an updated value.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setCount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">prevCount&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">prevCount&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)}&amp;gt;&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Unlike the &lt;code>setState&lt;/code> method found in class components, &lt;code>useState&lt;/code> does not automatically merge update objects. You can replicate this behavior by combining the function updater form with object spread syntax:&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setState&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">({});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">prevState&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Object.assign would also work
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">{...&lt;/span>&lt;span class="nx">prevState&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">updatedValues&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Another option is &lt;code>useReducer&lt;/code>, which is more suited for managing state objects that contain multiple sub-values.&lt;/p>
&lt;/blockquote>
&lt;p>The &lt;code>initialState&lt;/code> argument is the state used during the initial render. In subsequent renders, it is disregarded. If the initial state is the result of an expensive computation, you may provide a function instead, which will be executed only on the initial render:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setState&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">initialState&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">someExpensiveComputation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">initialState&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you update a State Hook to the same value as the current state, React will bail out without rendering the children or firing effects.&lt;/p>
&lt;p>Note that React may still need to render that specific component again before bailing out. That shouldn’t be a concern because React won’t unnecessarily go “deeper” into the tree. If you’re doing expensive calculations while rendering, you can optimize them with &lt;code>useMemo&lt;/code>.&lt;/p>
&lt;h3 id="useeffect">&lt;code>useEffect&lt;/code>
&lt;/h3>&lt;pre tabindex="0">&lt;code>useEffect(didUpdate);
&lt;/code>&lt;/pre>&lt;p>Accepts a &lt;strong>function&lt;/strong> that contains &lt;strong>imperative, possibly effectful code&lt;/strong>.&lt;/p>
&lt;p>Mutations, subscriptions, timers, logging, and other side effects are &lt;strong>not allowed inside the main body&lt;/strong> of a function component (referred to as React’s &lt;em>&lt;strong>render phase&lt;/strong>&lt;/em>). Doing so will lead to confusing bugs and inconsistencies in the UI.&lt;/p>
&lt;p>Instead, use &lt;code>useEffect&lt;/code>. The function passed to &lt;code>useEffect&lt;/code> will &lt;strong>run after the render is committed to the screen&lt;/strong>. Think of effects as an escape hatch from React’s purely functional world into the imperative world.&lt;/p>
&lt;p>By default, effects &lt;strong>run after every completed render&lt;/strong>, but you can choose to fire them &lt;a class="link" href="https://reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect" target="_blank" rel="noopener"
>only when certain values have changed&lt;/a>.&lt;/p>
&lt;h4 id="cleaning-up-an-effect">Cleaning up an effect
&lt;/h4>&lt;p>Often, effects create resources that need to be cleaned up &lt;strong>before&lt;/strong> the component leaves the screen, such as a subscription or timer ID. To do this, the function passed to &lt;code>useEffect&lt;/code> may &lt;strong>return a clean-up function&lt;/strong>. For example, to create a subscription:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">subscription&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">source&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribe&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Clean up the subscription
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">subscription&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubscribe&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The clean-up function &lt;strong>runs before the component is removed from the UI&lt;/strong> to prevent memory leaks. Additionally, if a component renders multiple times (as they typically do), the &lt;strong>previous effect is cleaned up before executing the next effect&lt;/strong>. In our example, this means &lt;strong>a new subscription is created on every update&lt;/strong>. To avoid firing an effect on every update, refer to the next section.&lt;/p>
&lt;h4 id="timing-of-effects">Timing of effects
&lt;/h4>&lt;p>Unlike &lt;code>componentDidMount&lt;/code> and &lt;code>componentDidUpdate&lt;/code>, the function passed to &lt;code>useEffect&lt;/code> fires &lt;strong>after&lt;/strong> layout and paint, during a &lt;strong>deferred event&lt;/strong>. This makes it suitable for the many common side effects, like setting up subscriptions and event handlers, because most types of work shouldn’t block the browser from updating the screen.&lt;/p>
&lt;p>However, not all effects can be deferred. For example, a DOM mutation that is visible to the user must fire synchronously before the next paint so that the user does not perceive a visual inconsistency. (The distinction is conceptually similar to passive versus active event listeners.) For these types of effects, React provides one additional Hook called &lt;a class="link" href="https://reactjs.org/docs/hooks-reference.html#uselayouteffect" target="_blank" rel="noopener"
>&lt;code>useLayoutEffect&lt;/code>&lt;/a>. It has the same signature as &lt;code>useEffect&lt;/code>, and &lt;strong>only differs in when it is fired&lt;/strong>.&lt;/p>
&lt;p>Additionally, starting in &lt;strong>React 18&lt;/strong>, the function passed to &lt;code>useEffect&lt;/code> will fire synchronously &lt;strong>before&lt;/strong> layout and paint &lt;strong>when it’s the result of a discrete user input&lt;/strong> such as a click, or when it’s the result of an update wrapped in &lt;a class="link" href="https://reactjs.org/docs/react-dom.html#flushsync" target="_blank" rel="noopener"
>&lt;code>flushSync&lt;/code>&lt;/a>. This behavior allows the result of the effect to be observed by the event system, or by the caller of &lt;a class="link" href="https://reactjs.org/docs/react-dom.html#flushsync" target="_blank" rel="noopener"
>&lt;code>flushSync&lt;/code>&lt;/a>.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong> : This only affects the timing of when the function passed to &lt;code>useEffect&lt;/code> is called - updates scheduled inside these effects are still deferred. This is different than &lt;a class="link" href="https://reactjs.org/docs/hooks-reference.html#uselayouteffect" target="_blank" rel="noopener"
>&lt;code>useLayoutEffect&lt;/code>&lt;/a>, which fires the function and processes the updates inside of it immediately.&lt;/p>
&lt;/blockquote>
&lt;p>Even in cases where &lt;code>useEffect&lt;/code> is deferred until after the browser has painted, it’s guaranteed to fire &lt;strong>before any new renders&lt;/strong>. React will always flush a previous render’s effects before starting a new update.&lt;/p>
&lt;h4 id="conditionally-firing-an-effect">Conditionally firing an effect
&lt;/h4>&lt;p>The default behavior for effects is to fire the effect after every completed render. That way an effect is always recreated if one of its dependencies changes.&lt;/p>
&lt;p>However, this may be overkill in some cases, like the subscription example from the previous section. We don’t need to create a new subscription on every update, only if the &lt;code>source&lt;/code> prop has changed.&lt;/p>
&lt;p>To implement this, &lt;strong>pass a second argument to &lt;code>useEffect&lt;/code> that is the array of values that the effect depends on&lt;/strong>. Our updated example now looks like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>useEffect(
() =&amp;gt; {
const subscription = props.source.subscribe();
return () =&amp;gt; {
subscription.unsubscribe();
};
},
[props.source],
);
&lt;/code>&lt;/pre>&lt;p>Now the subscription will only be recreated when &lt;code>props.source&lt;/code> changes.&lt;/p>
&lt;blockquote>
&lt;p>Note&lt;/p>
&lt;p>If you use this optimization, make sure the array includes &lt;strong>all values from the component scope (such as props and state) that change over time and that are used by the effect&lt;/strong>. Otherwise, your code will reference stale values from previous renders. Learn more about &lt;a class="link" href="https://reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies" target="_blank" rel="noopener"
>how to deal with functions&lt;/a> and what to do when the &lt;a class="link" href="https://reactjs.org/docs/hooks-faq.html#what-can-i-do-if-my-effect-dependencies-change-too-often" target="_blank" rel="noopener"
>array values change too often&lt;/a>.&lt;/p>
&lt;p>If you want to run an effect and clean it up &lt;strong>only once (on mount and unmount)&lt;/strong>, you can pass an empty array (&lt;code>[]&lt;/code>) as a second argument. This tells React that your effect doesn’t depend on &lt;em>any&lt;/em> values from props or state, so it never needs to re-run. This isn’t handled as a special case — it follows directly from how the dependencies array always works.&lt;/p>
&lt;p>If you pass an empty array (&lt;code>[]&lt;/code>), the props and state inside the effect &lt;strong>will always have their initial values&lt;/strong>. While passing &lt;code>[]&lt;/code> as the second argument is closer to the familiar &lt;code>componentDidMount&lt;/code> and &lt;code>componentWillUnmount&lt;/code> mental model, there are usually &lt;a class="link" href="https://reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies" target="_blank" rel="noopener"
>better&lt;/a> &lt;a class="link" href="https://reactjs.org/docs/hooks-faq.html#what-can-i-do-if-my-effect-dependencies-change-too-often" target="_blank" rel="noopener"
>solutions&lt;/a> to avoid re-running effects too often. Also, don’t forget that React defers running &lt;code>useEffect&lt;/code> until after the browser has painted, so doing extra work is less of a problem.&lt;/p>
&lt;p>We recommend using the &lt;a class="link" href="https://github.com/facebook/react/issues/14920" target="_blank" rel="noopener"
>&lt;code>exhaustive-deps&lt;/code>&lt;/a> rule as part of our &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-react-hooks#installation" target="_blank" rel="noopener"
>&lt;code>eslint-plugin-react-hooks&lt;/code>&lt;/a> package. It warns when dependencies are specified incorrectly and suggests a fix.&lt;/p>
&lt;/blockquote>
&lt;p>The array of dependencies is not passed as arguments to the effect function. Conceptually, though, that’s what they represent: &lt;strong>every value referenced inside the effect function should also appear in the dependencies array&lt;/strong>. In the future, a sufficiently advanced compiler could create this array automatically.&lt;/p>
&lt;h3 id="usecontext">&lt;code>useContext&lt;/code>
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">MyContext&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Accepts a context object (the value returned from &lt;code>React.createContext&lt;/code>) and returns the current context value for that context. The current context value is determined by the &lt;code>value&lt;/code> prop of the nearest &lt;code>&amp;lt;MyContext.Provider&amp;gt;&lt;/code> above the calling component in the tree.&lt;/p>
&lt;p>Don’t forget that the argument to &lt;code>useContext&lt;/code> must be the &lt;em>context object itself&lt;/em>:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Correct:&lt;/strong> &lt;code>useContext(MyContext)&lt;/code>&lt;/li>
&lt;li>&lt;strong>Incorrect:&lt;/strong> &lt;code>useContext(MyContext.Consumer)&lt;/code>&lt;/li>
&lt;li>&lt;strong>Incorrect:&lt;/strong> &lt;code>useContext(MyContext.Provider)&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="rules-of-hooks">Rules of Hooks
&lt;/h3>&lt;p>Hooks are JavaScript functions, but you need to follow two rules when using them.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Only Call Hooks &lt;strong>at the Top Leve&lt;/strong>l&lt;/p>
&lt;p>&lt;strong>Don’t call Hooks inside loops, conditions, or nested functions.&lt;/strong> Instead, always use Hooks at the top level of your React function, &lt;strong>before any early returns&lt;/strong>. By following this rule, you ensure that Hooks are called in the same order each time a component renders. That’s what allows React to correctly preserve the state of Hooks between multiple &lt;code>useState&lt;/code> and &lt;code>useEffect&lt;/code> calls.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Only Call Hooks &lt;strong>from React Functions&lt;/strong>&lt;/p>
&lt;p>&lt;strong>Don’t call Hooks from regular JavaScript functions.&lt;/strong> Instead, you can:&lt;/p>
&lt;ul>
&lt;li>✅ Call Hooks from React function components.&lt;/li>
&lt;li>✅ Call Hooks from custom Hooks&lt;/li>
&lt;/ul>
&lt;p>By following this rule, you ensure that all stateful logic in a component is clearly visible from its source code.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="custom-hooks">Custom Hooks
&lt;/h3>&lt;p>Building your own Hooks lets you extract component logic into reusable functions.&lt;/p>
&lt;p>Traditionally in React, we’ve had two popular ways to share stateful logic between components: &lt;a class="link" href="https://reactjs.org/docs/render-props.html" target="_blank" rel="noopener"
>render props&lt;/a> and &lt;a class="link" href="https://reactjs.org/docs/higher-order-components.html" target="_blank" rel="noopener"
>higher-order components&lt;/a>. We will now look at how Hooks solve many of the same problems without forcing you to add more components to the tree.&lt;/p>
&lt;p>&lt;strong>A custom Hook is a JavaScript function whose name starts with ”&lt;code>use&lt;/code>” and that may call other Hooks.&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useEffect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">useFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friendID&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">isOnline&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setIsOnline&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setIsOnline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isOnline&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribeToFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friendID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChatAPI&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubscribeFromFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friendID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handleStatusChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">isOnline&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">FriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">isOnline&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">isOnline&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;Loading...&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">isOnline&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Online&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Offline&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">FriendListItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">isOnline&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useFriendStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{{&lt;/span> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">isOnline&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;black&amp;#39;&lt;/span> &lt;span class="p">}}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">friend&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Unlike a React component, a custom Hook doesn’t need to have a specific signature. We can decide what it takes as arguments, and what, if anything, it should return. In other words, it’s just like a normal function.&lt;/p>
&lt;h2 id="lists">Lists
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">NumberList&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">numbers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">numbers&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">listItems&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">numbers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">()}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>&lt;span class="nx">listItems&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">numbers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">ReactDOM&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NumberList&lt;/span> &lt;span class="na">numbers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">numbers&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//using index
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">todoItems&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">todo&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Only do this if items have no stable IDs
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">todo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//We don’t recommend using indexes for keys if the order of items may change. This can negatively impact performance and may cause issues with component state.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Keys help React identify which items have changed, are added, or are removed.&lt;/p>
&lt;h2 id="forms">Forms
&lt;/h2>&lt;h3 id="controlled-components">Controlled Components
&lt;/h3>&lt;p>In HTML, form elements such as &lt;code>&amp;lt;input&amp;gt;&lt;/code>, &lt;code>&amp;lt;textarea&amp;gt;&lt;/code>, and &lt;code>&amp;lt;select&amp;gt;&lt;/code> typically maintain their own state and update it based on user input. In React, mutable state is typically kept in the state property of components, and only updated with &lt;a class="link" href="https://reactjs.org/docs/react-component.html#setstate" target="_blank" rel="noopener"
>&lt;code>setState()&lt;/code>&lt;/a>.&lt;/p>
&lt;p>We can combine the two by making the React state be the “single source of truth”. Then &lt;strong>the React component that renders a form also controls what happens in that form on subsequent user input.&lt;/strong> An input form element whose value is controlled by React in this way is called a “controlled component”.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">NameForm&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleChange&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleChange&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleSubmit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleSubmit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleSubmit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;A name was submitted: &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">preventDefault&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">onSubmit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleSubmit&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Name&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleChange&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Submit&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Since the &lt;code>value&lt;/code> attribute is set on our form element, the displayed value will always be &lt;code>this.state.value&lt;/code>, making the React state the source of truth. Since &lt;code>handleChange&lt;/code> runs on every keystroke to update the React state, the displayed value will update as the user types.&lt;/p>
&lt;p>It can sometimes be tedious to use controlled components, because you need to write an event handler for every way your data can change and pipe all of the input state through a React component. This can become particularly annoying when you are converting a preexisting codebase to React, or integrating a React application with a non-React library. In these situations, we can use &lt;a class="link" href="https://reactjs.org/docs/uncontrolled-components.html" target="_blank" rel="noopener"
>uncontrolled components&lt;/a>, an alternative technique for implementing input forms.&lt;/p>
&lt;h3 id="uncontrolled-components">Uncontrolled Components
&lt;/h3>&lt;p>In most cases, we recommend using &lt;a class="link" href="https://reactjs.org/docs/forms.html#controlled-components" target="_blank" rel="noopener"
>controlled components&lt;/a> to implement forms. In a controlled component, form data is handled by a React component. The alternative is uncontrolled components, where form data is handled by the DOM itself.&lt;/p>
&lt;p>To write an uncontrolled component, instead of writing an event handler for every state update, you can &lt;a class="link" href="https://reactjs.org/docs/refs-and-the-dom.html" target="_blank" rel="noopener"
>use a ref&lt;/a> to get form values from the DOM.&lt;/p>
&lt;p>In the React rendering lifecycle, the &lt;code>value&lt;/code> attribute on form elements will override the value in the DOM. With an uncontrolled component, you often want React to specify the initial value, but leave subsequent updates uncontrolled. To handle this case, you can specify a &lt;code>defaultValue&lt;/code> attribute instead of &lt;code>value&lt;/code>. Changing the value of &lt;code>defaultValue&lt;/code> attribute after a component has mounted will not cause any update of the value in the DOM.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">NameForm&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleSubmit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleSubmit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createRef&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleSubmit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;A name was submitted: &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">current&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">preventDefault&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">onSubmit&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleSubmit&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Name&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">defaultValue&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Bob&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Submit&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="lifting-state-up">Lifting state up
&lt;/h2>&lt;p>In React, sharing state is accomplished by moving it up to the closest common ancestor of the components that need it. This is called “lifting state up”.&lt;/p>
&lt;h2 id="context">Context
&lt;/h2>&lt;p>Context provides a way to pass data through the component tree without having to pass props down manually at every level.&lt;/p>
&lt;p>Context is designed to share data that can be considered “global” for a tree of React components, such as the current authenticated user, theme, or preferred language.&lt;/p>
&lt;p>Context is primarily used when some data needs to be accessible by &lt;em>many&lt;/em> components at different nesting levels. Apply it sparingly because it makes component reuse more difficult. &lt;strong>If you only want to avoid passing some props through many levels, &lt;a class="link" href="https://reactjs.org/docs/composition-vs-inheritance.html" target="_blank" rel="noopener"
>component composition&lt;/a> is often a simpler solution than context.&lt;/strong>&lt;/p>
&lt;p>Using context, we can avoid passing props through intermediate elements:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Context lets us pass a value deep into the component tree without explicitly threading it through every component.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Create a context for the current theme (with &amp;#34;light&amp;#34; as the default).
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">ThemeContext&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;light&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">App&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Use a Provider to pass the current theme to the tree below.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Any component can read it, no matter how deep it is.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// In this example, we&amp;#39;re passing &amp;#34;dark&amp;#34; as the current value.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ThemeContext.Provider&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dark&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Toolbar&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ThemeContext.Provider&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// A component in the middle doesn&amp;#39;t have to
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// pass the theme down explicitly anymore.function Toolbar() {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ThemedButton&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">ThemedButton&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Assign a contextType to read the current theme context.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// React will find the closest theme Provider above and use its value.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// In this example, the current theme is &amp;#34;dark&amp;#34;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">static&lt;/span> &lt;span class="nx">contextType&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ThemeContext&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Button&lt;/span> &lt;span class="na">theme&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="api">API
&lt;/h3>&lt;h4 id="reactcreatecontext">&lt;code>React.createContext&lt;/code>
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">MyContext&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">defaultValue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Creates a Context object. When React renders a component that subscribes to this Context object it will read the current context value from the closest matching &lt;code>Provider&lt;/code> above it in the tree.&lt;/p>
&lt;p>The &lt;code>defaultValue&lt;/code> argument is &lt;strong>only&lt;/strong> used when &lt;strong>a component does not have a matching Provider above it in the tree&lt;/strong>. This default value can be helpful for testing components in isolation without wrapping them. Note: passing &lt;code>undefined&lt;/code> as a Provider value does not cause consuming components to use &lt;code>defaultValue&lt;/code>.&lt;/p>
&lt;h4 id="contextprovider">&lt;code>Context.Provider&lt;/code>
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">MyContext&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Provider&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="cm">/* some value */&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Every Context object comes with a Provider React component that allows consuming components to subscribe to context changes.&lt;/p>
&lt;p>The Provider component accepts a &lt;code>value&lt;/code> prop to be passed to consuming components that are descendants of this Provider. One Provider can be connected to many consumers. Providers can be nested to &lt;strong>override values&lt;/strong> deeper within the tree.&lt;/p>
&lt;p>All consumers that are descendants of a Provider will re-render whenever the Provider’s &lt;code>value&lt;/code> prop changes. The propagation from Provider to its descendant consumers (including &lt;a class="link" href="https://reactjs.org/docs/context.html#classcontexttype" target="_blank" rel="noopener"
>&lt;code>.contextType&lt;/code>&lt;/a> and &lt;a class="link" href="https://reactjs.org/docs/hooks-reference.html#usecontext" target="_blank" rel="noopener"
>&lt;code>useContext&lt;/code>&lt;/a>) is not subject to the &lt;code>shouldComponentUpdate&lt;/code> method, so the consumer is updated even when an ancestor component skips an update.&lt;/p>
&lt;h4 id="classcontexttype">&lt;code>Class.contextType&lt;/code>
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">MyContext&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">defaultValue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">MyClass&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="nx">contextType&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">MyContext&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* render something based on the value */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>contextType&lt;/code> property on a class can be assigned a Context object created by &lt;a class="link" href="https://reactjs.org/docs/context.html#reactcreatecontext" target="_blank" rel="noopener"
>&lt;code>React.createContext()&lt;/code>&lt;/a>. Using this property lets you &lt;strong>consume the nearest current value of that Context type using &lt;code>this.context&lt;/code>&lt;/strong>. You can reference this in any of the lifecycle methods including the render function.&lt;/p>
&lt;blockquote>
&lt;p>You can only subscribe to a single context using this API. If you need to read more than one see &lt;a class="link" href="https://reactjs.org/docs/context.html#consuming-multiple-contexts" target="_blank" rel="noopener"
>Consuming Multiple Contexts&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;h4 id="contextconsumer">&lt;code>Context.Consumer&lt;/code>
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyContext.Consumer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="cm">/* render something based on the context value */&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MyContext.Consumer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A React component that subscribes to context changes. Using this component lets you subscribe to a context within a &lt;strong>function component&lt;/strong>.&lt;/p>
&lt;p>&lt;strong>Requires a function as a child&lt;/strong>. The function receives the current context value and returns a React node. The value argument passed to the function will be equal to the value prop of the closest Provider for this context above in the tree. If there is no Provider for this context above, the value argument will be equal to the defaultValue that was passed to createContext().&lt;/p>
&lt;h4 id="contextdisplayname">&lt;code>Context.displayName&lt;/code>
&lt;/h4>&lt;p>Context object accepts a displayName string property. React DevTools uses this string to determine what to display for the context.&lt;/p>
&lt;p>For example, the following component will appear as MyDisplayName in the DevTools:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">MyContext&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/* some value */&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">MyContext&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">displayName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;MyDisplayName&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">MyContext&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Provider&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="c1">// &amp;#34;MyDisplayName.Provider&amp;#34; in DevTools
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">MyContext&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Consumer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="c1">// &amp;#34;MyDisplayName.Consumer&amp;#34; in DevTools
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="error-boundaries">Error Boundaries
&lt;/h2>&lt;p>A JavaScript error in a part of the UI shouldn’t break the whole app. To solve this problem for React users, React 16 introduces a new concept of an “error boundary”.&lt;/p>
&lt;p>Error boundaries are React components that &lt;strong>catch JavaScript errors anywhere in their child component tree, log those errors, and display a fallback UI&lt;/strong> instead of the component tree that crashed. Error boundaries catch errors &lt;strong>during rendering, in lifecycle methods, and in constructors of the whole tree below them&lt;/strong>.&lt;/p>
&lt;blockquote>
&lt;p>Error boundaries do &lt;strong>not&lt;/strong> catch errors for:&lt;/p>
&lt;ul>
&lt;li>Event handlers&lt;/li>
&lt;/ul>
&lt;p>React doesn’t need error boundaries to recover from errors in event handlers. Unlike the render method and lifecycle methods, the event handlers don’t happen during rendering. So if they throw, React still knows what to display on the screen. If you need to catch an error inside an event handler, use the regular JavaScript &lt;code>try&lt;/code> / &lt;code>catch&lt;/code> statement&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Asynchronous code (e.g. &lt;code>setTimeout&lt;/code> or &lt;code>requestAnimationFrame&lt;/code> callbacks)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Server side rendering&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Errors thrown in the error boundary itself (rather than its children)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>A class component becomes an error boundary if it defines either (or both) of the lifecycle methods static &lt;code>getDerivedStateFromError()&lt;/code> or &lt;code>componentDidCatch()&lt;/code>. Use static &lt;code>getDerivedStateFromError() &lt;/code>to render a fallback UI after an error has been thrown. Use &lt;code>componentDidCatch() &lt;/code>to log error information.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">ErrorBoundary&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">hasError&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="nx">getDerivedStateFromError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Update state so the next render will show the fallback UI.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">hasError&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidCatch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errorInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can also log the error to an error reporting service
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">logErrorToMyService&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errorInfo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hasError&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can render any custom fallback UI
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Something&lt;/span> &lt;span class="nx">went&lt;/span> &lt;span class="nx">wrong&lt;/span>&lt;span class="p">.&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">children&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ErrorBoundary&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MyWidget&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ErrorBoundary&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Error boundaries work like a JavaScript &lt;code>catch {}&lt;/code> block, but for components. &lt;strong>Only class components&lt;/strong> can be error boundaries. In practice, most of the time you’ll want to declare an error boundary component once and use it throughout your application.&lt;/p>
&lt;p>Note that &lt;strong>error boundaries only catch errors in the components below them in the tree&lt;/strong>. An error boundary can’t catch an error within itself. If an error boundary fails trying to render the error message, the error will propagate to the closest error boundary above it.&lt;/p>
&lt;p>&lt;strong>As of React 16, errors that were not caught by any error boundary will result in unmounting of the whole React component tree.&lt;/strong>&lt;/p>
&lt;h2 id="ref">Ref
&lt;/h2>&lt;p>Refs provide a way to &lt;strong>access DOM nodes or React elements&lt;/strong> created in the render method.&lt;/p>
&lt;p>In the typical React dataflow, &lt;strong>props&lt;/strong> are the only way that parent components interact with their children. To modify a child, you re-render it with new props. However, there are a few cases where you need to imperatively &lt;strong>modify a child outside of the typical dataflow&lt;/strong>.&lt;/p>
&lt;p>There are a few good use cases for refs:&lt;/p>
&lt;ul>
&lt;li>Managing focus, text selection, or media playback.&lt;/li>
&lt;li>Triggering imperative animations.&lt;/li>
&lt;li>Integrating with third-party DOM libraries.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Avoid using refs for anything that can be done declaratively！&lt;/p>
&lt;/blockquote>
&lt;h3 id="create">Create
&lt;/h3>&lt;p>Refs are created using &lt;code>React.createRef()&lt;/code> and attached to React elements via the &lt;code>ref&lt;/code> attribute. Refs are commonly assigned to an instance property when a component is constructed so they can be referenced throughout the component.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">MyComponent&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">myRef&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createRef&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">div&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">myRef&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By default, &lt;strong>you may not use the &lt;code>ref&lt;/code> attribute on function components&lt;/strong> because they don’t have instances:&lt;/p>
&lt;p>If you want to allow people to take a &lt;code>ref&lt;/code> to your function component, you can&lt;/p>
&lt;ul>
&lt;li>use &lt;a class="link" href="https://reactjs.org/docs/forwarding-refs.html" target="_blank" rel="noopener"
>&lt;code>forwardRef&lt;/code>&lt;/a> (possibly in conjunction with &lt;a class="link" href="https://reactjs.org/docs/hooks-reference.html#useimperativehandle" target="_blank" rel="noopener"
>&lt;code>useImperativeHandle&lt;/code>&lt;/a>),&lt;/li>
&lt;li>or convert the component to a class.&lt;/li>
&lt;/ul>
&lt;p>You can, however, &lt;strong>use the &lt;code>ref&lt;/code> attribute inside a function component&lt;/strong> as long as you refer to a DOM element or a class component&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">CustomTextInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// textInput must be declared here so the ref can refer to it
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">textInput&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRef&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">handleClick&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">textInput&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">current&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">textInput&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Focus the text input&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleClick&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="access">Access
&lt;/h3>&lt;p>The value of the ref differs depending on the type of the node:&lt;/p>
&lt;ul>
&lt;li>When the &lt;code>ref&lt;/code> attribute is used on an HTML element, the &lt;code>ref&lt;/code> created in the constructor with &lt;code>React.createRef()&lt;/code> receives the underlying DOM element as its &lt;code>current&lt;/code> property.&lt;/li>
&lt;li>When the &lt;code>ref&lt;/code> attribute is used on a custom class component, the &lt;code>ref&lt;/code> object receives the mounted instance of the component as its &lt;code>current&lt;/code>.&lt;/li>
&lt;li>&lt;strong>You may not use the &lt;code>ref&lt;/code> attribute on function components&lt;/strong> because they don’t have instances.&lt;/li>
&lt;/ul>
&lt;h3 id="ref-forwarding">Ref forwarding
&lt;/h3>&lt;p>Ref forwarding is a technique for automatically passing a &lt;a class="link" href="https://reactjs.org/docs/refs-and-the-dom.html" target="_blank" rel="noopener"
>ref&lt;/a> through a component to one of its children. &lt;strong>Ref forwarding lets components opt into exposing any child component’s ref as their own&lt;/strong>.&lt;/p>
&lt;p>&lt;strong>Ref forwarding is an opt-in feature that lets some components take a &lt;code>ref&lt;/code> they receive, and pass it further down (in other words, “forward” it) to a child.&lt;/strong>&lt;/p>
&lt;p>In the example below, &lt;code>FancyButton&lt;/code> uses &lt;code>React.forwardRef&lt;/code> to obtain the &lt;code>ref&lt;/code> passed to it, and then forward it to the DOM &lt;code>button&lt;/code> that it renders:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">FancyButton&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forwardRef&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ref&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;FancyButton&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">children&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// You can now get a ref directly to the DOM button:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createRef&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">FancyButton&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ref&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>&lt;span class="nx">Click&lt;/span> &lt;span class="nx">me&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">FancyButton&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This way, components using &lt;code>FancyButton&lt;/code> can get a ref to the underlying &lt;code>button&lt;/code> DOM node and access it if necessary—just like if they used a DOM &lt;code>button&lt;/code> directly.&lt;/p>
&lt;blockquote>
&lt;p>Note: The second &lt;code>ref&lt;/code> argument only exists when you define a component with &lt;code>React.forwardRef&lt;/code> call. Regular function or class components don’t receive the &lt;code>ref&lt;/code> argument, and ref is not available in props either.&lt;/p>
&lt;/blockquote>
&lt;p>Ref forwarding is not limited to DOM components. You can forward refs to class component instances, too.&lt;/p>
&lt;h3 id="callback-refs">Callback Refs
&lt;/h3>&lt;p>React also supports another way to set refs called “callback refs”, which gives more fine-grain control over when refs are set and unset.&lt;/p>
&lt;p>Instead of passing a &lt;code>ref&lt;/code> attribute created by &lt;code>createRef()&lt;/code>, you pass a function. The function receives the React component instance or HTML DOM element as its argument, which can be stored and accessed elsewhere.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">CustomTextInput&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textInput&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTextInputRef&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textInput&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">element&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focusTextInput&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Focus the text input using the raw DOM API
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textInput&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textInput&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// autofocus the input on mount
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focusTextInput&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Use the `ref` callback to store a reference to the text input DOM
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// element in an instance field (for example, this.textInput).
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTextInputRef&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Focus the text input&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focusTextInput&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>React will call the &lt;code>ref&lt;/code> callback with the DOM element when the component mounts, and call it with &lt;code>null&lt;/code> when it unmounts. Refs are guaranteed to be up-to-date before &lt;code>componentDidMount&lt;/code> or &lt;code>componentDidUpdate&lt;/code> fires.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE&lt;/strong>: If the &lt;code>ref&lt;/code> callback is defined as an inline function, it will &lt;strong>get called twice during updates&lt;/strong>, first with &lt;code>null&lt;/code> and then again with the DOM element. This is because a new instance of the function is created with each render, so React needs to clear the old ref and set up the new one. You can avoid this by defining the &lt;code>ref&lt;/code> callback as a bound method on the class, but note that it shouldn’t matter in most cases.&lt;/p>
&lt;/blockquote>
&lt;p>You can pass callback refs between components like you can with object refs that were created with &lt;code>React.createRef()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">CustomTextInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">inputRef&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Parent&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">CustomTextInput&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">inputRef&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">el&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">inputElement&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">el&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In the example above, &lt;code>Parent&lt;/code> passes its ref callback as an &lt;code>inputRef&lt;/code> prop to the &lt;code>CustomTextInput&lt;/code>, and the &lt;code>CustomTextInput&lt;/code> passes the same function as a special &lt;code>ref&lt;/code> attribute to the &lt;code>&amp;lt;input&amp;gt;&lt;/code>. As a result, &lt;code>this.inputElement&lt;/code> in &lt;code>Parent&lt;/code> will be set to the DOM node corresponding to the &lt;code>&amp;lt;input&amp;gt;&lt;/code> element in the &lt;code>CustomTextInput&lt;/code>.&lt;/p>
&lt;h3 id="legacy-api-string-refs">Legacy API: String Refs
&lt;/h3>&lt;p>If you worked with React before, you might be familiar with an older API where the &lt;code>ref&lt;/code> attribute is a &lt;strong>string&lt;/strong>, like &lt;code>&amp;quot;textInput&amp;quot;&lt;/code>, and the DOM node is accessed as &lt;code>this.refs.textInput&lt;/code>. We advise against it because string refs have &lt;a class="link" href="https://github.com/facebook/react/pull/8333#issuecomment-271648615" target="_blank" rel="noopener"
>some issues&lt;/a>, are considered legacy, and &lt;strong>are likely to be removed in one of the future releases&lt;/strong>.&lt;/p>
&lt;h2 id="fragment">Fragment
&lt;/h2>&lt;p>Fragment is a common pattern in React is for a component to return multiple elements. Fragments let you group a list of children without adding extra nodes to the DOM.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">React.Fragment&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildA&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildB&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildC&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">React.Fragment&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>short syntax&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Columns&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">World&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can use &lt;code>&amp;lt;&amp;gt;&amp;lt;/&amp;gt;&lt;/code> the same way you’d use any other element except that it doesn’t support keys or attributes.&lt;/p>
&lt;h3 id="keyed-fragments">Keyed Fragments
&lt;/h3>&lt;p>Fragments declared with the explicit &lt;code>&amp;lt;React.Fragment&amp;gt;&lt;/code> syntax may have keys. A use case for this is mapping a collection to an array of fragments — for example, to create a description list:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">Glossary&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">dl&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Without the `key`, React will fire a key warning
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">React.Fragment&lt;/span> &lt;span class="na">key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">dt&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">term&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">dt&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">dd&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">description&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">dd&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">React.Fragment&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">))}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">dl&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>key&lt;/code> is the only attribute that can be passed to &lt;code>Fragment&lt;/code>.&lt;/p>
&lt;h2 id="high-order-components">High-Order Components
&lt;/h2>&lt;p>A higher-order component (HOC) is an advanced technique in React for reusing component logic. HOCs are not part of the React API, per se. They are a pattern that emerges from React’s compositional nature.&lt;/p>
&lt;p>Concretely, &lt;strong>a higher-order component is a function that takes a component and returns a new component.&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">EnhancedComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">higherOrderComponent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">WrappedComponent&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>HOCs are common in third-party React libraries, such as Redux’s &lt;a class="link" href="https://github.com/reduxjs/react-redux/blob/master/docs/api/connect.md#connect" target="_blank" rel="noopener"
>&lt;code>connect&lt;/code>&lt;/a> and Relay’s &lt;a class="link" href="https://relay.dev/docs/v10.1.3/fragment-container/#createfragmentcontainer" target="_blank" rel="noopener"
>&lt;code>createFragmentContainer&lt;/code>&lt;/a>.&lt;/p>
&lt;p>For example we can imagine that in a large app, the same pattern of subscribing to &lt;code>DataSource&lt;/code> and calling &lt;code>setState&lt;/code> will occur over and over again. We want an abstraction that allows us to define this logic in a single place and share it across many components. This is where higher-order components excel.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// This function takes a component...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">withSubscription&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">WrappedComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">selectData&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...and returns another component...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleChange&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleChange&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">selectData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">DataSource&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidMount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ... that takes care of the subscription...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">DataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addChangeListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentWillUnmount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">DataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">removeChangeListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleChange&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleChange&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">selectData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">DataSource&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ... and renders the wrapped component with the fresh data!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Notice that we pass through any additional props
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">WrappedComponent&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="na">...this.props&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">CommentListWithSubscription&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">withSubscription&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">CommentList&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">DataSource&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">DataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getComments&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">BlogPostWithSubscription&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">withSubscription&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">BlogPost&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">DataSource&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">DataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getBlogPost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The first parameter is the wrapped component. The second parameter retrieves the data we’re interested in, given a &lt;code>DataSource&lt;/code> and the current props.&lt;/p>
&lt;p>When &lt;code>CommentListWithSubscription&lt;/code> and &lt;code>BlogPostWithSubscription&lt;/code> are rendered, &lt;code>CommentList&lt;/code> and &lt;code>BlogPost&lt;/code> will be passed a &lt;code>data&lt;/code> prop with the most current data retrieved from &lt;code>DataSource&lt;/code>:&lt;/p>
&lt;p>Note that a HOC &lt;strong>doesn’t modify&lt;/strong> the input component, &lt;strong>nor does it use inheritance&lt;/strong> to copy its behavior. Rather, a HOC &lt;strong>&lt;em>composes&lt;/em> the original component by &lt;em>wrapping&lt;/em> it in a container component&lt;/strong>. A HOC is a &lt;strong>pure function&lt;/strong> with zero side-effects.&lt;/p>
&lt;p>And that’s it! The wrapped component receives all the props of the container, along with a new prop, &lt;code>data&lt;/code>, which it uses to render its output. The HOC isn’t concerned with how or why the data is used, and the wrapped component isn’t concerned with where the data came from.&lt;/p>
&lt;h3 id="caveat">Caveat
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Don’t Use HOCs Inside the render Method&lt;/p>
&lt;p>Instead, apply HOCs outside the component definition so that the resulting component is created only once. Then, its identity will be consistent across renders. This is usually what you want, anyway.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Static Methods Must Be Copied Over&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">enhance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">WrappedComponent&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">class&lt;/span> &lt;span class="nx">Enhance&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="cm">/*...*/&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Must know exactly which method(s) to copy :(
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Enhance&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">staticMethod&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">WrappedComponent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">staticMethod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">Enhance&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">hoistNonReactStatic&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;hoist-non-react-statics&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">enhance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">WrappedComponent&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">class&lt;/span> &lt;span class="nx">Enhance&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="cm">/*...*/&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hoistNonReactStatic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Enhance&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">WrappedComponent&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">Enhance&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Refs Aren’t Passed Through&lt;/p>
&lt;p>While the convention for higher-order components is to pass through all props to the wrapped component, this does not work for &lt;strong>refs&lt;/strong>. That’s because &lt;code>ref&lt;/code> is not really a prop — like &lt;code>key&lt;/code>, it’s &lt;strong>handled specially&lt;/strong> by React. If you add a ref to an element whose component is the result of a HOC, the ref refers to an instance of the &lt;strong>outermost container component&lt;/strong>, not the wrapped component.&lt;/p>
&lt;p>Fortunately, we can explicitly forward refs to the inner &lt;code>FancyButton&lt;/code> component using the &lt;code>React.forwardRef&lt;/code> API.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">logProps&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">class&lt;/span> &lt;span class="nx">LogProps&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">componentDidUpdate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">prevProps&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;old props:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">prevProps&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;new props:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">forwardedRef&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">rest&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Assign the custom prop &amp;#34;forwardedRef&amp;#34; as a ref
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">forwardedRef&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">{...&lt;/span>&lt;span class="nx">rest&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Note the second param &amp;#34;ref&amp;#34; provided by React.forwardRef.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// We can pass it along to LogProps as a regular prop, e.g. &amp;#34;forwardedRef&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// And it can then be attached to the Component.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forwardRef&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">LogProps&lt;/span> &lt;span class="p">{...&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">forwardedRef&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">ref&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">/&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="render-props">Render Props
&lt;/h2>&lt;p>&lt;strong>A render prop is a function prop that a component uses to know what to render.&lt;/strong>&lt;/p>
&lt;p>This technique makes the behavior that we need to share extremely portable. To get that behavior, render a &lt;code>&amp;lt;Mouse&amp;gt;&lt;/code> with a &lt;code>render&lt;/code> prop that tells it what to render with the current (x, y) of the cursor.&lt;/p>
&lt;p>One interesting thing to note about render props is that you can implement most &lt;a class="link" href="https://reactjs.org/docs/higher-order-components.html" target="_blank" rel="noopener"
>higher-order components&lt;/a> (HOC) using a regular component with a render prop.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Cat&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">mouse&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mouse&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/cat.jpg&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{{&lt;/span> &lt;span class="nx">position&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;absolute&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">left&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">mouse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">top&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">mouse&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="p">}}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Mouse&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleMouseMove&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleMouseMove&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleMouseMove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setState&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientX&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{{&lt;/span> &lt;span class="nx">height&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;100vh&amp;#39;&lt;/span> &lt;span class="p">}}&lt;/span> &lt;span class="na">onMouseMove&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">handleMouseMove&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> Instead of providing a static representation of what &amp;lt;Mouse&amp;gt; renders,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> use the `render` prop to dynamically determine what to render.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">MouseTracker&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Move&lt;/span> &lt;span class="nx">the&lt;/span> &lt;span class="nx">mouse&lt;/span> &lt;span class="nx">around&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Mouse&lt;/span> &lt;span class="na">render&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">mouse&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Cat&lt;/span> &lt;span class="na">mouse&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">mouse&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)}/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It’s important to remember that just because the pattern is called “render props” you don’t have to use a prop named render to use this pattern. In fact, &lt;strong>any prop that is a function that a component uses to know what to render is technically a “render prop”&lt;/strong>.&lt;/p>
&lt;h2 id="strict-mode">Strict Mode
&lt;/h2>&lt;p>&lt;code>StrictMode&lt;/code> is a tool for highlighting potential problems in an application. Like &lt;code>Fragment&lt;/code>, &lt;code>StrictMode&lt;/code> does not render any visible UI. It activates additional checks and warnings for its descendants.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: Strict mode checks are run in development mode only; &lt;em>they do not impact the production build&lt;/em>.&lt;/p>
&lt;/blockquote>
&lt;p>You can enable strict mode for any part of your application.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">ExampleApplication&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Header&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">React.StrictMode&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ComponentOne&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ComponentTwo&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">React.StrictMode&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Footer&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>StrictMode&lt;/code> currently helps with:&lt;/p>
&lt;ul>
&lt;li>Identifying components with &lt;strong>unsafe lifecycles&lt;/strong>&lt;/li>
&lt;li>Warning about &lt;strong>legacy string ref API usage&lt;/strong>&lt;/li>
&lt;li>Warning about &lt;strong>deprecated findDOMNode usage&lt;/strong>&lt;/li>
&lt;li>Detecting &lt;strong>unexpected side effects&lt;/strong>&lt;/li>
&lt;li>Detecting &lt;strong>legacy context API&lt;/strong>&lt;/li>
&lt;li>Detecting &lt;strong>unsafe effects&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="proptypes">PropTypes
&lt;/h2>&lt;p>As your app grows, you can catch a lot of bugs with typechecking. For some applications, you can use JavaScript extensions like &lt;a class="link" href="https://flow.org/" target="_blank" rel="noopener"
>Flow&lt;/a> or &lt;a class="link" href="https://www.typescriptlang.org/" target="_blank" rel="noopener"
>TypeScript&lt;/a> to typecheck your whole application. But even if you don’t use those, React has some &lt;strong>built-in typechecking abilities&lt;/strong>. To run typechecking on the props for a component, you can assign the special &lt;code>propTypes&lt;/code> property:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">PropTypes&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;prop-types&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Greeting&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Greeting&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">propTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong> : &lt;code>React.PropTypes&lt;/code> has moved into a different package since React v15.5. Please use &lt;a class="link" href="https://www.npmjs.com/package/prop-types" target="_blank" rel="noopener"
>the &lt;code>prop-types&lt;/code> library instead&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;p>When an invalid value is provided for a prop, a warning will be shown in the JavaScript console. For performance reasons, &lt;code>propTypes&lt;/code> is only checked in development mode.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">PropTypes&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;prop-types&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">MyComponent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">propTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can declare that a prop is a specific JS type. By default, these
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// are all optional.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalArray&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">array&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">optionalBool&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bool&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">optionalFunc&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">func&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">optionalNumber&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">optionalObject&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">object&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">optionalString&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">optionalSymbol&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">symbol&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Anything that can be rendered: numbers, strings, elements or an array
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// (or fragment) containing these types.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalNode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">node&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// A React element.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalElement&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// A React element type (ie. MyComponent).
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalElementType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">elementType&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can also declare that a prop is an instance of a class. This uses
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// JS&amp;#39;s instanceof operator.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">instanceOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Message&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can ensure that your prop is limited to specific values by treating
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// it as an enum.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalEnum&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">oneOf&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;News&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Photos&amp;#39;&lt;/span>&lt;span class="p">]),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// An object that could be one of many types
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalUnion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">oneOfType&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">instanceOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Message&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// An array of a certain type
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalArrayOf&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">arrayOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// An object with property values of a certain type
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalObjectOf&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">objectOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// An object taking on a particular shape
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalObjectWithShape&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">shape&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fontSize&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// An object with warnings on extra properties
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">optionalObjectWithStrictShape&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exact&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">quantity&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can chain any of the above with `isRequired` to make sure a warning
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// is shown if the prop isn&amp;#39;t provided.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">requiredFunc&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">func&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isRequired&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// A required value of any data type
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">requiredAny&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">any&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isRequired&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can also specify a custom validator. It should return an Error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// object if the validation fails. Don&amp;#39;t `console.warn` or throw, as this
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// won&amp;#39;t work inside `oneOfType`.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">customProp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">propName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">componentName&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="sr">/matchme/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">propName&lt;/span>&lt;span class="p">]))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Invalid prop `&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">propName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;` supplied to&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39; `&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">componentName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;`. Validation failed.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can also supply a custom validator to `arrayOf` and `objectOf`.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// It should return an Error object if the validation fails. The validator
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// will be called for each key in the array or object. The first two
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// arguments of the validator are the array or object itself, and the
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// current item&amp;#39;s key.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">customArrayProp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">arrayOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">propValue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">key&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">componentName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">location&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">propFullName&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="sr">/matchme/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">propValue&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">]))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Invalid prop `&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">propFullName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;` supplied to&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39; `&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">componentName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;`. Validation failed.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="single-child">Single Child
&lt;/h3>&lt;p>With &lt;code>PropTypes.element&lt;/code> you can specify that only a single child can be passed to a component as children.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">PropTypes&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;prop-types&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">MyComponent&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// This must be exactly one element or it will warn.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">children&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">children&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">children&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">MyComponent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">propTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isRequired&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="default-prop-values">Default Prop Values
&lt;/h3>&lt;p>You can define default values for your &lt;code>props&lt;/code> by assigning to the special &lt;code>defaultProps&lt;/code> property:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Greeting&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Specifies the default values for props:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Greeting&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">defaultProps&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Stranger&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Renders &amp;#34;Hello, Stranger&amp;#34;:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">root&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ReactDOM&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createRoot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;example&amp;#39;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">root&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">(&amp;lt;&lt;/span>&lt;span class="nt">Greeting&lt;/span> &lt;span class="p">/&amp;gt;);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">class&lt;/span> &lt;span class="nx">Greeting&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Component&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="nx">defaultProps&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;stranger&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>defaultProps&lt;/code> will be used to ensure that &lt;code>this.props.name&lt;/code> will have a value if it was not specified by the parent component. The &lt;code>propTypes&lt;/code> typechecking happens after &lt;code>defaultProps&lt;/code> are resolved, so typechecking will also apply to the &lt;code>defaultProps&lt;/code>.&lt;/p>
&lt;h3 id="function-components">Function Components
&lt;/h3>&lt;p>If you are using function components in your regular development, you may want to make some small changes to allow PropTypes to be properly applied.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">PropTypes&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;prop-types&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">HelloWorldComponent&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">HelloWorldComponent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">propTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">PropTypes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">HelloWorldComponent&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="portals">Portals
&lt;/h2>&lt;p>Portals provide a first-class way to render children into a DOM node that exists outside the DOM hierarchy of the parent component.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">ReactDOM&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">createPortal&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">child&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nt">container&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The first argument (child) is any renderable React child, such as an element, string, or fragment. The second argument (container) is a DOM element.&lt;/p>
&lt;p>Normally, when you return an element from a component’s render method, it’s mounted into the DOM as a child of the nearest parent node. However, sometimes it’s useful to insert a child into a different location in the DOM. A typical use case for portals is when a parent component has an &lt;code>overflow: hidden&lt;/code> or &lt;code>z-index&lt;/code> style, but you need the child to visually “break out” of its container.&lt;/p>
&lt;p>Even though a portal can be anywhere in the DOM tree, it behaves like a normal React child in &lt;strong>every other way&lt;/strong>. Features like context work exactly the same regardless of whether the child is a portal, as the portal &lt;strong>still exists in the &lt;em>React tree&lt;/em>&lt;/strong> regardless of position in the &lt;em>DOM tree&lt;/em>.&lt;/p>
&lt;p>This includes event bubbling. An event fired from inside a portal will &lt;strong>propagate to ancestors in the containing &lt;em>React tree&lt;/em>&lt;/strong>, even if those elements are not ancestors in the &lt;em>DOM tree&lt;/em>.&lt;/p>
&lt;p>Catching an event bubbling up from a portal in a parent component allows the development of more flexible abstractions that are not inherently reliant on portals.&lt;/p>
&lt;h2 id="profiler">Profiler
&lt;/h2>&lt;p>The Profiler measures &lt;strong>how often&lt;/strong> a React application &lt;strong>renders&lt;/strong> and &lt;strong>what the “cost”&lt;/strong> of rendering is. Its purpose is to help identify parts of an application that are slow and may benefit from optimizations such as memoization.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note&lt;/strong>: Profiling adds some additional overhead, so &lt;strong>it is disabled in &lt;a class="link" href="https://reactjs.org/docs/optimizing-performance.html#use-the-production-build" target="_blank" rel="noopener"
>the production build&lt;/a>&lt;/strong>.&lt;/p>
&lt;/blockquote>
&lt;p>A &lt;code>Profiler&lt;/code> can be added anywhere in a React tree to measure the cost of rendering that part of the tree. It requires two props: an &lt;code>id&lt;/code> (string) and an &lt;code>onRender&lt;/code> callback (function) which React calls any time a component within the tree “commits” an update. It receives parameters describing what was rendered and how long it took.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">unction&lt;/span> &lt;span class="nx">onRenderCallback&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// the &amp;#34;id&amp;#34; prop of the Profiler tree that has just committed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">phase&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// either &amp;#34;mount&amp;#34; (if the tree just mounted) or &amp;#34;update&amp;#34; (if it re-rendered)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">actualDuration&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// time spent rendering the committed update
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">baseDuration&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// estimated time to render the entire subtree without memoization
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">startTime&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// when React began rendering this update
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">commitTime&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// when React committed this update
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">interactions&lt;/span> &lt;span class="c1">// the Set of interactions belonging to this update
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Aggregate or log render timings...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;strong>&lt;code>id: string&lt;/code>&lt;/strong> - The &lt;code>id&lt;/code> prop of the &lt;code>Profiler&lt;/code> tree that has just committed. This can be used to identify which part of the tree was committed if you are using multiple profilers.&lt;/li>
&lt;li>&lt;strong>&lt;code>phase: &amp;quot;mount&amp;quot; | &amp;quot;update&amp;quot;&lt;/code>&lt;/strong> - Identifies whether the tree has just been mounted for the first time or re-rendered due to a change in props, state, or hooks.&lt;/li>
&lt;li>&lt;strong>&lt;code>actualDuration: number&lt;/code>&lt;/strong> - Time spent rendering the &lt;code>Profiler&lt;/code> and its descendants for the current update. This indicates how well the subtree makes use of memoization (e.g. &lt;a class="link" href="https://reactjs.org/docs/react-api.html#reactmemo" target="_blank" rel="noopener"
>&lt;code>React.memo&lt;/code>&lt;/a>, &lt;a class="link" href="https://reactjs.org/docs/hooks-reference.html#usememo" target="_blank" rel="noopener"
>&lt;code>useMemo&lt;/code>&lt;/a>, &lt;a class="link" href="https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-shouldcomponentupdate" target="_blank" rel="noopener"
>&lt;code>shouldComponentUpdate&lt;/code>&lt;/a>). Ideally this value should decrease significantly after the initial mount as many of the descendants will only need to re-render if their specific props change.&lt;/li>
&lt;li>&lt;strong>&lt;code>baseDuration: number&lt;/code>&lt;/strong> - Duration of the most recent &lt;code>render&lt;/code> time for each individual component within the &lt;code>Profiler&lt;/code> tree. This value estimates a worst-case cost of rendering (e.g. the initial mount or a tree with no memoization).&lt;/li>
&lt;li>&lt;strong>&lt;code>startTime: number&lt;/code>&lt;/strong> - Timestamp when React began rendering the current update.&lt;/li>
&lt;li>&lt;strong>&lt;code>commitTime: number&lt;/code>&lt;/strong> - Timestamp when React committed the current update. This value is shared between all profilers in a commit, enabling them to be grouped if desirable.&lt;/li>
&lt;li>&lt;strong>&lt;code>interactions: Set&lt;/code>&lt;/strong> - Set of &lt;a class="link" href="https://fb.me/react-interaction-tracing" target="_blank" rel="noopener"
>“interactions”&lt;/a> that were being traced when the update was scheduled (e.g. when &lt;code>render&lt;/code> or &lt;code>setState&lt;/code> were called).&lt;/li>
&lt;/ul>
&lt;h2 id="web-components">Web Components
&lt;/h2>&lt;p>to be continued&lt;/p>
&lt;h2 id="optimizing-performance">Optimizing Performance
&lt;/h2>&lt;p>to be continued&lt;/p></description></item><item><title>【TS】Basics</title><link>https://dyhes.github.io/p/tsbasics/</link><pubDate>Sat, 01 May 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/tsbasics/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>TypeScript is Typed JavaScript. TypeScript adds types to JavaScript to help you speed up the development by catching errors before you even run the JavaScript code.&lt;/p>
&lt;p>TypeScript is a super set of JavaScript.&lt;/p>
&lt;p>&lt;img src="https://www.typescripttutorial.net/wp-content/uploads/2020/05/what-is-typescript-typescript-and-js.png"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>There are two main reasons to use TypeScript:&lt;/p>
&lt;ul>
&lt;li>TypeScript &lt;strong>adds a type system&lt;/strong> to help you avoid many problems with dynamic types in JavaScript.&lt;/li>
&lt;li>TypeScript &lt;strong>implements the future features&lt;/strong> of JavaScript a.k.a &lt;a class="link" href="https://www.javascripttutorial.net/es-next/" target="_blank" rel="noopener"
>ES Next&lt;/a> so that you can use them today.&lt;/li>
&lt;/ul>
&lt;h2 id="type">Type
&lt;/h2>&lt;p>In TypeScript, a type is a convenient way to refer to the different &lt;strong>properties&lt;/strong> and &lt;strong>functions&lt;/strong> that a &lt;strong>value&lt;/strong> has.&lt;/p>
&lt;p>A value is anything that you can assign to a variable e.g., a number, a string, an array, an object, and a function.&lt;/p>
&lt;p>In TypeScript:&lt;/p>
&lt;ul>
&lt;li>a type is a label that describes the different properties and method that a value has&lt;/li>
&lt;li>every value has a type.&lt;/li>
&lt;/ul>
&lt;p>TypeScript inherits the built-in types from JavaScript. TypeScript types is categorized into:&lt;/p>
&lt;ul>
&lt;li>Primitive types&lt;/li>
&lt;/ul>
&lt;p>The following illustrates the primitive types in TypeScript:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Name&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Description&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>string&lt;/code>&lt;/td>
&lt;td>represents text data&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>number&lt;/code>&lt;/td>
&lt;td>represents numeric values&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>boolean&lt;/code>&lt;/td>
&lt;td>has true and false values&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>null&lt;/code>&lt;/td>
&lt;td>has one value: null&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>undefined&lt;/code>&lt;/td>
&lt;td>has one value: &lt;code>undefined&lt;/code>. It is a default value of an uninitialized variable&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>symbol&lt;/code>&lt;/td>
&lt;td>represents a unique constant value&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>Object types&lt;/li>
&lt;/ul>
&lt;p>Objec types are &lt;strong>functions, arrays, classes&lt;/strong>, etc. Later, you’ll learn how to create custom object types.&lt;/p>
&lt;h3 id="detail">detail
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>number&lt;/p>
&lt;p>All numbers in TypeScript are either &lt;strong>floating-point values&lt;/strong> that get the number type or big integers that get the &lt;code>bigint&lt;/code> type.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">hexadecimal&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="nx">XA&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">big&lt;/span>: &lt;span class="kt">bigint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">9007199254740991&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>string&lt;/p>
&lt;p>In TypeScript, all strings get the &lt;code>string&lt;/code> type. Like JavaScript, TypeScript uses double quotes (&lt;code>&amp;quot;&lt;/code>), single quotes (&lt;code>'&lt;/code>), and backtick (`) to surround string literals.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Object and object&lt;/p>
&lt;p>The &lt;code>object&lt;/code> type represents &lt;strong>all non-primitive values&lt;/strong> while the &lt;code>Object&lt;/code> type describes &lt;strong>the functionality of all objects&lt;/strong>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>empty type {}&lt;/p>
&lt;p>TypeScript has another type called empty type denoted by &lt;code>{}&lt;/code> , which is quite similar to the object type.&lt;/p>
&lt;p>The empty type &lt;code>{}&lt;/code> describes an object that has no property on its own. If you try to access a property on such object, TypeScript will issue a compile-time error&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Tuple&lt;/p>
&lt;p>A tuple works like an &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-array-type/" target="_blank" rel="noopener"
>array&lt;/a> with some additional considerations:&lt;/p>
&lt;ul>
&lt;li>The &lt;strong>number of elements&lt;/strong> in the tuple is &lt;strong>fixed&lt;/strong>.&lt;/li>
&lt;li>The &lt;strong>types&lt;/strong> of elements &lt;strong>are known&lt;/strong>, and need not be the same.&lt;/li>
&lt;/ul>
&lt;p>Since TypeScript 3.0, a tuple can have optional elements specified using the question mark (?) postfix.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">bgColor&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">headerColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">bgColor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">headerColor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Enum&lt;/p>
&lt;p>An enum is &lt;strong>a group of named constant values&lt;/strong>. Enum stands for enumerated type.&lt;/p>
&lt;p>To define an enum, you follow these steps:&lt;/p>
&lt;ul>
&lt;li>First, use the &lt;code>enum&lt;/code> keyword followed by the name of the enum.&lt;/li>
&lt;li>Then, define constant values for the enum.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">constant1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">constant2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>An enum member is both a number and a defined constant.&lt;/p>
&lt;p>TypeScript defines the numeric value of an enum’s member based on the order of that member that appears in the enum definition.&lt;/p>
&lt;p>It’s possible to explicitly specify numbers for the members of an enum:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">Month&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Jan&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Feb&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Mar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Apr&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">May&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Jun&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Jul&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Aug&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Sep&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Oct&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Nov&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Dec&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should use an enum when you:&lt;/p>
&lt;ul>
&lt;li>Have a small set of fixed values that are closely related&lt;/li>
&lt;li>And these values are known at compile time.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>any&lt;/p>
&lt;p>The &lt;code>any&lt;/code> type allows you to assign a value of any type to a variable.&lt;/p>
&lt;p>The &lt;code>any&lt;/code> type provides you with a way to work with existing JavaScript codebase. It allows you to gradually opt-in and opt-out of type checking during compilation. Therefore, you can use the &lt;code>any&lt;/code> type for migrating a JavaScript project over to TypeScript.&lt;/p>
&lt;p>If you declare a variable without specifying a type, TypeScript assumes that you use the &lt;code>any&lt;/code> type. This feature is called &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-type-inference/" target="_blank" rel="noopener"
>type inference&lt;/a>. Basically, TypeScript guesses the type of the variable.&lt;/p>
&lt;blockquote>
&lt;p>Note that to disable implicit typing to the &lt;code>any&lt;/code> type, you change the &lt;code>noImplicitAny&lt;/code> option in the &lt;code>tsconfig.json&lt;/code> file to b.&lt;/p>
&lt;/blockquote>
&lt;p>If you declare a variable with the &lt;code>object&lt;/code> type, you can also assign it any value.&lt;/p>
&lt;p>However, you &lt;strong>cannot call a method&lt;/strong> on it even the method actually exists.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>void&lt;/p>
&lt;p>The &lt;code>void&lt;/code> type denotes the absence of having any type at all. It is a little like the opposite of the &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-any-type/" target="_blank" rel="noopener"
>&lt;code>any&lt;/code> type&lt;/a>.&lt;/p>
&lt;p>Typically, you use the &lt;code>void&lt;/code> type as the return type of functions that do not return a value.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">messsage&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It is a good practice to add the &lt;code>void&lt;/code> type as the return type of a function or a method that doesn’t return any value. By doing this, you can gain the following benefits:&lt;/p>
&lt;ul>
&lt;li>Improve &lt;strong>clarity&lt;/strong> of the code: you do not have to read the whole function body to see if it returns anything.&lt;/li>
&lt;li>Ensure &lt;strong>type-safe&lt;/strong>: you will never assign the function with the &lt;code>void&lt;/code> return type to a variable.&lt;/li>
&lt;/ul>
&lt;p>Notice that if you use the &lt;code>void&lt;/code> type for a variable, you can only assign &lt;code>undefined&lt;/code> to that variable. In this case, the &lt;code>void&lt;/code> type is not useful.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>never&lt;/p>
&lt;p>The &lt;code>never&lt;/code> type is a type that contains no values. Because of this, you cannot assign any value to a variable with a &lt;code>never&lt;/code> type.&lt;/p>
&lt;p>Typically, you use the &lt;code>never&lt;/code> type to represent the return type of a function that &lt;strong>always throws an error&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">raiseError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">never&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Variables can also acquire the &lt;code>never&lt;/code> type when you narrow its type by a &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-type-guards/" target="_blank" rel="noopener"
>type guard&lt;/a> that can never be true.&lt;/p>
&lt;p>For example, without the &lt;code>never&lt;/code> type, the following function causes an error because not all code paths return a value.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;string&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;number&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To make the code valid, you can return a function whose return type is the &lt;code>never&lt;/code> type.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;string&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;number&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// make the function valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">neverOccur&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">neverOccur&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Never!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>union&lt;/p>
&lt;p>The union type allows you to &lt;strong>combine&lt;/strong> multiple types into one type.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// OK
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Hi&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// also OK
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// a boolean value, not OK
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>function&lt;/p>
&lt;p>A function type has two parts: parameters and return type. When declaring a function type, you need to specify both parts with the following syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="nx">parameter&lt;/span>: &lt;span class="kt">type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parameter&lt;/span>:&lt;span class="kt">type&lt;/span>&lt;span class="p">,...)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kr">type&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Once annotating a variable with a function type, you can assign the function with the same type to the variable.&lt;/p>
&lt;p>If a function has different branches that return different types, the TypeScript compiler may infer the &lt;code>union&lt;/code> type or &lt;code>any&lt;/code> type.&lt;/p>
&lt;p>Therefore, it is important to add type annotations to a function &lt;strong>as much as possible&lt;/strong>.&lt;/p>
&lt;p>TypeScript compiler can figure out the function type when you have the type on one side of the equation. This form of &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-type-inference/" target="_blank" rel="noopener"
>type inference&lt;/a> is called contextual typing.&lt;/p>
&lt;p>&lt;img src="https://www.typescripttutorial.net/wp-content/uploads/2020/06/TypeScript-Function-Type-Example.png"
loading="lazy"
alt="img"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>String Literal Type&lt;/p>
&lt;p>The string literal types allow you to define a type that accepts only one specified string literal.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">click&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The string literal type is useful to limit a possible string value in a variable.&lt;/p>
&lt;p>The string literal types can combine nicely with the &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-union-type/" target="_blank" rel="noopener"
>union types&lt;/a> to define a finite set of string literal values for a variable:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">mouseEvent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s1">&amp;#39;dblclick&amp;#39;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s1">&amp;#39;mouseup&amp;#39;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s1">&amp;#39;mousedown&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;dblclick&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;mouseup&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;mousedown&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;mouseover&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// compiler error
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you use the string literal types in multiple places, they will be very verbose.&lt;/p>
&lt;p>To avoid this, you can use the type aliases.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">MouseEvent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s1">&amp;#39;dblclick&amp;#39;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s1">&amp;#39;mouseup&amp;#39;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s1">&amp;#39;mousedown&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">mouseEvent&lt;/span>: &lt;span class="kt">MouseEvent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;dblclick&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;mouseup&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;mousedown&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">mouseEvent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;mouseover&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// compiler error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">anotherEvent&lt;/span>: &lt;span class="kt">MouseEvent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="type-annotation">Type Annotation
&lt;/h2>&lt;p>TypeScript uses type annotations to &lt;strong>explicitly specify types for identifiers&lt;/strong> such variables, functions, objects, etc.&lt;/p>
&lt;p>TypeScript uses the syntax &lt;code>: type&lt;/code> after an identifier as the type annotation, where &lt;code>type&lt;/code> can be any valid type.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">variableName&lt;/span>: &lt;span class="kt">type&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">variableName&lt;/span>: &lt;span class="kt">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">constantName&lt;/span>: &lt;span class="kt">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//array
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">arrayName&lt;/span>: &lt;span class="kt">type&lt;/span>&lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//object
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">person&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">employee&lt;/span>: &lt;span class="kt">object&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//functions
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">greeting&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="type-inference">Type Inference
&lt;/h2>&lt;p>Type inference describes where and how TypeScript infers types when you don’t explicitly &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-type-annotations/" target="_blank" rel="noopener"
>annotate&lt;/a> them. Type inference occurs when you initialize variables, set parameter default values, and determine function return types. TypeScript uses the best common type algorithm to select the best candidate types that are compatible with all variables. TypeScript also uses &lt;strong>contextual typing&lt;/strong> to infer types of variables based on the locations of the variables.&lt;/p>
&lt;p>In practice, you should always use the type inference &lt;strong>as much as possible&lt;/strong>. And you use the type annotation in the folowing cases:&lt;/p>
&lt;ul>
&lt;li>When you declare a variable and assign it a value &lt;strong>later&lt;/strong>.&lt;/li>
&lt;li>When you want a variable that &lt;strong>can’t be inferred&lt;/strong>.&lt;/li>
&lt;li>When a function returns the &lt;code>any&lt;/code> type and you need to &lt;strong>clarify the value&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;h2 id="type-aliases">Type Aliases
&lt;/h2>&lt;p>Type aliases allow you to create a new name for an existing type. The following shows the syntax of the type alias:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">alias&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">existingType&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">chars&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The existing type can be any valid TypeScript type.&lt;/p>
&lt;p>It’s useful to create type aliases for union types.&lt;/p>
&lt;h2 id="type-gaurd">Type Gaurd
&lt;/h2>&lt;p>Type Guards allow you to narrow down the type of a variable within a &lt;strong>conditional block&lt;/strong>.&lt;/p>
&lt;ul>
&lt;li>typeof&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">alphanumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">alphanumeric&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">alphanumeric&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">concat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Invalid arguments. Both arguments must be either numbers or strings.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>instanceof&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Customer&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isCreditAllowed&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Supplier&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isInShortList&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">BusinessPartner&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Customer&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Supplier&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">signContract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">partner&lt;/span>: &lt;span class="kt">BusinessPartner&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">message&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">partner&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nx">Customer&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">partner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isCreditAllowed&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Sign a new contract with the customer&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Credit issue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">partner&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nx">Supplier&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">partner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isInShortList&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Sign a new contract the supplier&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Need to evaluate further&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">message&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>in&lt;/p>
&lt;p>The &lt;code>in&lt;/code> operator carries a safe check for the existence of a property on an object. You can also use it as a type guard.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">signContract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">partner&lt;/span>: &lt;span class="kt">BusinessPartner&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">message&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isCreditAllowed&amp;#39;&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="nx">partner&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">partner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isCreditAllowed&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Sign a new contract with the customer&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Credit issue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// must be Supplier
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">partner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isInShortList&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Sign a new contract the supplier &amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Need to evaluate further&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">message&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>User-Defined Type Guard&lt;/p>
&lt;p>User-defined type guards allow you to define a type guard or help TypeScript infer a type when you &lt;strong>use a function&lt;/strong>.&lt;/p>
&lt;p>A user-defined type guard function is a function that &lt;strong>simply returns &lt;code>arg is aType&lt;/code>&lt;/strong>. For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isCustomer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">partner&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">partner&lt;/span> &lt;span class="k">is&lt;/span> &lt;span class="nx">Customer&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">partner&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nx">Customer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this example, the &lt;code>isCustomer()&lt;/code> is a user-defined type guard function. Now you can use it in as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">signContract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">partner&lt;/span>: &lt;span class="kt">BusinessPartner&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">message&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">isCustomer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">partner&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">partner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isCreditAllowed&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Sign a new contract with the customer&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Credit issue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">partner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isInShortList&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Sign a new contract with the supplier&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Need to evaluate further&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">message&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="type-casting">Type Casting
&lt;/h2>&lt;p>Type casting allow you to convert a variable from one type to another type.&lt;/p>
&lt;p>In TypeScript, you can use the &lt;code>as&lt;/code> keyword or &lt;code>&amp;lt;&amp;gt;&lt;/code> operator for type castings.&lt;/p>
&lt;ul>
&lt;li>Type Casting using the &lt;code>as&lt;/code> keyword&lt;/li>
&lt;/ul>
&lt;p>The following selects the first input element by using the &lt;code>querySelector()&lt;/code> method:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-JS" data-lang="JS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;input[&amp;#34;type=&amp;#34;text&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Since the returned type of the &lt;code>document.querySelector()&lt;/code> method is the &lt;code>Element&lt;/code> type, the following code causes a compiler error:&lt;/p>
&lt;pre tabindex="0">&lt;code>console.log(input.value);JS
&lt;/code>&lt;/pre>&lt;p>The reason is that the value property doesn’t exist in the Element type. It only exists on the &lt;code>HTMLInputElement&lt;/code> type.&lt;/p>
&lt;p>To resolve this, you can use type casting that cast the Element to &lt;code>HTMLInputElement&lt;/code> by using the &lt;code>as&lt;/code> keyword like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-TS" data-lang="TS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;input[type=&amp;#34;text&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">HTMLInputElement&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now, the &lt;code>input&lt;/code> variable has the type &lt;code>HTMLInputElement&lt;/code>.&lt;/p>
&lt;p>Another way to cast the &lt;code>Element&lt;/code> to &lt;code>HTMLInputElement&lt;/code> is when you access the property as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-TS" data-lang="TS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">enteredText&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">HTMLInputElement&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that the &lt;code>HTMLInputElement&lt;/code> type extends the &lt;code>HTMLElement&lt;/code> type that extends to the &lt;code>Element&lt;/code> type. When you cast the &lt;code>HTMLElement&lt;/code> to &lt;code>HTMLInputElement&lt;/code>, this type casting is also known as a &lt;strong>down casting&lt;/strong>.&lt;/p>
&lt;p>The syntax for converting a variable from &lt;code>typeA&lt;/code> to &lt;code>typeB&lt;/code> is as follows:&lt;/p>
&lt;pre tabindex="0">&lt;code>let a: typeA;
let b = a as typeB;
Code language: TypeScript (typescript)
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>Type Casting using the &amp;lt;&amp;gt; operator&lt;/li>
&lt;/ul>
&lt;p>Besides the &lt;code>as&lt;/code> keyword, you can use the &lt;code>&amp;lt;&amp;gt;&lt;/code> operator to carry a type casting. For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-TS" data-lang="TS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">HTMLInputElement&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;input[type=&amp;#34;text&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The syntax for type casting using the &lt;code>&amp;lt;&amp;gt;&lt;/code> is:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-TS" data-lang="TS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">a&lt;/span>: &lt;span class="kt">typeA&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">typeB&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="type-assertion">Type Assertion
&lt;/h2>&lt;p>Type assertions instruct the TypeScript compiler to treat a value as a specified type. It uses the &lt;code>as&lt;/code> keyword to do so:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expression&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">targetType&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A type assertion is also known as &lt;strong>type narrowing&lt;/strong>. It allows you to narrow a type from a &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-union-type/" target="_blank" rel="noopener"
>union type&lt;/a>.&lt;/p>
&lt;p>Note that a type assertion does not carry any &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/type-casting/" target="_blank" rel="noopener"
>type casting&lt;/a>. It only tells the compiler &lt;strong>which type it should apply to a value&lt;/strong> &lt;strong>for the type checking purposes.&lt;/strong>&lt;/p>
&lt;p>You can also uses the angle bracket syntax &lt;code>&amp;lt;&amp;gt;&lt;/code> to assert a type, like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">targetType&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">netPrice&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">number&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">getNetPrice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.05&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that you cannot use angle bracket syntax &lt;code>&amp;lt;&amp;gt;&lt;/code> with some libraries such as React.&lt;/p>
&lt;h2 id="intersection-type">Intersection Type
&lt;/h2>&lt;p>An intersection type creates a new type by combining multiple existing types. The new type has all features of the existing types.&lt;/p>
&lt;p>To combine types, you use the &lt;code>&amp;amp;&lt;/code> operator as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">typeAB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">typeA&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nx">typeB&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>typeAB&lt;/code> will have all properties from both &lt;code>typeA&lt;/code> and &lt;code>typeB&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">BusinessPartner&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">credit&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Identity&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Contact&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">phone&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Employee&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Identity&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nx">Contact&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Customer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">BusinessPartner&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nx">Contact&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Employee&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Identity&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nx">Contact&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">e&lt;/span>: &lt;span class="kt">Employee&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>: &lt;span class="kt">100&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;John Doe&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;john.doe@example.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">phone&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;(408)-897-5684&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>When you intersect types, the order of the types doesn’t matter.&lt;/p>
&lt;h2 id="function">Function
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>Optional Parameters&lt;/p>
&lt;p>Because the compiler thoroughly checks the passing arguments, you need to annotate optional parameters to instruct the compiler not to issue an error when you omit the arguments.&lt;/p>
&lt;p>To make a function parameter optional, you use the &lt;code>?&lt;/code> after the parameter name.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">multiply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">c?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">number&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">c&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;undefined&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The optional parameters must appear &lt;strong>after&lt;/strong> the required parameters in the parameter list.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Default Parameters&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">parameter1&lt;/span>:&lt;span class="kt">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">defaultvalue1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parameter2&lt;/span>:&lt;span class="kt">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">defaultvalue2&lt;/span>&lt;span class="p">,...)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Notice that you &lt;strong>cannot&lt;/strong> include default parameters in &lt;strong>function type definitions&lt;/strong>. The following code will result in an error:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">promotion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">price&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">discount&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.05&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//error TS2371: A parameter initializer is only allowed in a function or constructor implementation.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>both the default parameters and trailing default parameters share the same type.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">applyDiscount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">price&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">discount&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.05&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">number&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">applyDiscount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">price&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">discount?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">number&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//both are
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">price&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">discount?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kt">number&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>However, default parameters don’t need to appear after the required parameters.&lt;/p>
&lt;p>When a default parameter appears before a required parameter, you need to explicitly pass &lt;code>undefined&lt;/code> to get the default initialized value.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Rest Parameters&lt;/p>
&lt;p>To declare a rest parameter, you prefix the parameter name with three dots and use the array type as the type annotation:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">rest&lt;/span>: &lt;span class="kt">type&lt;/span>&lt;span class="p">[])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>function overloadings&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The union type doesn’t express the relationship between the parameter types and results accurately.&lt;/p>
&lt;p>To better describe the relationships between the types used by a function, TypeScript supports function overloadings.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">any&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//with optional parameter
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">c&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">c?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">number&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="class">Class
&lt;/h2>&lt;p>JavaScript does not have a concept of class like other programming languages such as Java and C#. In ES5, you can use a constructor function and &lt;a class="link" href="https://www.javascripttutorial.net/javascript-prototypal-inheritance/" target="_blank" rel="noopener"
>prototype inheritance&lt;/a> to create a “class”.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">Person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ssn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ssn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ssn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prototype&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFullName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">person&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;171-28-0926&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;John&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;Doe&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFullName&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-class/" target="_blank" rel="noopener"
>ES6 allowed you to define a class&lt;/a> which is simply syntactic sugar for creating constructor function and prototypal inheritance&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ssn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ssn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ssn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ssn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getFullName() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>TypeScript class adds &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-type-annotations/" target="_blank" rel="noopener"
>type annotations&lt;/a> to the properties and methods of the class. The following shows the &lt;code>Person&lt;/code> class in TypeScript:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ssn&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ssn&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">firstName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ssn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ssn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getFullName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="access-modifier">Access Modifier
&lt;/h3>&lt;p>Access modifiers change the visibility of the properties and methods of a &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-class/" target="_blank" rel="noopener"
>class&lt;/a>. TypeScript provides three access modifiers:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>private&lt;/p>
&lt;p>The &lt;code>private&lt;/code> modifier limits the visibility &lt;strong>to the same-class only&lt;/strong>. When you add the &lt;code>private&lt;/code> modifier to a property or method, you can access that property or method within the same class. Any attempt to access private properties or methods outside the class will result in an error at compile time.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">ssn&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">firstName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">lastName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>protected&lt;/p>
&lt;p>The &lt;code>protected&lt;/code> modifier allows properties and methods of a class to be accessible &lt;strong>within same class and within subclasses&lt;/strong>.&lt;/p>
&lt;p>To make the code shorter, TypeScript allows you to both declare properties and initialize them in the constructor like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">protected&lt;/span> &lt;span class="nx">ssn&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">private&lt;/span> &lt;span class="nx">firstName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">private&lt;/span> &lt;span class="nx">lastName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ssn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ssn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getFullName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>public&lt;/p>
&lt;p>The public modifier allows class properties and methods &lt;strong>to be accessible from all locations&lt;/strong>. If you don’t specify any access modifier for properties and methods, they will &lt;strong>take the public modifier by default&lt;/strong>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Note that TypeScript controls the access logically during &lt;strong>compilation time&lt;/strong>, not at runtime.&lt;/p>
&lt;h3 id="readonly">readonly
&lt;/h3>&lt;p>TypeScript provides the readonly modifier that allows you to mark the properties of a class immutable. The assignment to a readonly property can only occur in one of two places:&lt;/p>
&lt;ul>
&lt;li>In the &lt;strong>property declaration&lt;/strong>.&lt;/li>
&lt;li>In the &lt;strong>constructor&lt;/strong> of the same class.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">readonly&lt;/span> &lt;span class="nx">birthDate&lt;/span>: &lt;span class="kt">Date&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">birthDate&lt;/span>: &lt;span class="kt">Date&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">birthDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">birthDate&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Like other &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-access-modifiers/" target="_blank" rel="noopener"
>access modifiers&lt;/a>, you can consolidate the declaration and initialization of a readonly property in the constructor like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">readonly&lt;/span> &lt;span class="nx">birthDate&lt;/span>: &lt;span class="kt">Date&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">birthDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">birthDate&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="readonly-vs-const">Readonly vs. const
&lt;/h3>&lt;p>The following shows the differences between readonly and const:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;code>readonly&lt;/code>&lt;/th>
&lt;th>&lt;code>const&lt;/code>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Use for&lt;/td>
&lt;td>Class properties&lt;/td>
&lt;td>Variables&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Initialization&lt;/td>
&lt;td>In the declaration or in the constructor of the same class&lt;/td>
&lt;td>In the declaration&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="interface">Interface
&lt;/h2>&lt;p>TypeScript interfaces define the contracts within your code. They also provide &lt;strong>explicit names&lt;/strong> for type checking.&lt;/p>
&lt;p>By convention, the interface names are in the camel case. They use a single capitalized letter to separate words in there names.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">getFullName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>: &lt;span class="kt">Person&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">john&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;John&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Doe&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">getFullName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">john&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="optional-properties">Optional Properties
&lt;/h3>&lt;p>An interface may have optional properties. To declare an optional property, you use the question mark (&lt;code>?)&lt;/code> at the end of the property name in the declaration&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleName?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="function-types">Function Types
&lt;/h3>&lt;p>In addition to &lt;strong>describing an object with properties&lt;/strong>, interfaces also allow you to describe &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-function-types/" target="_blank" rel="noopener"
>function types&lt;/a>.&lt;/p>
&lt;p>To describe a function type, you assign the interface to the &lt;strong>function signature&lt;/strong> that contains the parameter list with types and returned types.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">StringFormat&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">str&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">isUpper&lt;/span>: &lt;span class="kt">boolean&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="class-types">Class Types
&lt;/h3>&lt;p>The interface can also be used to define &lt;strong>a contract between unrelated classes&lt;/strong>.&lt;/p>
&lt;p>For example, the following &lt;code>Json&lt;/code> interface can be implemented by any unrelated classes:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Json&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toJSON&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The following declares a class that implements the &lt;code>Json&lt;/code> interface:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="kr">implements&lt;/span> &lt;span class="nx">Json&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">private&lt;/span> &lt;span class="nx">firstName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">lastName&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toJson&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="extending">extending
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Mailable&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">email&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">queue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">email&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">FutureMailable&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Mailable&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">later&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">email&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">after&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Like classes, the &lt;code>FutureMailable&lt;/code> interface inherits the &lt;code>send()&lt;/code> and &lt;code>queue()&lt;/code> methods from the &lt;code>Mailable&lt;/code> interface.&lt;/p>
&lt;p>An interface can extend multiple interfaces, creating a combination of all the interfaces.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">A&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">B&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">A&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">C&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">D&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">B&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">C&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">d&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>TypeScript &lt;strong>allows an interface to extend a class&lt;/strong>. In this case, the interface inherits the properties and methods of the class. Also, the interface can inherit the private and protected members of the class, not just the public members.&lt;/p>
&lt;p>It means that when an interface extends a class with private or protected members, the interface can only be implemented by that class or subclasses of that class from which the interface extends.&lt;/p>
&lt;p>By doing this, you &lt;strong>restrict the usage of the interface to only class or subclasses of the class&lt;/strong> from which the interface extends. If you attempt to implement the interface from a class that is not a subclass of the class that the interface inherited, you’ll get an error. For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Control&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">state&lt;/span>: &lt;span class="kt">boolean&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">StatefulControl&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Control&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enable&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Button&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Control&lt;/span> &lt;span class="kr">implements&lt;/span> &lt;span class="nx">StatefulControl&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enable() {&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">TextBox&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Control&lt;/span> &lt;span class="kr">implements&lt;/span> &lt;span class="nx">StatefulControl&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enable() {&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Label&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Control&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Error: cannot implement
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">class&lt;/span> &lt;span class="nx">Chart&lt;/span> &lt;span class="kr">implements&lt;/span> &lt;span class="nx">StatefulControl&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enable() {&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="generics">Generics
&lt;/h2>&lt;p>TypeScript generics allow you to write the &lt;strong>reusable and generalized form&lt;/strong> of functions, classes, and interfaces.&lt;/p>
&lt;p>In order to avoid code duplication. We can:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">getRandomAnyElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">items&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">[])&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">any&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">randomIndex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">items&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">randomIndex&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This solution works fine. However, it has a drawback.&lt;/p>
&lt;p>It doesn’t allow you to enforce the type of the returned element. In other words, it isn’t type-safe.&lt;/p>
&lt;p>A better solution to avoid code duplication while preserving the type is to use generics.&lt;/p>
&lt;p>The following shows a generic function that returns the random element from an array of type &lt;code>T&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">getRandomElement&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">items&lt;/span>: &lt;span class="kt">T&lt;/span>&lt;span class="p">[])&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">T&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">randomIndex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">items&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">randomIndex&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">merge&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">U&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">V&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">obj1&lt;/span>: &lt;span class="kt">U&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">obj2&lt;/span>: &lt;span class="kt">V&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>&lt;span class="nx">obj1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>&lt;span class="nx">obj2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This function uses type variable &lt;code>T&lt;/code>. The &lt;code>T&lt;/code> allows you to &lt;strong>capture the type that is provided at the time of calling the function&lt;/strong>.&lt;/p>
&lt;p>This &lt;code>getRandomElement()&lt;/code> function is generic because it can work with any data type including string, number, objects,…&lt;/p>
&lt;p>By convention, we use the letter &lt;code>T&lt;/code> as the type variable. However, you can freely use other letters such as &lt;code>A&lt;/code>, &lt;code>B&lt;/code> &lt;code>C&lt;/code>, …&lt;/p>
&lt;p>The following shows how to use the &lt;code>getRandomElement()&lt;/code> with an array of numbers:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">numbers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">randomEle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getRandomElement&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">number&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">numbers&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">randomEle&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This example &lt;strong>explicitly&lt;/strong> passes &lt;code>number&lt;/code> as the &lt;code>T&lt;/code> type into the &lt;code>getRandomElement()&lt;/code> function.&lt;/p>
&lt;p>In practice, you’ll use &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-type-inference/" target="_blank" rel="noopener"
>type inference&lt;/a> for the argument. It means that you let the TypeScript compiler set the value of &lt;code>T&lt;/code> automatically based on the type of argument that you pass into, like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">numbers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">randomEle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getRandomElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">numbers&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">randomEle&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this example, we didn’t pass the &lt;code>number&lt;/code> type to the &lt;code>getRandomElement()&lt;/code> explicitly. The compiler just looks at the argument and sets &lt;code>T&lt;/code> to its type.&lt;/p>
&lt;h3 id="generics-constraint">Generics Constraint
&lt;/h3>&lt;p>In order to denote the constraint, you use the &lt;code>extends&lt;/code> keyword. For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">merge&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">U&lt;/span> &lt;span class="na">extends&lt;/span> &lt;span class="na">object&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">V&lt;/span> &lt;span class="na">extends&lt;/span> &lt;span class="na">object&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">obj1&lt;/span>: &lt;span class="kt">U&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">obj2&lt;/span>: &lt;span class="kt">V&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>&lt;span class="nx">obj1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>&lt;span class="nx">obj2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Because the &lt;code>merge()&lt;/code> function is now constrained, it will no longer work with all types. Instead, it works with the &lt;code>object&lt;/code> type only.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">prop&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">K&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">obj&lt;/span>: &lt;span class="kt">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">key&lt;/span>: &lt;span class="kt">K&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//Type &amp;#39;K&amp;#39; cannot be used to index type &amp;#39;T&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">prop&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">K&lt;/span> &lt;span class="na">extends&lt;/span> &lt;span class="na">keyof&lt;/span> &lt;span class="na">T&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">obj&lt;/span>: &lt;span class="kt">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">key&lt;/span>: &lt;span class="kt">K&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Use &lt;code>extends&lt;/code> keyword to constrain the type parameter to a specific type.&lt;/li>
&lt;li>Use &lt;code>extends keyof&lt;/code> to constrain a type that is the property of another object.&lt;/li>
&lt;/ul>
&lt;h3 id="generics-class">Generics Class
&lt;/h3>&lt;p>A &lt;a class="link" href="https://www.typescripttutorial.net/typescript-tutorial/typescript-generics/" target="_blank" rel="noopener"
>generic&lt;/a> class has a generic type parameter list in an angle brackets &lt;code>&amp;lt;&amp;gt;&lt;/code> that follows the name of the class:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">className&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">className&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">K&lt;/span>&lt;span class="err">,&lt;/span>&lt;span class="na">T&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">className&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span> &lt;span class="na">extends&lt;/span> &lt;span class="na">TypeA&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Stack&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">elements&lt;/span>: &lt;span class="kt">T&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">private&lt;/span> &lt;span class="nx">size&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isEmpty&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">elements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isFull&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">boolean&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">elements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>: &lt;span class="kt">T&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">elements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;The stack is overflow!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">elements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pop&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">T&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">elements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;The stack is empty!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">elements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="generics-interface">Generics Interface
&lt;/h3>&lt;p>Like classes, interfaces also can be generic. A generic interface has generic type parameter list in an angle brackets &lt;code>&amp;lt;&amp;gt;&lt;/code> following the name of the interface:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">interfaceName&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">interfaceName&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">U&lt;/span>&lt;span class="err">,&lt;/span>&lt;span class="na">V&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Pair&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">K&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">V&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>: &lt;span class="kt">K&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">value&lt;/span>: &lt;span class="kt">V&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Options&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">T&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">inputOptions&lt;/span>: &lt;span class="kt">Options&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">boolean&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;disabled&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;visible&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【JS】ES6</title><link>https://dyhes.github.io/p/jses6/</link><pubDate>Mon, 19 Apr 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/jses6/</guid><description>&lt;h2 id="parameter">Parameter
&lt;/h2>&lt;h3 id="default-parameter">Default Parameter
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">say&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;Hi&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">say&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// &amp;#39;Hi&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">say&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;#39;Hello&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you want to use the default values for the parameters, pass &lt;code>undefined&lt;/code> values to the parameters.&lt;/p>
&lt;p>The parameter can take a default value which is a result of a function. You can assign a parameter a default value that references to other default parameters as shown in the following example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">z&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">z&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>；‘’、》The value of &lt;strong>the &lt;code>arguments&lt;/code> object&lt;/strong> inside the function is the number of actual arguments that you pass to the function. For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">z&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">arguments&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">z&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 3
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="rest-parameter">Rest Parameter
&lt;/h3>&lt;p>ES6 provides a new kind of parameter so-called rest parameter that has a prefix of three dots &lt;code>(...)&lt;/code>. A rest parameter **allows you to &lt;strong>represent an indefinite number of arguments as an array&lt;/strong>. See the following syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Notice that the rest parameters must appear &lt;strong>at the end of the argument list&lt;/strong>.&lt;/p>
&lt;p>See the following example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">sum&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">total&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">total&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="spread-operator">Spread Operator
&lt;/h2>&lt;p>ES6 provides a new operator called spread operator that consists of three dots &lt;code>(...).&lt;/code> The spread operator allows you to spread out elements of an &lt;strong>iterable object&lt;/strong> such as an &lt;a class="link" href="https://www.javascripttutorial.net/javascript-array/" target="_blank" rel="noopener"
>array&lt;/a>,a &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-map/" target="_blank" rel="noopener"
>map&lt;/a>, or a &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-set/" target="_blank" rel="noopener"
>set&lt;/a>. For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">odd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">combined&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">odd&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Output:&lt;/p>
&lt;pre tabindex="0">&lt;code>[ 2, 4, 6, 1, 3, 5 ]
&lt;/code>&lt;/pre>&lt;p>So the three dots ( &lt;code>...&lt;/code>) represent both the spread operator and the rest parameter.&lt;/p>
&lt;p>Here are the main differences:&lt;/p>
&lt;ul>
&lt;li>The spread operator &lt;strong>unpacks&lt;/strong> elements.&lt;/li>
&lt;li>The rest parameter &lt;strong>packs&lt;/strong> elements into an array.&lt;/li>
&lt;/ul>
&lt;p>The rest parameters must be the last arguments of a function. However, the spread operator can be anywhere:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-JS" data-lang="JS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">rivers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Nile&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Ganges&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Yangte&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">moreRivers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Danube&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Amazon&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ES5
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prototype&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">apply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">rivers&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">moreRivers&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">rivers&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ES6
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">rivers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">moreRivers&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that ES2018 expands the spread operator to objects. It is known as the &lt;a class="link" href="https://www.javascripttutorial.net/es-next/javascript-object-spread/" target="_blank" rel="noopener"
>object spread&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">circle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">radius&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">coloredCircle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>&lt;span class="nx">circle&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;black&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="object-literal">Object literal
&lt;/h2>&lt;p>ES6 allows you to &lt;strong>eliminate the duplication&lt;/strong> when a property of an object is the same as the local variable name by including the name without a colon and value.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-JS" data-lang="JS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">createMachine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">status&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">status&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You could use the square brackets( &lt;code>[]&lt;/code>) to enable the &lt;strong>computed property names&lt;/strong> for the properties on objects.&lt;/p>
&lt;p>The square brackets allow you to use the string literals and &lt;strong>variables&lt;/strong> as the property names.&lt;/p>
&lt;p>When a property name is placed inside the square brackets, the JavaScript engine &lt;strong>evaluates it as a string&lt;/strong>. It means that you can use an expression as a property name.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-JS" data-lang="JS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;machine&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">machine&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;server&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; hours&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">10000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">machine&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;machine name&amp;#39;&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="c1">// server
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">machine&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;machine hours&amp;#39;&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="c1">// 10000
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="concise-method-syntax">Concise Method Syntax
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-JS" data-lang="JS">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ES5
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Server&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">restart&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;The&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34; is restarting...&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ES6
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Server&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">restart&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;The&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34; is restarting...&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This shorthand syntax is also known as the &lt;strong>concise method syntax&lt;/strong>. It’s valid to have spaces in the property name.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-JS" data-lang="JS">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Server&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">restart&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;The &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34; is restarting...&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;starting up&amp;#39;&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;The &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34; is starting up!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">server&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;starting up&amp;#39;&lt;/span>&lt;span class="p">]();&lt;/span>&lt;span class="nx">Code&lt;/span> &lt;span class="nx">language&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">JavaScript&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">javascript&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this example, the method &lt;code>'starting up'&lt;/code> has spaces in its name. To call the method, you use the following syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-JS" data-lang="JS">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">object_name&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;property name&amp;#39;&lt;/span>&lt;span class="p">]();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="new-way-to-loop">New Way to Loop
&lt;/h2>&lt;p>ES6 introduced a new statement &lt;code>for...of&lt;/code> that iterates over an iterable object such as:&lt;/p>
&lt;ul>
&lt;li>Built-in &lt;a class="link" href="https://www.javascripttutorial.net/javascript-array/" target="_blank" rel="noopener"
>Array&lt;/a>, &lt;a class="link" href="https://www.javascripttutorial.net/javascript-string/" target="_blank" rel="noopener"
>String&lt;/a>, &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-map/" target="_blank" rel="noopener"
>Map&lt;/a>, &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-set/" target="_blank" rel="noopener"
>Set&lt;/a>, …&lt;/li>
&lt;li>Array-like objects such as &lt;code>arguments&lt;/code> or &lt;code>NodeList&lt;/code>&lt;/li>
&lt;li>User-defined objects that implement the &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-iterator/" target="_blank" rel="noopener"
>iterator protocol&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>The following illustrates the syntax of the &lt;code>for...of&lt;/code>:&lt;/p>
&lt;p>You can use &lt;code>var&lt;/code>, &lt;code>let&lt;/code>, or &lt;code>const&lt;/code> to declare the &lt;code>variable&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-JS" data-lang="JS">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">variable&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">iterable&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// statements
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Array destructing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">colors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Red&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Green&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Blue&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">color&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">colors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> is at index &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// object destructing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">ratings&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;John&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">score&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Jane&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">score&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;David&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">score&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Peter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">score&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">score&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">ratings&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">score&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="destructure">Destructure
&lt;/h2>&lt;h3 id="array-destructuring">Array Destructuring
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="p">,...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">someFuncReturnArray&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If the value taken from the array is &lt;code>undefined&lt;/code>, you can assign the variable a default value, like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//a=10,b=2;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="object-destructuring">Object Destructuring
&lt;/h3>&lt;p>ES6 introduces the object destructuring syntax that provides an alternative way to &lt;strong>assign properties of an object to variables&lt;/strong>:&lt;/p>
&lt;pre tabindex="0">&lt;code>let { firstName: fname, lastName: lname } = person
&lt;/code>&lt;/pre>&lt;p>In this example, the &lt;code>firstName&lt;/code> and &lt;code>lastName&lt;/code> properties are assigned to the &lt;code>fName&lt;/code> and &lt;code>lName&lt;/code> variables respectively.&lt;/p>
&lt;p>The identifier before the colon (&lt;code>:&lt;/code>) is the property of the object and the identifier &lt;strong>after&lt;/strong> the colon is the &lt;strong>variable&lt;/strong>.&lt;/p>
&lt;p>If the variables have &lt;strong>the same names&lt;/strong> as the properties of the object, you can make the code more concise as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">person&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It’s possible to separate the declaration and assignment. However, you must surround the variables in &lt;strong>parentheses&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">({&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">person&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you don’t use the parentheses, the JavaScript engine will interpret the left-hand side as a block and throw a syntax error.&lt;/p>
&lt;p>When you assign a property that does not exist to a variable using the object destructuring, the variable is set to &lt;strong>&lt;code>undefined&lt;/code>&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">middleName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">currentAge&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">age&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">18&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">person&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To avoid typeError caused by null returned, you can use &lt;code>||&lt;/code> to fallback the &lt;code>null&lt;/code> object to an empty object:&lt;/p>
&lt;pre tabindex="0">&lt;code>let { firstName, lastName } = getPerson() || {};
&lt;/code>&lt;/pre>&lt;h2 id="module">Module
&lt;/h2>&lt;p>An ES6 module is a JavaScript file that &lt;strong>executes in strict mode only&lt;/strong>. It means that any &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-let/" target="_blank" rel="noopener"
>variables&lt;/a> or &lt;a class="link" href="https://www.javascripttutorial.net/javascript-function/" target="_blank" rel="noopener"
>functions&lt;/a> declared in the module won’t be added automatically to the global scope.&lt;/p>
&lt;p>First, create a new file called &lt;code>message.js&lt;/code> and add the following code:&lt;/p>
&lt;pre tabindex="0">&lt;code>export let message = &amp;#39;ES6 Modules&amp;#39;;
&lt;/code>&lt;/pre>&lt;p>The &lt;code>message.js&lt;/code> is a module in ES6 that contains the &lt;code>message&lt;/code> variable. The &lt;code>export&lt;/code> statement &lt;strong>exposes&lt;/strong> the &lt;code>message&lt;/code> variable to other modules.&lt;/p>
&lt;p>Second, create another new file named &lt;code>app.js&lt;/code> that uses the &lt;code>message.js&lt;/code> module. The &lt;code>app.js&lt;/code> module creates a new heading 1 (h1) element and attaches it to an HTML page. The &lt;code>import&lt;/code> statement imports the &lt;code>message&lt;/code> variable from the &lt;code>message.js&lt;/code> module.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">message&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./message.js&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">h1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;h1&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">h1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textContent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">message&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">appendChild&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">h1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Third, create a new HTML page that uses the &lt;code>app.js&lt;/code> module:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!&lt;/span>&lt;span class="nx">DOCTYPE&lt;/span> &lt;span class="nx">html&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">meta&lt;/span> &lt;span class="na">charset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ES6&lt;/span> &lt;span class="nx">Modules&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;module&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;./app.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that we used the &lt;code>type=&amp;quot;module&amp;quot;&lt;/code> in the script tag to load the &lt;code>app.js&lt;/code> module.&lt;/p>
&lt;p>To export a &lt;a class="link" href="https://www.javascripttutorial.net/javascript-variables/" target="_blank" rel="noopener"
>variable&lt;/a>, a &lt;a class="link" href="https://www.javascripttutorial.net/javascript-function/" target="_blank" rel="noopener"
>function&lt;/a>, or a &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-class/" target="_blank" rel="noopener"
>class&lt;/a>, you place the &lt;code>export&lt;/code> keyword in front of it.&lt;/p>
&lt;p>Note that the &lt;code>export&lt;/code> keyword requires the function or class to &lt;strong>have a name&lt;/strong> to be exported. You &lt;strong>can’t export an anonymous function or class&lt;/strong> using this syntax.&lt;/p>
&lt;p>Once you define a module with exports, you can access the exported variables, functions, and classes in another module by using the &lt;code>import&lt;/code> keyword.&lt;/p>
&lt;p>In this syntax:&lt;/p>
&lt;ul>
&lt;li>First, specify what to import inside the &lt;strong>curly braces&lt;/strong>, which are called bindings.&lt;/li>
&lt;li>Then, specify the module from which you import the given bindings.&lt;/li>
&lt;/ul>
&lt;p>Note that when you import a binding from a module, the binding behaves like it was defined using &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-const/" target="_blank" rel="noopener"
>const&lt;/a>. It means you can’t have another identifier with the same name or change the value of the binding.&lt;/p>
&lt;p>Behind the scenes, when you called the &lt;code>setMessage()&lt;/code> function. JavaScript went back to the &lt;code>greeting.js&lt;/code> module and executed code in there and changed the &lt;code>message&lt;/code> variable. The change was then automatically reflected on the imported &lt;code>message&lt;/code> binding.&lt;/p>
&lt;p>To import everything from a module &lt;strong>as a single object&lt;/strong>, you use the &lt;strong>asterisk (*) pattern&lt;/strong>&lt;/p>
&lt;p>all the bindings become properties of the object, so you can access them.&lt;/p>
&lt;p>JavaScript must &lt;em>statically&lt;/em> determine what will be exported and imported.&lt;/p>
&lt;p>JavaScript allows you to create &lt;strong>aliases&lt;/strong> for variables, functions, or classes when you export and import.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="nx">as&lt;/span> &lt;span class="nx">sum&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">sum&lt;/span> &lt;span class="nx">as&lt;/span> &lt;span class="nx">total&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./math.js&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">sum&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./math.js&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">sum&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It’s possible to export bindings that you have imported. This is called &lt;strong>re-exporting&lt;/strong>.&lt;/p>
&lt;p>A module can have &lt;strong>one and only one default export&lt;/strong>. The default export is easier to import. The default for a module can be a variable, a function, or a class.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// sort.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// sorting here
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">sort&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="nx">sort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">js&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that you don’t need to specify the name for the function because the module represents the function name.&lt;/p>
&lt;p>Notice that we &lt;strong>didn’t use the curly brace &lt;code>{}&lt;/code>&lt;/strong> surrounding the &lt;code>sort&lt;/code> identifier.&lt;/p>
&lt;p>To import both default and non-default bindings, you use the specify a list of bindings after the &lt;code>import&lt;/code> keyword with the following rules:&lt;/p>
&lt;ul>
&lt;li>The default binding must &lt;strong>come first&lt;/strong>.&lt;/li>
&lt;li>The non-default binding must be surrounded by curly braces.&lt;/li>
&lt;/ul>
&lt;h2 id="arrow-function">Arrow Function
&lt;/h2>&lt;ul>
&lt;li>Use the &lt;code>(...args) =&amp;gt; expression;&lt;/code> to define an arrow function.&lt;/li>
&lt;li>Use the &lt;code>(...args) =&amp;gt; { statements }&lt;/code> to define an arrow function that has &lt;strong>multiple statements&lt;/strong>.&lt;/li>
&lt;li>An arrow function &lt;strong>doesn’t&lt;/strong> have its binding to &lt;code>this&lt;/code> or &lt;code>super&lt;/code>.&lt;/li>
&lt;li>An arrow function &lt;strong>doesn’t&lt;/strong> have &lt;code>arguments&lt;/code> object, &lt;code>new.target&lt;/code> keyword, and &lt;code>prototype&lt;/code> property.&lt;/li>
&lt;/ul>
&lt;p>the arrow function doesn’t have its own &lt;code>this&lt;/code> value. It uses the &lt;code>this&lt;/code> value of the &lt;strong>enclosing lexical scope&lt;/strong>.&lt;/p>
&lt;p>Arrow functions don’t have the &lt;code>arguments&lt;/code> object. Therefore, if you have a function that use &lt;code>arguments&lt;/code> object, you cannot use the arrow function.&lt;/p>
&lt;h2 id="symbol">Symbol
&lt;/h2>&lt;p>To create a new symbol, you use the global &lt;code>Symbol()&lt;/code> function as shown in this example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Symbol&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>Symbol()&lt;/code> function creates a &lt;strong>new &lt;em>unique&lt;/em> value&lt;/strong> each time you call it&lt;/p>
&lt;p>The &lt;code>Symbol()&lt;/code> function accepts a &lt;code>description&lt;/code> as an optional argument. The &lt;code>description&lt;/code> argument will make your symbol more &lt;strong>descriptive&lt;/strong>.&lt;/p>
&lt;p>You can access the symbol’s description property using the &lt;code>toString()&lt;/code> method. The &lt;code>console.log()&lt;/code> method calls the &lt;code>toString()&lt;/code> method of the symbol implicitly&lt;/p>
&lt;p>Since a symbol is a &lt;strong>primitive value&lt;/strong>, if you attempt to create a symbol using the &lt;code>new&lt;/code> operator, you will get an error&lt;/p>
&lt;p>ES6 provides you with the global symbol registry that allows you to share symbols globally. If you want to create a symbol that will be shared, you use the &lt;code>Symbol.for()&lt;/code> method &lt;strong>instead of&lt;/strong> calling the &lt;code>Symbol()&lt;/code> function.&lt;/p>
&lt;ul>
&lt;li>To get the key associated with a symbol, you use the &lt;code>Symbol.keyFor()&lt;/code> method&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>
&lt;p>To get all the enumerable properties of an object, you use the &lt;code>Object.keys()&lt;/code> method.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>To get all properties of an object whether the properties are enumerable or not, you use the &lt;code>Object.getOwnPropertyNames()&lt;/code> method.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>To get all property symbols of an object, you use the &lt;code>Object.getOwnPropertySymbols()&lt;/code> method, which has been added in ES6.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">keys&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">task&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// [&amp;#34;description&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getOwnPropertyNames&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">task&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// [&amp;#34;description&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getOwnPropertySymbols&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">task&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">//[Symbol(status)]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ES6 provides predefined symbols which are called well-known symbols. The well-known symbols represent the common behaviors in JavaScript. Each well-known symbol is a static property of the &lt;code>Symbol&lt;/code> object.&lt;/p>
&lt;h2 id="iterator-and-generator">Iterator and Generator
&lt;/h2>&lt;p>There are two iteration protocols: &lt;strong>iterable protocol&lt;/strong> and &lt;strong>iterator protocol&lt;/strong>.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Iterator protocol&lt;/p>
&lt;p>An object is an iterator when it implements an interface (or API) that answers two questions:&lt;/p>
&lt;ul>
&lt;li>Is there any element left?&lt;/li>
&lt;li>If there is, what is the element?&lt;/li>
&lt;/ul>
&lt;p>Technically speaking, an object is qualified as an iterator when it has a &lt;code>next()&lt;/code> method that returns an object with two properties:&lt;/p>
&lt;ul>
&lt;li>&lt;code>done&lt;/code>: a boolean value indicating whether or not there are any more elements that could be iterated upon.&lt;/li>
&lt;li>&lt;code>value&lt;/code>: the current element.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Iterable protocol&lt;/p>
&lt;p>An object is iterable when it contains a method called &lt;code>[Symbol.iterator]&lt;/code> that takes no argument and returns an object which conforms to the iterator protocol.&lt;/p>
&lt;p>The &lt;code>[Symbol.iterator]&lt;/code> is one of the built-in well-known &lt;a class="link" href="https://www.javascripttutorial.net/es6/symbol/" target="_blank" rel="noopener"
>symbols&lt;/a> in ES6.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Since ES6 provides built-in iterators for the &lt;strong>collection types&lt;/strong> &lt;code>Array&lt;/code>, &lt;code>Set&lt;/code>, and &lt;code>Map&lt;/code>, you don’t have to create iterators for these objects.&lt;/p>
&lt;p>If you have a custom type and want to make it iterable so that you can use the &lt;code>for...of&lt;/code> loop construct, you need to implement the iteration protocols.&lt;/p>
&lt;blockquote>
&lt;p>The following code creates a &lt;code>Sequence&lt;/code> object that returns a list of numbers in the range of ( &lt;code>start&lt;/code>, &lt;code>end&lt;/code>) with an &lt;code>interval&lt;/code> between subsequent numbers.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Sequence&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">Infinity&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">interval&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">start&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">end&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">interval&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">interval&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">Symbol&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">iterator&lt;/span>&lt;span class="p">]()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">nextIndex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">start&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="nx">nextIndex&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">nextIndex&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nextIndex&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">interval&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">result&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">counter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cleaning up...&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The following code uses the &lt;code>Sequence&lt;/code> iterator in a &lt;code>for...of&lt;/code> loop:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">evenNumbers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Sequence&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">num&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">evenNumbers&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In addition to the &lt;code>next()&lt;/code> method, the &lt;code>[Symbol.iterator]()&lt;/code> may optionally return a method called &lt;code>return()&lt;/code>.&lt;/p>
&lt;p>The &lt;code>return()&lt;/code> method &lt;strong>is invoked automatically when the iteration is stopped prematurely&lt;/strong>. It is where you can place the code to &lt;strong>clean up&lt;/strong> the resources.&lt;/p>
&lt;h3 id="generator">Generator
&lt;/h3>&lt;p>ES6 introduces &lt;strong>a new kind of function&lt;/strong> that is different from a regular function: function generator or generator.&lt;/p>
&lt;p>A generator can &lt;strong>pause midway&lt;/strong> and then &lt;strong>continues&lt;/strong> from where it paused.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nx">generate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;invoked 1st time&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;invoked 2nd time&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Let’s examine the &lt;code>generate()&lt;/code> function in detail.&lt;/p>
&lt;ul>
&lt;li>First, you see the asterisk (&lt;code>*&lt;/code>) after the &lt;code>function&lt;/code> keyword. The asterisk &lt;strong>denotes&lt;/strong> that the &lt;code>generate()&lt;/code> is a &lt;strong>generator&lt;/strong>, not a normal function.&lt;/li>
&lt;li>Second, the &lt;code>yield&lt;/code> statement &lt;strong>returns a value and pauses the execution of the function&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>A generator returns a &lt;code>Generator&lt;/code> object without executing its body when it is invoked.&lt;/p>
&lt;p>The &lt;code>Generator&lt;/code> object returns another object with two properties: &lt;code>done&lt;/code> and &lt;code>value&lt;/code>. In other words, a &lt;code>Generator&lt;/code> object is &lt;strong>iterable&lt;/strong>.&lt;/p>
&lt;p>Since a generator is iterable, you can use the &lt;code>for...of&lt;/code> loop:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">g&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">gen&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">g&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Here is the output:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">invoked&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="nx">st&lt;/span> &lt;span class="nx">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">invoked&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="nx">nd&lt;/span> &lt;span class="nx">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>And here is the new Sequence iterator that &lt;strong>uses a generator&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Sequence&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">Infinity&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">interval&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">start&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">end&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">interval&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">interval&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">Symbol&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">iterator&lt;/span>&lt;span class="p">]()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">start&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">interval&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The following shows the syntax of the &lt;code>yield&lt;/code> keyword:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">variable_name&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">yield&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">expression&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this syntax:&lt;/p>
&lt;ul>
&lt;li>The &lt;code>expression&lt;/code> specifies the value to return from a generator function via the iteration protocol. If you omit the &lt;code>expression&lt;/code>, the &lt;code>yield&lt;/code> returns &lt;code>undefined&lt;/code>.&lt;/li>
&lt;li>The &lt;code>variable_name&lt;/code> stores the optional value passed to the &lt;code>next()&lt;/code> method of the iterator object.&lt;/li>
&lt;/ul>
&lt;h2 id="map-and-set">Map and Set
&lt;/h2>&lt;h3 id="map">Map
&lt;/h3>&lt;p>Prior to ES6, when you need to map keys to values, you often use an &lt;a class="link" href="https://www.javascripttutorial.net/javascript-objects/" target="_blank" rel="noopener"
>object&lt;/a>, because an object allows you to map a key to a value of any type.&lt;/p>
&lt;p>However, using an object as a map has some side effects:&lt;/p>
&lt;ul>
&lt;li>An object always has a default key like the &lt;a class="link" href="https://www.javascripttutorial.net/javascript-prototype/" target="_blank" rel="noopener"
>prototype&lt;/a>.&lt;/li>
&lt;li>A key of an object must be a &lt;a class="link" href="https://www.javascripttutorial.net/javascript-string/" target="_blank" rel="noopener"
>string&lt;/a> or a &lt;a class="link" href="https://www.javascripttutorial.net/es6/symbol/" target="_blank" rel="noopener"
>symbol&lt;/a>, you cannot use an object as a key.&lt;/li>
&lt;li>An object does not have a property that represents the size of the map.&lt;/li>
&lt;/ul>
&lt;p>ES6 provides a new collection type called &lt;code>Map&lt;/code> that addresses these deficiencies.&lt;/p>
&lt;p>By definition, a &lt;code>Map&lt;/code> object holds &lt;strong>key-value pairs&lt;/strong> where values of any type can be used as either keys or values. In addition, a &lt;code>Map&lt;/code> object remembers the original insertion order of the keys.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">map&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Map&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">iterable&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>Map()&lt;/code> accepts an optional &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-iterator/" target="_blank" rel="noopener"
>iterable&lt;/a> object whose elements are key-value pairs.&lt;/p>
&lt;h4 id="useful-methods">Useful Methods
&lt;/h4>&lt;ul>
&lt;li>&lt;code>clear()&lt;/code> – removes all elements from the map object.&lt;/li>
&lt;li>&lt;code>delete(key)&lt;/code> – removes an element specified by the key. It returns if the element is in the map, or false if it does not.&lt;/li>
&lt;li>&lt;code>entries()&lt;/code> – returns a new Iterator object that contains &lt;strong>an array of &lt;code>[key, value]&lt;/code>&lt;/strong> for each element in the map object. The order of objects in the map is the same as the insertion order.&lt;/li>
&lt;li>&lt;code>forEach(callback[, thisArg])&lt;/code> – invokes a callback for each key-value pair in the map in the insertion order. The optional thisArg parameter sets the this value for each callback.&lt;/li>
&lt;li>&lt;code>get(key)&lt;/code> – returns the value associated with the key. If the key does not exist, it returns undefined.&lt;/li>
&lt;li>&lt;code>has(key)&lt;/code> – returns true if a value associated with the key exists, otherwise, return false.&lt;/li>
&lt;li>&lt;code>keys()&lt;/code> – returns a new Iterator that contains the &lt;strong>keys&lt;/strong> for elements in insertion order.&lt;/li>
&lt;li>&lt;code>set(key, value)&lt;/code> – sets the value for the key in the map object. It returns the map object itself therefore you can chain this method with other methods.&lt;/li>
&lt;li>&lt;code>values()&lt;/code> returns a new iterator object that contains &lt;strong>values&lt;/strong> for each element in insertion order.&lt;/li>
&lt;/ul>
&lt;h4 id="weakmap">WeakMap
&lt;/h4>&lt;p>A &lt;code>WeakMap&lt;/code> is similar to a &lt;code>Map&lt;/code> except the keys of a &lt;code>WeakMap&lt;/code> &lt;strong>must be objects&lt;/strong>. It means that when a reference to a key (an object) is out of scope, the corresponding value is &lt;strong>automatically released&lt;/strong> from the memory.&lt;/p>
&lt;p>A &lt;code>WeakMap&lt;/code> only has subset methods of a &lt;code>Map&lt;/code> object:&lt;/p>
&lt;ul>
&lt;li>&lt;code>get(key)&lt;/code>&lt;/li>
&lt;li>&lt;code>set(key, value)&lt;/code>&lt;/li>
&lt;li>&lt;code>has(key)&lt;/code>&lt;/li>
&lt;li>&lt;code>delete(key)&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Here are the main difference between a &lt;code>Map&lt;/code> and a &lt;code>WeekMap&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>Elements of a WeakMap cannot be iterated.&lt;/li>
&lt;li>Cannot clear all elements at once.&lt;/li>
&lt;li>Cannot check the size of a WeakMap.&lt;/li>
&lt;/ul>
&lt;h3 id="set">Set
&lt;/h3>&lt;p>The &lt;code>Set&lt;/code> constructor also accepts an optional &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-iterator/" target="_blank" rel="noopener"
>iterable object&lt;/a>. If you pass an iterable object to the &lt;code>Set&lt;/code> constructor, all the elements of the iterable object will be added to the new set:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">setObject&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Set&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">iterableObject&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="useful-methods-1">Useful Methods
&lt;/h4>&lt;p>The &lt;code>Set&lt;/code> object provides the following useful methods:&lt;/p>
&lt;ul>
&lt;li>&lt;code>add(value)&lt;/code> – appends a new element with a specified value to the set. It returns the &lt;code>Set&lt;/code> object, therefore, you can chain this method with another &lt;code>Set&lt;/code> method.&lt;/li>
&lt;li>&lt;code>clear()&lt;/code> – removes all elements from the &lt;code>Set&lt;/code> object.&lt;/li>
&lt;li>&lt;code>delete(value)&lt;/code> – deletes an element specified by the value.&lt;/li>
&lt;li>&lt;code>entries()&lt;/code>– returns a new &lt;code>Iterator&lt;/code> that contains &lt;strong>an array of &lt;code>[value, value]&lt;/code> .&lt;/strong>&lt;/li>
&lt;li>&lt;code>forEach(callback [, thisArg])&lt;/code> – invokes a &lt;a class="link" href="https://www.javascripttutorial.net/javascript-callback/" target="_blank" rel="noopener"
>callback&lt;/a> on each element of the &lt;code>Set&lt;/code> with the &lt;code>this&lt;/code> value sets to &lt;code>thisArg&lt;/code> in each call.&lt;/li>
&lt;li>&lt;code>has(value)&lt;/code> – returns &lt;code>true&lt;/code> if an element with a given value is in the set, or &lt;code>false&lt;/code> if it is not.&lt;/li>
&lt;li>&lt;code>keys()&lt;/code> – is the same as &lt;code>values()&lt;/code> function.&lt;/li>
&lt;li>&lt;code>[@@iterator]&lt;/code> – returns a new &lt;code>Iterator&lt;/code> object that contains values of all elements stored &lt;strong>in the insertion order&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>To get the number of elements that the set holds, you use the &lt;code>size&lt;/code> property of the &lt;code>Set&lt;/code> object&lt;/p>
&lt;h4 id="weakset">WeakSet
&lt;/h4>&lt;p>A &lt;code>WeakSet&lt;/code> is similar to a &lt;code>Set&lt;/code> except that it contains &lt;strong>only objects&lt;/strong>. Since objects in a &lt;code>WeakSet&lt;/code> may be automatically garbage-collected, a &lt;code>WeakSet&lt;/code> does not have &lt;code>size&lt;/code> property. Like a &lt;code>WeakMap&lt;/code>, you cannot iterate elements of a &lt;code>WeakSet&lt;/code>, therefore, you will find that WeakSet is rarely used in practice. In fact, you only use a &lt;code>WeakSet&lt;/code> to check if a specified value is in the set.&lt;/p>
&lt;h2 id="proxy">Proxy
&lt;/h2>&lt;p>A JavaScript Proxy is an &lt;strong>object that wraps another object&lt;/strong> (target) and &lt;strong>intercepts&lt;/strong> the fundamental operations of the target object.&lt;/p>
&lt;p>The fundamental operations can be the property lookup, assignment, enumeration, and function invocations, etc.&lt;/p>
&lt;p>To create a new proxy object, you use the following syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">proxy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Proxy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this syntax:&lt;/p>
&lt;ul>
&lt;li>&lt;code>target&lt;/code> – is an object to wrap.&lt;/li>
&lt;li>&lt;code>handler&lt;/code> – is an object that contains methods to control the behaviors of the &lt;code>target&lt;/code>. The methods inside the &lt;code>handler&lt;/code> object are called traps.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>A simple proxy example&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//First, define an object called user
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;John&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Doe&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;john.doe@example.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//Second, define a `handler` object:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">property&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`Property &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">property&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> has been read.`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">property&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//Third, create a `proxy` object:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">proxyUser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Proxy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">handler&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220125133602732.png"
loading="lazy"
alt="image-20220125133602732"
>&lt;/p>
&lt;p>The following are more traps:&lt;/p>
&lt;ul>
&lt;li>&lt;code>construct&lt;/code> – traps usage of the &lt;code>new&lt;/code> operator&lt;/li>
&lt;li>&lt;code>getPrototypeOf&lt;/code> – traps an internal call to &lt;code>[[GetPrototypeOf]]&lt;/code>&lt;/li>
&lt;li>&lt;code>setPrototypeOf&lt;/code> – traps a call to &lt;code>Object.setPrototypeOf&lt;/code>&lt;/li>
&lt;li>&lt;code>isExtensible&lt;/code> – traps a call to &lt;code>Object.isExtensible&lt;/code>&lt;/li>
&lt;li>&lt;code>preventExtensions&lt;/code> – traps a call to &lt;code>Object.preventExtensions&lt;/code>&lt;/li>
&lt;li>&lt;code>getOwnPropertyDescriptor&lt;/code> – traps a call to &lt;code>Object.getOwnPropertyDescriptor&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="reflection">Reflection
&lt;/h2>&lt;p>In computer programming, reflection is the ability of a program to manipulate variables, properties, and methods of objects at &lt;strong>runtime&lt;/strong>.&lt;/p>
&lt;p>ES6 introduces a new global object called &lt;code>Reflect&lt;/code> that allows you to call methods, construct objects, get and set properties, manipulate and extend properties.&lt;/p>
&lt;p>The &lt;code>Reflect&lt;/code> API is important because it allows you to develop programs and frameworks that are able to &lt;strong>handle dynamic code&lt;/strong>.&lt;/p>
&lt;p>Unlike the most global objects, the &lt;code>Reflect&lt;/code> &lt;strong>is not a constructor&lt;/strong>. It means that you cannot use &lt;code>Reflect&lt;/code> with the &lt;code>new&lt;/code> operator or invoke the &lt;code>Reflect&lt;/code> as a function. It is similar to the &lt;code>Math&lt;/code> and &lt;code>JSON&lt;/code> objects. All the methods of the &lt;code>Reflect&lt;/code> object are &lt;strong>static&lt;/strong>.&lt;/p>
&lt;ul>
&lt;li>&lt;code>Reflect.apply()&lt;/code> – call a function with specified arguments.&lt;/li>
&lt;li>&lt;code>Reflect.construct()&lt;/code> – act like the &lt;code>new&lt;/code> operator, but as a function. It is equivalent to calling &lt;code>new target(...args)&lt;/code>.&lt;/li>
&lt;li>&lt;code>Reflect.defineProperty()&lt;/code> – is similar to &lt;code>Object.defineProperty()&lt;/code>, but return a Boolean value indicating whether or not the property was successfully defined on the object.&lt;/li>
&lt;li>&lt;code>Reflect.deleteProperty()&lt;/code> – behave like the &lt;code>delete&lt;/code> operator, but as a function. It’s equivalent to calling the &lt;code>delete objectName[propertyName]&lt;/code>.&lt;/li>
&lt;li>&lt;code>Reflect.get()&lt;/code> – return the value of a property.&lt;/li>
&lt;li>&lt;code>Reflect.getOwnPropertyDescriptor()&lt;/code> – is similar to &lt;code>Object.getOwnPropertyDescriptor()&lt;/code>. It returns a &lt;strong>property descriptor of a property&lt;/strong> if the property &lt;strong>exists&lt;/strong> on the object, or &lt;code>undefined&lt;/code> otherwise.&lt;/li>
&lt;li>&lt;code>Reflect.getPrototypeOf()&lt;/code> – is the same as &lt;code>Object.getPrototypeOf()&lt;/code>.&lt;/li>
&lt;li>&lt;code>Reflect.has()&lt;/code> – work like the &lt;code>in&lt;/code> operator, but as a function. It returns a boolean indicating whether an property (either owned or inherited) exists.
&lt;code>Reflect.isExtensible()&lt;/code> – is the same as &lt;code>Object.isExtensible()&lt;/code>.&lt;/li>
&lt;li>&lt;code>Reflect.ownKeys()&lt;/code> – return an array of the owned property keys (not inherited) of an object.&lt;/li>
&lt;li>&lt;code>Reflect.preventExtensions()&lt;/code> – is similar to &lt;code>Object.preventExtensions()&lt;/code>. It returns a Boolean.&lt;/li>
&lt;li>&lt;code>Reflect.set()&lt;/code> – assign a value to a property and return a Boolean value which is true if the property is set successfully.&lt;/li>
&lt;li>&lt;code>Reflect.setPrototypeOf()&lt;/code> – set the prototype of an object.&lt;/li>
&lt;/ul>
&lt;h2 id="new-functions">New Functions
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;code>Array.of()&lt;/code>&lt;/p>
&lt;p>In ES5, when you pass a number to the Array constructor, JavaScript creates an array whose length equals the number.&lt;/p>
&lt;p>However, when you pass to the &lt;code>Array&lt;/code> constructor a value that is not a number, JavaScript creates an array that contains one element with that value.&lt;/p>
&lt;p>ES6 introduces the &lt;code>Array.of()&lt;/code> method to solve this problem.&lt;/p>
&lt;p>The &lt;code>Array.of()&lt;/code> method is similar to the &lt;code>Array&lt;/code> constructor except the &lt;code>Array.of()&lt;/code> method does not treat a single numeric value special.&lt;/p>
&lt;p>In other words, the &lt;code>Array.of()&lt;/code> method always creates an array that contains the values that you pass to it regardless of the types or the number of arguments.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Array.from()&lt;/code>&lt;/p>
&lt;p>ES6 introduces the &lt;code>Array.from()&lt;/code> method that creates a new instance of the &lt;code>Array&lt;/code> from an array-like or iterable object. The following illustrates the syntax of the &lt;code>Array.from()&lt;/code> method:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span> &lt;span class="p">[,&lt;/span> &lt;span class="nx">mapFn&lt;/span>&lt;span class="p">[,&lt;/span> &lt;span class="nx">thisArg&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In this syntax:&lt;/p>
&lt;ul>
&lt;li>&lt;code>target&lt;/code> is an array-like or iterable object to convert to an array.&lt;/li>
&lt;li>&lt;code>mapFn&lt;/code> is the &lt;strong>map function&lt;/strong> to call on every element of the array&lt;/li>
&lt;li>&lt;code>thisArg&lt;/code> is the &lt;code>this&lt;/code> value when executing the &lt;code>mapFn&lt;/code> function.&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>Array.from()&lt;/code> returns a new instance of &lt;code>Array&lt;/code> that contains all elements of the &lt;code>target&lt;/code> object.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>find()&lt;/code>&lt;/p>
&lt;p>ES6 introduced a new method called &lt;code>find()&lt;/code>added to the &lt;code>Array.prototype&lt;/code> object.&lt;/p>
&lt;p>The &lt;code>find()&lt;/code> method returns the first element in an array that satisfies a provided function.&lt;/p>
&lt;p>The following shows the syntax of the &lt;code>find()&lt;/code> method:&lt;/p>
&lt;pre tabindex="0">&lt;code>find(callback(element[, index[, array]])[, thisArg])
&lt;/code>&lt;/pre>&lt;p>The &lt;code>find()&lt;/code> accepts two arguments: a callback function and an optional value to use for the &lt;code>this&lt;/code> inside the &lt;code>callback&lt;/code> function&lt;/p>
&lt;p>The &lt;code>callback&lt;/code> is a function that executes on each element of the array. It takes three arguments:&lt;/p>
&lt;ul>
&lt;li>&lt;code>element&lt;/code> is the current element.&lt;/li>
&lt;li>&lt;code>index&lt;/code> the index of the current element.&lt;/li>
&lt;li>&lt;code>array&lt;/code> the array that the &lt;code>find()&lt;/code> was called upon&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>thisArg&lt;/code> is the object used as &lt;code>this&lt;/code> inside the &lt;code>callback&lt;/code>.&lt;/p>
&lt;p>The &lt;code>find()&lt;/code> executes the &lt;code>callback&lt;/code> function for each element in the array until the &lt;code>callback&lt;/code> returns a truthy value.&lt;/p>
&lt;p>If the callback returns a truthy value, the &lt;code>find()&lt;/code> immediately returns the element and stop searching. Otherwise, it returns &lt;code>undefined&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Object.assign()&lt;/code>&lt;/p>
&lt;p>The following shows the syntax of the &lt;code>Object.assign()&lt;/code> method:&lt;/p>
&lt;pre tabindex="0">&lt;code>Object.assign(target, ...sources)
&lt;/code>&lt;/pre>&lt;p>The &lt;code>Object.assign()&lt;/code> copies all &lt;strong>enumerable and own propeties&lt;/strong> from the &lt;code>source&lt;/code> objects to the &lt;code>target&lt;/code> object. It &lt;strong>returns the &lt;code>target&lt;/code> object&lt;/strong>. It invokes the getters on the source objects and setters on the target. It &lt;strong>assigns properties only&lt;/strong>, not copying or defining new properties. &lt;code>Object.assign()&lt;/code> can be used to &lt;strong>clone or merge&lt;/strong> objects.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//clone
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">widget&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;red&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">clonedWidget&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">assign&lt;/span>&lt;span class="p">({},&lt;/span> &lt;span class="nx">widget&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">clonedWidget&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//merge
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">box&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">height&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">style&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Red&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">borderStyle&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;solid&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">styleBox&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">assign&lt;/span>&lt;span class="p">({},&lt;/span> &lt;span class="nx">box&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">style&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">styleBox&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If the source objects have the same property, the property of the &lt;strong>later&lt;/strong> object &lt;strong>overwrites&lt;/strong> the earlier one&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Object.is()&lt;/code>&lt;/p>
&lt;p>The &lt;code>Object.is()&lt;/code> behaves like the &lt;code>===&lt;/code> operator with two differences:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>-0 and +0&lt;/p>
&lt;p>The &lt;code>===&lt;/code> operator treats &lt;code>-0&lt;/code> and &lt;code>+0&lt;/code> are the same value:&lt;/p>
&lt;p>However, the &lt;code>Object.is()&lt;/code> treats +0 and -0 as different values.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>NaN&lt;/p>
&lt;p>The &lt;code>===&lt;/code> operator considers &lt;code>NaN&lt;/code> and &lt;code>NaN&lt;/code> are different values. The &lt;code>NaN&lt;/code> is the only number that does not equal itself.&lt;/p>
&lt;p>However, &lt;code>Object.is()&lt;/code> treats &lt;code>NaN&lt;/code> as the same value&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220125135715368.png"
loading="lazy"
alt="image-20220125135715368"
>&lt;/p>
&lt;p>The &lt;code>startsWith()&lt;/code> returns &lt;code>true&lt;/code> if a &lt;a class="link" href="https://www.javascripttutorial.net/javascript-string/" target="_blank" rel="noopener"
>string&lt;/a> begins with the characters of a specified string; otherwise &lt;code>false&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>startsWith()&lt;/code>&lt;/p>
&lt;p>The following shows the syntax of the &lt;code>startsWith()&lt;/code> method:&lt;/p>
&lt;pre tabindex="0">&lt;code>String.startsWith(searchString(pattern) [,position])
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>&lt;code>searchString&lt;/code> is the characters to be searched for at the start of this string.&lt;/li>
&lt;li>&lt;code>position&lt;/code> is an optional parameter that determines the start position to search for the &lt;code>searchString&lt;/code>. It defaults to 0.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>endsWith()&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">String&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">startsWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">searchString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pattern&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">[,&lt;/span>&lt;span class="nx">position&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>endsWith()&lt;/code> returns &lt;code>true&lt;/code> if a string ends with the characters of a specified string; otherwise &lt;code>false&lt;/code>.Arguments&lt;/p>
&lt;ul>
&lt;li>&lt;code>searchString&lt;/code> is the characters to be searched for at the end of the string.&lt;/li>
&lt;li>&lt;code>length&lt;/code> is an optional parameter that determines the length of the string to search. It defaults to the length of the string.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>includes()&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>includes()&lt;/code> method determines whether a string contains another string:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">string&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">searchString&lt;/span> &lt;span class="p">[,&lt;/span>&lt;span class="nx">position&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The includes() method returns &lt;code>true&lt;/code> if the &lt;code>searchString&lt;/code> found in the &lt;code>string&lt;/code>; otherwise &lt;code>false&lt;/code>.&lt;/p>
&lt;p>The optional &lt;code>position&lt;/code> parameter specifies the position within the &lt;code>string&lt;/code> at which to begin searching for the &lt;code>searchString&lt;/code>. The &lt;code>position&lt;/code> defaults to 0.&lt;/p>
&lt;p>The &lt;code>includes()&lt;/code> matches string case-sensitively.&lt;/p>
&lt;h2 id="class">Class
&lt;/h2>&lt;p>A JavaScript class is a &lt;strong>blueprint&lt;/strong> for creating objects. A class &lt;strong>encapsulates data and functions&lt;/strong> that manipulate data.&lt;/p>
&lt;p>Unlike other programming languages such as Java and C#, JavaScript classes are syntactic sugar over the &lt;strong>prototypal inheritance&lt;/strong> . In other words, ES6 classes are just &lt;strong>special functions&lt;/strong>.&lt;/p>
&lt;p>A &lt;code>class&lt;/code> declaration is syntactic sugar over prototypal inheritance with additional &lt;strong>enhancements&lt;/strong>.&lt;/p>
&lt;p>ES6 introduced a new syntax for declaring a class as shown in this example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Despite the similarities between a class and a custom type defined via a constructor function, there are some important &lt;strong>differences&lt;/strong>.&lt;/p>
&lt;ul>
&lt;li>class declarations are &lt;strong>not hoisted&lt;/strong> like function declarations.&lt;/li>
&lt;li>all the code inside a class &lt;strong>automatically executes in the strict mode&lt;/strong>. And you cannot change this behavior.&lt;/li>
&lt;li>class methods are &lt;strong>non-emunerable&lt;/strong>.If you use a constructor/prototype pattern, you have to use the &lt;code>Object.defineProperty()&lt;/code> method to make a property non-enumerable.&lt;/li>
&lt;li>calling the class constructor without the &lt;code>new&lt;/code> operator will result in an &lt;strong>error&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>ES6 provides a specific syntax for defining the getter and setter using the get and set keywords. For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">get&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">set&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">newName&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">newName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">newName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trim&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">newName&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="s1">&amp;#39;The name cannot be empty&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">newName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>Getter&lt;/p>
&lt;p>To call the getter, you use the following syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>When JavaScript sees the access to &lt;code>name&lt;/code> property of the &lt;code>Person&lt;/code> class, it checks if the &lt;code>Person&lt;/code> class has any &lt;strong>&lt;code>name&lt;/code> property&lt;/strong>. If not, JavaScript checks if the Person class has any &lt;strong>method that binds to the &lt;code>name&lt;/code> property&lt;/strong>. In this example, the &lt;code>name()&lt;/code> method binds to the &lt;code>name&lt;/code> property via the &lt;code>get&lt;/code> keyword. Once JavaScript finds the getter method, it executes the getter method and returns a value.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Setter&lt;/p>
&lt;p>The setter uses the &lt;code>set&lt;/code> keyword followed by the method name:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">set&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">newName&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">newName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">newName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trim&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">newName&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="s1">&amp;#39;The name cannot be empty&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">newName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>JavaScript will call the &lt;code>name()&lt;/code> setter when you assign a value to the &lt;code>name&lt;/code> property like this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Jane Smith&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If a class has only getter but not setter and you attempt to use the setter, the change won’t take any effect.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Static Method&lt;/p>
&lt;p>By definition, static methods are bound to a class, &lt;strong>not the instances&lt;/strong> of that class. Therefore, static methods are useful for defining helper or utility methods.&lt;/p>
&lt;p>The following adds a static method called &lt;code>createAnonymous()&lt;/code> to the &lt;code>Person&lt;/code> type:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createAnonymous&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">gender&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">gender&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;male&amp;#34;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s2">&amp;#34;John Doe&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Jane Doe&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>createAnonymous()&lt;/code> method is considered a static method because it doesn’t depend on any instance of the &lt;code>Person&lt;/code> type for its property values.&lt;/p>
&lt;p>To call the &lt;code>createAnonymous()&lt;/code> method, you use the &lt;code>Person&lt;/code> type instead of its instances:&lt;/p>
&lt;pre tabindex="0">&lt;code>var anonymous = Person.createAnonymous();
&lt;/code>&lt;/pre>&lt;p>In ES6, you define static methods using the &lt;code>static&lt;/code> keyword.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getName&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="nx">createAnonymous&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">gender&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">gender&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;male&amp;#34;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s2">&amp;#34;John Doe&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Jane Doe&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you attempt to call the static method from an instance of the class, you’ll get an error.&lt;/p>
&lt;p>To call a static method from a class constructor or an instance method, you use the class name, followed by the &lt;code>.&lt;/code> and the static method:&lt;/p>
&lt;pre tabindex="0">&lt;code>className.staticMethodName();
//or
this.constructor.staticMethodName();
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>
&lt;p>Static Property&lt;/p>
&lt;p>Like a static method, a static property is &lt;strong>shared&lt;/strong> by all instances of a class. To define static property, you use the &lt;code>static&lt;/code> keyword followed by the property name like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>class Item {
static count = 0;
}
Code language: JavaScript (javascript)
&lt;/code>&lt;/pre>&lt;p>To access a static property, you use the class name followed by the &lt;code>.&lt;/code> operator and the static property name&lt;/p>
&lt;p>To access a static property in a class constructor or instance methods, you use the following syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">className&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">staticPropertyName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">constructor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">staticPropertyName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>class expression&lt;/p>
&lt;p>A class expression &lt;strong>doesn’t require an identifier&lt;/strong> after the &lt;code>class&lt;/code> keyword. And you can use a class expression in a variable declaration and pass it into a function as an argument.&lt;/p>
&lt;p>For example, the following defines a class expression:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">Person&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getName&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Similar to function expressions, class expressions are &lt;strong>not hoisted&lt;/strong>. It means that you cannot create an instance of the class before defining the class expression.&lt;/p>
&lt;p>&lt;a class="link" href="https://www.javascripttutorial.net/javascript-functions-are-first-class-citizens/" target="_blank" rel="noopener"
>JavaScript classes are first-class citizens&lt;/a>. It means that you can pass a class into a function, return it from a function, and assign it to a variable.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>extends&lt;/code> and &lt;code>super&lt;/code> keyword&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Prior to ES6, implementing a proper inheritance required multiple steps. One of the most commonly used strategies is the prototypal inheritance.&lt;/p>
&lt;p>ES6 simplified these steps by using the &lt;code>extends&lt;/code> and &lt;code>super&lt;/code> keywords.&lt;/p>
&lt;p>First, use the &lt;code>extends&lt;/code> keyword to make the &lt;code>Bird&lt;/code> class inheriting from the &lt;code>Animal&lt;/code> class:&lt;/p>
&lt;pre tabindex="0">&lt;code>class Bird extends Animal {
// ...
}
&lt;/code>&lt;/pre>&lt;p>The &lt;code>Animal&lt;/code> class is called a &lt;strong>base class&lt;/strong> or &lt;strong>parent class&lt;/strong> while the &lt;code>Bird&lt;/code> class is known as a &lt;strong>derived class&lt;/strong> or &lt;strong>child class&lt;/strong>. By doing this, the &lt;code>Bird&lt;/code> class inherits all methods and properties of the &lt;code>Animal&lt;/code> class.&lt;/p>
&lt;p>Second, in the &lt;code>Bird&lt;/code>‘s constructor, call &lt;code>super()&lt;/code> to invoke the &lt;code>Animal&lt;/code>‘s constructor with the &lt;code>legs&lt;/code> argument.&lt;/p>
&lt;p>JavaScript &lt;strong>requires&lt;/strong> the child class to call &lt;code>super()&lt;/code> if it has a constructor.&lt;/p>
&lt;p>Because &lt;strong>the &lt;code>super()&lt;/code> initializes the &lt;code>this&lt;/code> object&lt;/strong>, you need to call the &lt;code>super()&lt;/code> before accessing the &lt;code>this&lt;/code> object. Trying to access &lt;code>this&lt;/code> before calling &lt;code>super()&lt;/code> also results in an error.&lt;/p>
&lt;p>ES6 allows the child class and parent class to have methods with the same name. In this case, when you call the method of an object of the child class, the method in the child class will &lt;strong>shadow&lt;/strong> the method in the parent class.&lt;/p>
&lt;p>To call the method of the parent class in the child class, you use &lt;code>super.method(arguments)&lt;/code>,&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>new.target&lt;/code>&lt;/p>
&lt;p>ES6 provides a &lt;strong>metaproperty&lt;/strong> named &lt;code>new.target&lt;/code> that allows you to detect whether a &lt;strong>function&lt;/strong> or &lt;strong>constructor&lt;/strong> was called using the &lt;code>new&lt;/code> operator.&lt;/p>
&lt;p>The &lt;code>new.target&lt;/code> consists of the &lt;code>new&lt;/code> keyword, a dot, and &lt;code>target&lt;/code> property. The &lt;code>new.target&lt;/code> is available in all functions.&lt;/p>
&lt;p>However, in &lt;a class="link" href="https://www.javascripttutorial.net/es6/javascript-arrow-function/" target="_blank" rel="noopener"
>arrow functions&lt;/a>, the &lt;code>new.targe&lt;/code>t is the one that belongs to &lt;strong>the surrounding function&lt;/strong>.&lt;/p>
&lt;p>The &lt;code>new.target&lt;/code> is very useful to inspect at runtime whether a function is being executed &lt;strong>as a function or as a constructor&lt;/strong>. It is also handy to determine a specific derived class that was called by using the &lt;code>new&lt;/code> operator from within a parent class.&lt;/p>
&lt;p>&lt;strong>In a regular function call, the &lt;code>new.target&lt;/code> returns &lt;code>undefined&lt;/code>.&lt;/strong> If the function was called with the &lt;code>new&lt;/code> operator, the &lt;code>new.target&lt;/code> returns &lt;strong>a reference to the function&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">Person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="s2">&amp;#34;must use new operator with Person&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="promise">Promise
&lt;/h2>&lt;p>A &lt;strong>&lt;code>Promise&lt;/code>&lt;/strong> is a proxy for a value not necessarily known when the promise is created. It allows you to associate handlers with an asynchronous action&amp;rsquo;s eventual success value or failure reason. This lets asynchronous methods return values like synchronous methods: instead of immediately returning the final value, the asynchronous method returns a &lt;em>promise&lt;/em> to supply the value at some point in the &lt;strong>future&lt;/strong>.&lt;/p>
&lt;h3 id="create">Create
&lt;/h3>&lt;p>To create a promise in JavaScript, you use the &lt;code>Promise&lt;/code> constructor:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">completed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">learnJS&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">completed&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;I have completed learning JS.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;I haven&amp;#39;t completed learning JS yet.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>Promise&lt;/code> constructor accepts a function as an argument. This function is called the &lt;code>executor&lt;/code>.&lt;/p>
&lt;p>The &lt;code>executor&lt;/code> function accepts two &lt;a class="link" href="https://www.javascripttutorial.net/javascript-callback/" target="_blank" rel="noopener"
>callback functions&lt;/a> with the names &lt;code>resolve()&lt;/code> and &lt;code>reject()&lt;/code>.&lt;/p>
&lt;p>By convention, the callback functions passed into the executor are &lt;code>resolve&lt;/code> and &lt;code>reject&lt;/code>. &lt;strong>However, you can use any names you want.&lt;/strong>&lt;/p>
&lt;p>The &lt;code>new Promise(executor)&lt;/code> will automatically call the &lt;code>executor&lt;/code> function.&lt;/p>
&lt;p>Inside the &lt;code>executor&lt;/code> function, you call the &lt;code>resolve()&lt;/code> callback if the executor in the success case and the &lt;code>reject()&lt;/code> callback in the failed case.&lt;/p>
&lt;h3 id="states">States
&lt;/h3>&lt;p>Suppose you promise to complete learning JavaScript by next month.&lt;/p>
&lt;p>And you don’t know if you will spend your time and effort learning JavaScript until next month. You can either be completing learning JavaScript or not.&lt;/p>
&lt;p>A promise has three states:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Pending&lt;/strong>: you don’t know if you will complete learning JavaScript by the next month.&lt;/li>
&lt;li>&lt;strong>Fulfilled&lt;/strong>: you complete learning JavaScript by the next month.&lt;/li>
&lt;li>&lt;strong>Rejected&lt;/strong>: you don’t learn JavaScript at all.&lt;/li>
&lt;/ul>
&lt;p>A promise starts in the pending state which indicates that the promise &lt;strong>hasn’t&lt;/strong> &lt;strong>been completed&lt;/strong>. It ends with either fulfilled (successful) or rejected (failed) state.&lt;/p>
&lt;p>Once the promise reaches either fulfilled state or rejected state, it &lt;strong>stays in that state and can’t switch&lt;/strong>.&lt;/p>
&lt;p>In other words, a promise cannot go from the &lt;code>fulfilled&lt;/code> state to the &lt;code>rejected&lt;/code> state and vice versa. Also, it cannot go back from the &lt;code>fulfilled&lt;/code> state or &lt;code>rejected&lt;/code> state to the &lt;code>pending&lt;/code> state.&lt;/p>
&lt;p>If the promise reaches &lt;code>fulfilled&lt;/code> or &lt;code>rejected&lt;/code> state, the promise is resolved. Once a new &lt;code>Promise&lt;/code> object is created, it is in the pending state until resolved.&lt;/p>
&lt;h3 id="consuming-a-promise">Consuming a promise
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>then()&lt;/code>&lt;/p>
&lt;p>To get the value of a promise when it’s fulfilled, you call the &lt;code>then()&lt;/code> method of the promise object. The following shows the syntax of the &lt;code>then()&lt;/code> method:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">then&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">onFulfilled&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">onRejected&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>then()&lt;/code> method accepts two callback functions: &lt;code>onFulfilled&lt;/code> and &lt;code>onRejected&lt;/code>.&lt;/p>
&lt;p>The &lt;code>then()&lt;/code> method calls the &lt;code>onFulfilled()&lt;/code> with a value, if the promise is fulfilled or the &lt;code>onRejected()&lt;/code> with an error if the promise is rejected.&lt;/p>
&lt;p>The &lt;code>then()&lt;/code> method returns a new &lt;code>Promise&lt;/code> with a value resolved to a value.&lt;/p>
&lt;p>When you return a value in the &lt;code>then()&lt;/code> method, the &lt;code>then()&lt;/code> method returns a new &lt;code>Promise&lt;/code> that &lt;strong>immediately resolves to the return value&lt;/strong>.&lt;/p>
&lt;p>Also, you can return &lt;strong>a new promise&lt;/strong> in the &lt;code>then()&lt;/code> method.&lt;/p>
&lt;blockquote>
&lt;p>Note that both &lt;code>onFulfilled&lt;/code> and &lt;code>onRejected&lt;/code> arguments are &lt;strong>optional&lt;/strong>. We usually use &lt;code>then()&lt;/code> method to schedule a callback to be executed when the promise is fulfilled&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>&lt;code>catch()&lt;/code>&lt;/p>
&lt;p>&lt;code>catch()&lt;/code> method schedule a callback to be invoked when the promise is rejected. If the &lt;code>catch()&lt;/code> method to handle the error inside the promise is not provided. It will cause a runtime error and terminate the program.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>finally()&lt;/code>&lt;/p>
&lt;p>Place the code that you want to execute in the &lt;code>finally()&lt;/code> method whether the promise is fulfilled or rejected.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="promise-chaining">Promise Chaining
&lt;/h3>&lt;p>Sometimes, you have multiple asynchronous tasks that you want to execute in sequence. In addition, you need to pass the result of the previous step to the next one. In this case, you can use the following syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">step1&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">step2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">step3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you need to pass the result from the previous task to the next one without passing the result, you use this syntax:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">step1&lt;/span>&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nc">then&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">step2&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nc">then&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">step3&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Processing continues to the next link of the chain even when a &lt;code>.then()&lt;/code> lacks a callback function that returns a Promise object. Therefore, a chain can &lt;strong>safely omit every &lt;em>rejection&lt;/em> callback function&lt;/strong> until the final &lt;code>.catch()&lt;/code>.&lt;/p>
&lt;h3 id="settled-promise">Settled Promise
&lt;/h3>&lt;p>An action can be assigned to an &lt;strong>already &amp;ldquo;settled&amp;rdquo;&lt;/strong> promise. In that case, the action (if appropriate) will be performed &lt;strong>at the first asynchronous opportunity&lt;/strong>. Note that promises are guaranteed to be asynchronous. Therefore, an action for an already &amp;ldquo;settled&amp;rdquo; promise will occur only after the stack has cleared and a clock-tick has passed. The effect is much like that of &lt;code>setTimeout(action,10)&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">promiseA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">resolutionFunc&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">rejectionFunc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolutionFunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">777&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// At this point, &amp;#34;promiseA&amp;#34; is already settled.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">promiseA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;asynchronous logging has val:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;immediate logging&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// produces output in this order:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// immediate logging
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// asynchronous logging has val: 777
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="static-methods">Static methods
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" target="_blank" rel="noopener"
>&lt;code>Promise.all(iterable)&lt;/code>&lt;/a>&lt;/p>
&lt;p>&lt;strong>Wait for all&lt;/strong> promises to be &lt;strong>resolved&lt;/strong>, or for &lt;strong>any&lt;/strong> to be &lt;strong>rejected&lt;/strong>.If the returned promise resolves, it is resolved with an aggregating array of the values from the resolved promises, &lt;strong>in the same order&lt;/strong> as defined in the iterable of multiple promises. If it rejects, it is rejected with the reason from the first promise in the iterable that was rejected.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled" target="_blank" rel="noopener"
>&lt;code>Promise.allSettled(iterable)&lt;/code>&lt;/a>&lt;/p>
&lt;p>Wait until &lt;strong>all promises have settled&lt;/strong> (each may resolve or reject).Returns a Promise that resolves after all of the given promises is either fulfilled or rejected, with an array of objects that each describe the outcome of each promise.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any" target="_blank" rel="noopener"
>&lt;code>Promise.any(iterable)&lt;/code>&lt;/a>&lt;/p>
&lt;p>Takes an iterable of Promise objects and, &lt;strong>as soon as one of the promises in the iterable fulfills&lt;/strong>, returns a single promise that resolves with the value from that promise.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race" target="_blank" rel="noopener"
>&lt;code>Promise.race(iterable)&lt;/code>&lt;/a>&lt;/p>
&lt;p>Wait until &lt;strong>any of the promises is fulfilled or rejected&lt;/strong>.If the returned promise resolves, it is resolved with the value of the first promise in the iterable that resolved.If it rejects, it is rejected with the reason from the first promise that was rejected.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/reject" target="_blank" rel="noopener"
>&lt;code>Promise.reject(reason)&lt;/code>&lt;/a>&lt;/p>
&lt;p>Returns a new &lt;code>Promise&lt;/code> object that &lt;strong>is rejected&lt;/strong> with the given reason.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve" target="_blank" rel="noopener"
>&lt;code>Promise.resolve(value)&lt;/code>&lt;/a>&lt;/p>
&lt;p>Returns a new &lt;code>Promise&lt;/code> object that &lt;strong>is resolved with the given value&lt;/strong>. If the value is a thenable (i.e. has a &lt;code>then&lt;/code> method), the returned promise will &amp;ldquo;follow&amp;rdquo; that thenable, adopting its eventual state; otherwise, the returned promise will be fulfilled with the value. Generally, if you don&amp;rsquo;t know if a value is a promise or not, &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve" target="_blank" rel="noopener"
>&lt;code>Promise.resolve(value)&lt;/code>&lt;/a> it instead and work with the return value as a promise.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="asyncawait">&lt;code>async/await&lt;/code>
&lt;/h3>&lt;p>ES2017 introduced the &lt;code>async&lt;/code>/&lt;code>await&lt;/code> keywords that &lt;strong>build on top of promises&lt;/strong>, allowing you to write asynchronous code that looks more like synchronous code and more readable. Technically speaking, the &lt;code>async&lt;/code> / &lt;code>await&lt;/code> is &lt;strong>syntactic sugar for promises&lt;/strong>.&lt;/p>
&lt;p>If a function &lt;strong>returns a Promise&lt;/strong>, you can place the &lt;code>await&lt;/code> keyword in front of the function call. The &lt;code>await&lt;/code> keyword to wait for a &lt;code>Promise&lt;/code> to settle either in resolved or rejected state.&lt;/p>
&lt;p>The &lt;code>await&lt;/code> will wait for the &lt;code>Promise&lt;/code> returned from the &lt;code>f()&lt;/code> to settle.&lt;/p>
&lt;blockquote>
&lt;p>The &lt;code>await&lt;/code> keyword can be used only inside the &lt;code>async&lt;/code> functions.&lt;/p>
&lt;/blockquote>
&lt;p>The following defines an &lt;code>async&lt;/code> function that calls the three asynchronous operations in sequence:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">showServiceCost&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">getUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">services&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">getServices&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">cost&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">getServiceCost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">services&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`The service cost is &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">cost&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">showServiceCost&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【CSS】Basics</title><link>https://dyhes.github.io/p/cssbasics/</link><pubDate>Sat, 17 Apr 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/cssbasics/</guid><description>&lt;p>CSS stands for Cascading Style Sheets&lt;/p>
&lt;h2 id="comment">Comment
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="c">/* comment */&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="how-to-use">How to use
&lt;/h2>&lt;ul>
&lt;li>External&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">link&lt;/span> &lt;span class="na">rel&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;stylesheet&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mystyle.css&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Internal&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Inline&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">link&lt;/span> &lt;span class="na">rel&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;stylesheet&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mystyle.css&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If some properties have been defined for the same selector (element) in different style sheets, the value from &lt;strong>the last read&lt;/strong> style sheet will be used.&lt;/p>
&lt;p>All the styles in a page will &amp;ldquo;cascade&amp;rdquo; into a new &amp;ldquo;virtual&amp;rdquo; style sheet by the following rules, where number one has the highest priority:&lt;/p>
&lt;ol>
&lt;li>Inline style (inside an HTML element)&lt;/li>
&lt;li>External and internal style sheets (in the head section)&lt;/li>
&lt;li>Browser default&lt;/li>
&lt;/ol>
&lt;p>So, an inline style has the highest priority, and will override external and internal styles and browser defaults.&lt;/p>
&lt;h2 id="selector">Selector
&lt;/h2>&lt;ul>
&lt;li>Simple selectors (select elements based on name, id, class)&lt;/li>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css_combinators.asp" target="_blank" rel="noopener"
>Combinator selectors&lt;/a> (select elements based on a specific relationship between them)&lt;/li>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css_pseudo_classes.asp" target="_blank" rel="noopener"
>Pseudo-class selectors&lt;/a> (select elements based on a certain state)&lt;/li>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css_pseudo_elements.asp" target="_blank" rel="noopener"
>Pseudo-elements selectors&lt;/a> (select and style a part of an element)&lt;/li>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css_attribute_selectors.asp" target="_blank" rel="noopener"
>Attribute selectors&lt;/a> (select elements based on an attribute or attribute value)&lt;/li>
&lt;/ul>
&lt;h3 id="simple-selector">Simple Selector
&lt;/h3>&lt;ul>
&lt;li>element selector&lt;/li>
&lt;li>id selector&lt;/li>
&lt;li>class selector&lt;/li>
&lt;/ul>
&lt;h3 id="combinator-selector">Combinator Selector
&lt;/h3>&lt;ul>
&lt;li>descendant selector (space) ：matches all elements that are &lt;strong>descendants&lt;/strong> of a specified element&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">div&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>child selector (&amp;gt;) ：selects all elements that are the &lt;strong>children&lt;/strong> of a specified element.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">div&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>adjacent sibling selector (+) : select an element that is &lt;strong>directly after&lt;/strong> another specific element.:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">div&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>general sibling selector (~) : selects &lt;strong>all&lt;/strong> elements that are &lt;strong>next siblings&lt;/strong> of a specified element.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">div&lt;/span> &lt;span class="o">~&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="pseudo-classes-selector">Pseudo-classes Selector
&lt;/h3>&lt;p>A pseudo-class is used to define a &lt;strong>special state&lt;/strong> of an element.&lt;/p>
&lt;h4 id="syntax">syntax
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">pseudo-class&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">property&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="anchor-pseudo-classes-order">Anchor pseudo-classes order
&lt;/h4>&lt;ul>
&lt;li>:link (unvisited)&lt;/li>
&lt;li>:visited&lt;/li>
&lt;li>:hover&lt;/li>
&lt;li>:active (clicked)&lt;/li>
&lt;/ul>
&lt;h4 id="first-child">:first-child
&lt;/h4>&lt;p>The &lt;code>:first-child&lt;/code> pseudo-class matches a specified element that is the first child of another element.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">p&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">first-child&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">blue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">//&lt;/span>&lt;span class="nt">first&lt;/span> &lt;span class="nt">i&lt;/span> &lt;span class="nt">in&lt;/span> &lt;span class="nt">p&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">p&lt;/span> &lt;span class="nt">i&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">first-child&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">blue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">//&lt;/span>&lt;span class="nt">all&lt;/span> &lt;span class="nt">i&lt;/span> &lt;span class="nt">in&lt;/span> &lt;span class="nt">first&lt;/span> &lt;span class="nt">p&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">p&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">first-child&lt;/span> &lt;span class="nt">i&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="lang">:lang
&lt;/h4>&lt;p>The &lt;code>:lang&lt;/code> pseudo-class allows you to define special rules for different languages.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Some&lt;/span> &lt;span class="nx">text&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">q&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;no&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">A&lt;/span> &lt;span class="nx">quote&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="nx">paragraph&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">q&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">Some&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="p">.&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">q&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">lang&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">no&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">quotes&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;~&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;~&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="all-pseudo-classes">all pseudo classes
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Selector&lt;/th>
&lt;th style="text-align: left">Example&lt;/th>
&lt;th style="text-align: left">Example description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_active.asp" target="_blank" rel="noopener"
>:active&lt;/a>&lt;/td>
&lt;td style="text-align: left">a:active&lt;/td>
&lt;td style="text-align: left">Selects the active link&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_checked.asp" target="_blank" rel="noopener"
>:checked&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:checked&lt;/td>
&lt;td style="text-align: left">Selects every checked &lt;input> element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_disabled.asp" target="_blank" rel="noopener"
>:disabled&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:disabled&lt;/td>
&lt;td style="text-align: left">Selects every disabled &lt;input> element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_empty.asp" target="_blank" rel="noopener"
>:empty&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:empty&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that has no children&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_enabled.asp" target="_blank" rel="noopener"
>:enabled&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:enabled&lt;/td>
&lt;td style="text-align: left">Selects every enabled &lt;input> element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_firstchild.asp" target="_blank" rel="noopener"
>:first-child&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:first-child&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> elements that is the first child of its parent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_first-of-type.asp" target="_blank" rel="noopener"
>:first-of-type&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:first-of-type&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that is the first &lt;p> element of its parent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_focus.asp" target="_blank" rel="noopener"
>:focus&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:focus&lt;/td>
&lt;td style="text-align: left">Selects the &lt;input> element that has focus&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_hover.asp" target="_blank" rel="noopener"
>:hover&lt;/a>&lt;/td>
&lt;td style="text-align: left">a:hover&lt;/td>
&lt;td style="text-align: left">Selects links on mouse over&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_in-range.asp" target="_blank" rel="noopener"
>:in-range&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:in-range&lt;/td>
&lt;td style="text-align: left">Selects &lt;input> elements with a value within a specified range&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_invalid.asp" target="_blank" rel="noopener"
>:invalid&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:invalid&lt;/td>
&lt;td style="text-align: left">Selects all &lt;input> elements with an invalid value&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_lang.asp" target="_blank" rel="noopener"
>:lang(&lt;em>language&lt;/em>)&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:lang(it)&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element with a lang attribute value starting with &amp;ldquo;it&amp;rdquo;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_last-child.asp" target="_blank" rel="noopener"
>:last-child&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:last-child&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> elements that is the last child of its parent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_last-of-type.asp" target="_blank" rel="noopener"
>:last-of-type&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:last-of-type&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that is the last &lt;p> element of its parent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_link.asp" target="_blank" rel="noopener"
>:link&lt;/a>&lt;/td>
&lt;td style="text-align: left">a:link&lt;/td>
&lt;td style="text-align: left">Selects all unvisited links&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_not.asp" target="_blank" rel="noopener"
>:not(selector)&lt;/a>&lt;/td>
&lt;td style="text-align: left">:not(p)&lt;/td>
&lt;td style="text-align: left">Selects every element that is not a &lt;p> element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_nth-child.asp" target="_blank" rel="noopener"
>:nth-child(n)&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:nth-child(2)&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that is the second child of its parent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_nth-last-child.asp" target="_blank" rel="noopener"
>:nth-last-child(n)&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:nth-last-child(2)&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that is the second child of its parent, counting from the last child&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_nth-last-of-type.asp" target="_blank" rel="noopener"
>:nth-last-of-type(n)&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:nth-last-of-type(2)&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that is the second &lt;p> element of its parent, counting from the last child&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_nth-of-type.asp" target="_blank" rel="noopener"
>:nth-of-type(n)&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:nth-of-type(2)&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that is the second &lt;p> element of its parent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_only-of-type.asp" target="_blank" rel="noopener"
>:only-of-type&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:only-of-type&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that is the only &lt;p> element of its parent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_only-child.asp" target="_blank" rel="noopener"
>:only-child&lt;/a>&lt;/td>
&lt;td style="text-align: left">p:only-child&lt;/td>
&lt;td style="text-align: left">Selects every &lt;p> element that is the only child of its parent&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_optional.asp" target="_blank" rel="noopener"
>:optional&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:optional&lt;/td>
&lt;td style="text-align: left">Selects &lt;input> elements with no &amp;ldquo;required&amp;rdquo; attribute&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_out-of-range.asp" target="_blank" rel="noopener"
>:out-of-range&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:out-of-range&lt;/td>
&lt;td style="text-align: left">Selects &lt;input> elements with a value outside a specified range&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_read-only.asp" target="_blank" rel="noopener"
>:read-only&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:read-only&lt;/td>
&lt;td style="text-align: left">Selects &lt;input> elements with a &amp;ldquo;readonly&amp;rdquo; attribute specified&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_read-write.asp" target="_blank" rel="noopener"
>:read-write&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:read-write&lt;/td>
&lt;td style="text-align: left">Selects &lt;input> elements with no &amp;ldquo;readonly&amp;rdquo; attribute&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_required.asp" target="_blank" rel="noopener"
>:required&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:required&lt;/td>
&lt;td style="text-align: left">Selects &lt;input> elements with a &amp;ldquo;required&amp;rdquo; attribute specified&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_root.asp" target="_blank" rel="noopener"
>:root&lt;/a>&lt;/td>
&lt;td style="text-align: left">root&lt;/td>
&lt;td style="text-align: left">Selects the document&amp;rsquo;s root element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_target.asp" target="_blank" rel="noopener"
>:target&lt;/a>&lt;/td>
&lt;td style="text-align: left">#news:target&lt;/td>
&lt;td style="text-align: left">Selects the current active #news element (clicked on a URL containing that anchor name)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_valid.asp" target="_blank" rel="noopener"
>:valid&lt;/a>&lt;/td>
&lt;td style="text-align: left">input:valid&lt;/td>
&lt;td style="text-align: left">Selects all &lt;input> elements with a valid value&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_visited.asp" target="_blank" rel="noopener"
>:visited&lt;/a>&lt;/td>
&lt;td style="text-align: left">a:visited&lt;/td>
&lt;td style="text-align: left">Selects all visited links&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="pseudo-element-selector">Pseudo-element Selector
&lt;/h3>&lt;p>A CSS pseudo-element is used to style &lt;strong>specified parts&lt;/strong> of an element.&lt;/p>
&lt;h4 id="syntax-1">syntax
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">selector&lt;/span>&lt;span class="p">::&lt;/span>&lt;span class="nd">pseudo-element&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">property&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="first-line">::first-line
&lt;/h4>&lt;p>&lt;strong>Note:&lt;/strong> The &lt;code>::first-line&lt;/code> pseudo-element can only be applied to &lt;strong>block-level elements&lt;/strong>.&lt;/p>
&lt;p>The following properties apply to the &lt;code>::first-line&lt;/code> pseudo-element:&lt;/p>
&lt;ul>
&lt;li>font properties&lt;/li>
&lt;li>color properties&lt;/li>
&lt;li>background properties&lt;/li>
&lt;li>word-spacing&lt;/li>
&lt;li>letter-spacing&lt;/li>
&lt;li>text-decoration&lt;/li>
&lt;li>vertical-align&lt;/li>
&lt;li>text-transform&lt;/li>
&lt;li>line-height&lt;/li>
&lt;li>clear&lt;/li>
&lt;/ul>
&lt;h4 id="first-letter">::first-letter
&lt;/h4>&lt;p>&lt;strong>Note:&lt;/strong> The &lt;code>::first-letter&lt;/code> pseudo-element can only be applied to block-level elements.&lt;/p>
&lt;p>The following properties apply to the ::first-letter pseudo- element:&lt;/p>
&lt;ul>
&lt;li>font properties&lt;/li>
&lt;li>color properties&lt;/li>
&lt;li>background properties&lt;/li>
&lt;li>margin properties&lt;/li>
&lt;li>padding properties&lt;/li>
&lt;li>border properties&lt;/li>
&lt;li>text-decoration&lt;/li>
&lt;li>vertical-align (only if &amp;ldquo;float&amp;rdquo; is &amp;ldquo;none&amp;rdquo;)&lt;/li>
&lt;li>text-transform&lt;/li>
&lt;li>line-height&lt;/li>
&lt;li>float&lt;/li>
&lt;li>clear&lt;/li>
&lt;/ul>
&lt;h4 id="before-and-after">::before and ::after
&lt;/h4>&lt;p>The &lt;code>::before&lt;/code> and &lt;code>::after&lt;/code> pseudo-element can be used to insert some content before the content of an element.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">h1&lt;/span>&lt;span class="p">::&lt;/span>&lt;span class="nd">before&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">content&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sx">smiley.gif&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="all-pseudo-elements">all pseudo elements
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Selector&lt;/th>
&lt;th style="text-align: left">Example&lt;/th>
&lt;th style="text-align: left">Example description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_after.asp" target="_blank" rel="noopener"
>::after&lt;/a>&lt;/td>
&lt;td style="text-align: left">p::after&lt;/td>
&lt;td style="text-align: left">Insert something after the content of each &lt;p> element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_before.asp" target="_blank" rel="noopener"
>::before&lt;/a>&lt;/td>
&lt;td style="text-align: left">p::before&lt;/td>
&lt;td style="text-align: left">Insert something before the content of each &lt;p> element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_firstletter.asp" target="_blank" rel="noopener"
>::first-letter&lt;/a>&lt;/td>
&lt;td style="text-align: left">p::first-letter&lt;/td>
&lt;td style="text-align: left">Selects the first letter of each &lt;p> element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_firstline.asp" target="_blank" rel="noopener"
>::first-line&lt;/a>&lt;/td>
&lt;td style="text-align: left">p::first-line&lt;/td>
&lt;td style="text-align: left">Selects the first line of each &lt;p> element&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_marker.asp" target="_blank" rel="noopener"
>::marker&lt;/a>&lt;/td>
&lt;td style="text-align: left">::marker&lt;/td>
&lt;td style="text-align: left">Selects the markers of list items&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/sel_selection.asp" target="_blank" rel="noopener"
>::selection&lt;/a>&lt;/td>
&lt;td style="text-align: left">p::selection&lt;/td>
&lt;td style="text-align: left">Selects the portion of an element that is &lt;strong>selected by a user&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="attribute-selector">Attribute Selector
&lt;/h3>&lt;h4 id="attribute-selector-1">[attribute] Selector
&lt;/h4>&lt;p>The &lt;code>[attribute]&lt;/code> selector is used to select elements with a specified attribute.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">a&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">target&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="attributevalue-selector-等于">[attribute=&amp;ldquo;value&amp;rdquo;] Selector （等于）
&lt;/h4>&lt;p>The &lt;code>[attribute=&amp;quot;value&amp;quot;]&lt;/code> selector is used to select elements with a specified attribute and value.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">a&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">target&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;_blank&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="attributevalue-selector限制包含">[attribute~=&amp;ldquo;value&amp;rdquo;] Selector（限制包含）
&lt;/h4>&lt;p>The &lt;code>[attribute~=&amp;quot;value&amp;quot;]&lt;/code> selector is used to select elements with an attribute value &lt;strong>containing a specified word.&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="o">~=&lt;/span>&lt;span class="s2">&amp;#34;flower&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The example above will match elements with title=&amp;ldquo;flower&amp;rdquo;, title=&amp;ldquo;summer flower&amp;rdquo;, and title=&amp;ldquo;flower new&amp;rdquo;, but not title=&amp;ldquo;my-flower&amp;rdquo; or title=&amp;ldquo;flowers&amp;rdquo;.&lt;/p>
&lt;h4 id="attributevalue-selector包含">[attribute*=&amp;ldquo;value&amp;rdquo;] Selector（包含）
&lt;/h4>&lt;p>The &lt;code>[attribute*=&amp;quot;value&amp;quot;]&lt;/code> selector is used to select elements whose attribute value contains a specified value.&lt;/p>
&lt;p>The following example selects all elements with a class attribute value that contains &amp;ldquo;te&amp;rdquo;:&lt;/p>
&lt;p>&lt;strong>Note:&lt;/strong> The value does not have to be a whole word!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>&lt;span class="nt">class&lt;/span>&lt;span class="o">*=&lt;/span>&lt;span class="s2">&amp;#34;te&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="attributevalue-selector限制开始">[attribute|=&amp;ldquo;value&amp;rdquo;] Selector（限制开始）
&lt;/h4>&lt;p>The &lt;code>[attribute|=&amp;quot;value&amp;quot;]&lt;/code> selector is used to select elements with the specified attribute, whose value can be exactly the specified value, or the specified value followed by a hyphen (-).&lt;/p>
&lt;p>&lt;strong>Note:&lt;/strong> The value has to be a whole word, either alone, like class=&amp;ldquo;top&amp;rdquo;, or followed by a hyphen( - ), like class=&amp;ldquo;top-text&amp;rdquo;.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>&lt;span class="nt">class&lt;/span>&lt;span class="o">|=&lt;/span>&lt;span class="s2">&amp;#34;top&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="attributevalue-selector开始">[attribute^=&amp;ldquo;value&amp;rdquo;] Selector（开始）
&lt;/h4>&lt;p>The &lt;code>[attribute^=&amp;quot;value&amp;quot;]&lt;/code> selector is used to select elements with the specified attribute, whose value starts with the specified value.&lt;/p>
&lt;p>The following example selects all elements with a class attribute value that starts with &amp;ldquo;top&amp;rdquo;:&lt;/p>
&lt;p>&lt;strong>Note:&lt;/strong> The value does not have to be a whole word!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>&lt;span class="nt">class&lt;/span>&lt;span class="o">^=&lt;/span>&lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="attributevalue-selector结束">[attribute$=&amp;ldquo;value&amp;rdquo;] Selector（结束）
&lt;/h4>&lt;p>The &lt;code>[attribute$=&amp;quot;value&amp;quot;]&lt;/code> selector is used to select elements whose attribute value ends with a specified value.&lt;/p>
&lt;p>The following example selects all elements with a class attribute value that ends with &amp;ldquo;test&amp;rdquo;:&lt;/p>
&lt;p>&lt;strong>Note:&lt;/strong> The value does not have to be a whole word!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>&lt;span class="nt">class&lt;/span>&lt;span class="o">$=&lt;/span>&lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">yellow&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="special-selector">Special Selector
&lt;/h3>&lt;h4 id="universal-selector">Universal Selector
&lt;/h4>&lt;p>The universal selector (*) selects all HTML elements on the page.&lt;/p>
&lt;h4 id="grouping-selector">Grouping Selector
&lt;/h4>&lt;p>The universal selector (*) selects all HTML elements on the page.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">h1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nt">h2&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">text-align&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">center&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">red&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="specificity">Specificity
&lt;/h3>&lt;p>If there are two or more CSS rules that point to the same element, the selector with the highest specificity value will &amp;ldquo;win&amp;rdquo;, and its style declaration will be applied to that HTML element.&lt;/p>
&lt;p>Every CSS selector has its place in the specificity hierarchy.&lt;/p>
&lt;p>There are four categories which define the specificity level of a selector:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Inline styles&lt;/strong> (1000)- Example: &lt;h1 style="color: pink;">&lt;/li>
&lt;li>&lt;strong>IDs&lt;/strong> (100) - Example: #navbar&lt;/li>
&lt;li>&lt;strong>Classes, pseudo-classes, attribute selectors&lt;/strong> (10) - Example: .test, :hover, [href]&lt;/li>
&lt;li>&lt;strong>Elements and pseudo-elements&lt;/strong> (1 ) - Example: h1, ::before&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;strong>Equal specificity: the latest rule wins&lt;/strong>&lt;/p>
&lt;p>&lt;strong>The universal selector (*) and inherited values have a specificity of 0&lt;/strong> - The universal selector (*) and inherited values are ignored!&lt;/p>
&lt;/blockquote>
&lt;h4 id="important">！important
&lt;/h4>&lt;p>if you use the &lt;code>!important&lt;/code> rule, it will override ALL previous styling rules for that specific property on that element!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">#&lt;/span>&lt;span class="nn">myid&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">blue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">myclass&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">gray&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">red&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The only way to override an &lt;code>!important&lt;/code> rule is to include another &lt;code>!important&lt;/code> rule on a declaration with the same (or higher) specificity in the source code - and here the problem starts! This makes the CSS code confusing and the debugging will be hard, especially if you have a large style sheet!&lt;/p>
&lt;blockquote>
&lt;p>do not use it unless you absolutely have to.&lt;/p>
&lt;/blockquote>
&lt;h2 id="colors">Colors
&lt;/h2>&lt;h3 id="type">type
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>background color&lt;/p>
&lt;ul>
&lt;li>&lt;code>background-color&lt;/code>&lt;/li>
&lt;li>&lt;code>background&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>text color&lt;/p>
&lt;ul>
&lt;li>&lt;code>color&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>border color&lt;/p>
&lt;ul>
&lt;li>&lt;code>border&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="value">value
&lt;/h3>&lt;h4 id="rgb">RGB
&lt;/h4>&lt;p>&lt;strong>rgb(red,green, blue)&lt;/strong>&lt;/p>
&lt;p>Each parameter (red, green, and blue) defines the intensity of the color between 0 and 255.&lt;/p>
&lt;h5 id="rgba">RGBA
&lt;/h5>&lt;p>&lt;strong>rgba(red,green,blue, alpha)&lt;/strong>&lt;/p>
&lt;p>The alpha parameter is a number between 0.0 (fully transparent) and 1.0 (not transparent at all)&lt;/p>
&lt;h4 id="hex">HEX
&lt;/h4>&lt;p>A hexadecimal color is specified with: #RRGGBB, where the RR (red), GG (green) and BB (blue) hexadecimal integers specify the components of the color.&lt;/p>
&lt;p>In CSS, a color can be specified using a hexadecimal value in the form:&lt;/p>
&lt;p>&lt;strong>#rrggbb&lt;/strong>&lt;/p>
&lt;p>Where rr (red), gg (green) and bb (blue) are hexadecimal values between 00 and ff (same as decimal 0-255).&lt;/p>
&lt;h4 id="hsl">HSL
&lt;/h4>&lt;p>In CSS, a color can be specified using hue, saturation, and lightness (HSL) in the form:&lt;/p>
&lt;p>&lt;strong>hsl(&lt;em>hue&lt;/em>, &lt;em>saturation&lt;/em>, &lt;em>lightness&lt;/em>)&lt;/strong>&lt;/p>
&lt;p>Hue is a degree on the color wheel from 0 to 360. 0 is red, 120 is green, and 240 is blue.&lt;/p>
&lt;p>Saturation is a percentage value, 0% means a shade of gray, and 100% is the full color.&lt;/p>
&lt;p>Lightness is also a percentage, 0% is black, 50% is neither light or dark, 100% is white&lt;/p>
&lt;h5 id="hsla">HSLA
&lt;/h5>&lt;p>&lt;strong>hsla(&lt;em>hue,&lt;/em> &lt;em>saturation&lt;/em>, &lt;em>lightness, alpha&lt;/em>)&lt;/strong>&lt;/p>
&lt;p>The alpha parameter is a number between 0.0 (fully transparent) and 1.0 (not transparent at all)&lt;/p>
&lt;h3 id="keyword">Keyword
&lt;/h3>&lt;ul>
&lt;li>&lt;code>transparent&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>equal to rgba(0,0,0,0)&lt;/p>
&lt;ul>
&lt;li>&lt;code>currentcolor&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>is like a variable that holds the current value of the color property of an element.&lt;/p>
&lt;h3 id="opacity">Opacity
&lt;/h3>&lt;p>The alpha parameter is a number between 0.0 (fully transparent) and 1.0 (not transparent at all)&lt;/p>
&lt;h3 id="gradients">Gradients
&lt;/h3>&lt;p>CSS defines three types of gradients:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Linear Gradients (goes down/up/left/right/diagonally)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>background-image: (repeating)-linear-gradient(&lt;em>direction&lt;/em>/angle, &lt;em>color-stop1&lt;/em>, &lt;em>color-stop2, &amp;hellip;&lt;/em>);&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;strong>Radial Gradients (defined by their center)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>background-image: (repeating)-radial-gradient(&lt;em>shape size&lt;/em> at &lt;em>position, start-color, &amp;hellip;, last-color&lt;/em>);&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;strong>Conic Gradients (rotated around a center point)&lt;/strong>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>background-image: (repeating)-radial-gradient(&lt;em>shape size&lt;/em> at &lt;em>position, start-color, &amp;hellip;, last-color&lt;/em>);&lt;/p>
&lt;/blockquote>
&lt;h2 id="background">Background
&lt;/h2>&lt;h3 id="background-color">&lt;code>background-color&lt;/code>
&lt;/h3>&lt;p>explained before&lt;/p>
&lt;h3 id="background-image">&lt;code>background-image&lt;/code>
&lt;/h3>&lt;p>By default, the image is repeated so it covers the entire element.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-image&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;paper.gif&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="background-repeat">&lt;code>background-repeat&lt;/code>
&lt;/h4>&lt;p>By default, the &lt;code>background-image&lt;/code> property repeats an image both horizontally and vertically.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-image&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;gradient_bg.png&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-repeat&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">repeat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">default&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">repeat-x&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">repeat-y&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">no-repeat&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">space&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">round&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">initial&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">inherit&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="background-position">&lt;code>background-position&lt;/code>
&lt;/h4>&lt;p>The &lt;code>background-position&lt;/code> property is used to specify the position of the background image.&lt;/p>
&lt;h4 id="background-attachment">&lt;code>background-attachment&lt;/code>
&lt;/h4>&lt;p>The &lt;code>background-attachment&lt;/code> property specifies whether the background image should scroll or be fixed (will not scroll with the rest of the page)&lt;/p>
&lt;h3 id="background-1">&lt;code>background&lt;/code>
&lt;/h3>&lt;p>shorthand property for above properties&lt;/p>
&lt;h2 id="box-model">Box Model
&lt;/h2>&lt;p>&lt;img src="https://www.runoob.com/images/box-model.gif"
loading="lazy"
alt="CSS box-model"
>&lt;/p>
&lt;p>Explanation of the different parts:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Content&lt;/strong> - The content of the box, where text and images appear&lt;/li>
&lt;li>&lt;strong>Padding&lt;/strong> - Clears an area around the content. The padding is &lt;strong>transparent&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Border&lt;/strong> - A border that goes around the padding and content&lt;/li>
&lt;li>&lt;strong>Margin&lt;/strong> - Clears an area outside the border. The margin is &lt;strong>transparent&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="padding">Padding
&lt;/h2>&lt;p>Padding is used to create space around an element&amp;rsquo;s content, inside of any defined borders.&lt;/p>
&lt;p>CSS has properties for specifying the padding for each side of an element:&lt;/p>
&lt;ul>
&lt;li>&lt;code>padding-top&lt;/code>&lt;/li>
&lt;li>&lt;code>padding-right&lt;/code>&lt;/li>
&lt;li>&lt;code>padding-bottom&lt;/code>&lt;/li>
&lt;li>&lt;code>padding-left&lt;/code>&lt;/li>
&lt;li>&lt;code>padding&lt;/code>(shorthand)&lt;/li>
&lt;/ul>
&lt;p>All the padding properties can have the following values:&lt;/p>
&lt;ul>
&lt;li>&lt;em>length&lt;/em> - specifies a padding in px, pt, cm, etc.&lt;/li>
&lt;li>&lt;em>%&lt;/em> - specifies a padding in % of the width of the containing element&lt;/li>
&lt;li>inherit - specifies that the padding should be inherited from the parent element&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Note:&lt;/strong> Negative values are &lt;strong>not allowed.&lt;/strong>&lt;/p>
&lt;p>If the &lt;code>padding&lt;/code> property has three values:&lt;/p>
&lt;ul>
&lt;li>padding: 25px 50px 75px;
&lt;ul>
&lt;li>top padding is 25px&lt;/li>
&lt;li>right and left paddings are 50px&lt;/li>
&lt;li>bottom padding is 75px&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="border">Border
&lt;/h2>&lt;p>The CSS border properties allow you to specify the style, width, and color of an element&amp;rsquo;s border.&lt;/p>
&lt;ul>
&lt;li>&lt;code>border-style&lt;/code>&lt;/li>
&lt;li>&lt;code>border-width&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>The width can be set as a specific size (in px, pt, cm, em, etc) or by using one of the three pre-defined values: thin, medium, or thick&lt;/p>
&lt;p>The &lt;code>border-width&lt;/code> property can have from one to four values (for the top border, right border, bottom border, and the left border)&lt;/p>
&lt;ul>
&lt;li>&lt;code>border-color&lt;/code>&lt;/li>
&lt;li>&lt;code>border&lt;/code>(shorthand)&lt;/li>
&lt;/ul>
&lt;p>the &lt;code>border-style&lt;/code> is required&lt;/p>
&lt;ul>
&lt;li>&lt;code>border-image&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>you can set an image to be used as the border around an element.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Tip:&lt;/strong> The &lt;code>border-image&lt;/code> property is actually a shorthand property for the &lt;code>border-image-source&lt;/code>, &lt;code>border-image-slice&lt;/code>, &lt;code>border-image-width&lt;/code>, &lt;code>border-image-outset&lt;/code> and &lt;code>border-image-repeat&lt;/code> properties.&lt;/p>
&lt;/blockquote>
&lt;h3 id="side-specific">Side-Specific
&lt;/h3>&lt;p>&lt;code>border-(side)-(value)&lt;/code>&lt;/p>
&lt;h3 id="rounded">Rounded
&lt;/h3>&lt;p>With the CSS &lt;code>border-radius&lt;/code> property, you can give any element &amp;ldquo;rounded corners&amp;rdquo;.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Tip:&lt;/strong> The &lt;code>border-radius&lt;/code> property is actually a shorthand property for the &lt;code>border-top-left-radius&lt;/code>, &lt;code>border-top-right-radius&lt;/code>, &lt;code>border-bottom-right-radius&lt;/code> and &lt;code>border-bottom-left-radius&lt;/code> properties&lt;/p>
&lt;/blockquote>
&lt;h2 id="margins">Margins
&lt;/h2>&lt;p>Margins are used to create space around elements, &lt;strong>outside&lt;/strong> of any defined borders.&lt;/p>
&lt;ul>
&lt;li>&lt;code>margin-top&lt;/code>&lt;/li>
&lt;li>&lt;code>margin-right&lt;/code>&lt;/li>
&lt;li>&lt;code>margin-bottom&lt;/code>&lt;/li>
&lt;li>&lt;code>margin-left&lt;/code>&lt;/li>
&lt;li>&lt;code>margin&lt;/code> (shorthand)&lt;/li>
&lt;/ul>
&lt;p>All the margin properties can have the following values:&lt;/p>
&lt;ul>
&lt;li>auto - the browser calculates the margin&lt;/li>
&lt;li>&lt;em>length&lt;/em> - specifies a margin in px, pt, cm, etc.&lt;/li>
&lt;li>&lt;em>%&lt;/em> - specifies a margin in % of the width of the containing element&lt;/li>
&lt;li>inherit - specifies that the margin should be inherited from the parent element&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Tip:&lt;/strong> Negative values are allowed.&lt;/p>
&lt;p>If the &lt;code>margin&lt;/code> property has three values:&lt;/p>
&lt;ul>
&lt;li>margin: 25px 50px 75px;
&lt;ul>
&lt;li>top margin is 25px&lt;/li>
&lt;li>right and left margins are 50px&lt;/li>
&lt;li>bottom margin is 75px&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="margin-collapse">Margin Collapse
&lt;/h3>&lt;p>&lt;strong>Top and bottom&lt;/strong> margins of elements are sometimes collapsed into a single margin that is equal to the &lt;strong>largest&lt;/strong> of the two margins.&lt;/p>
&lt;p>This does not happen on left and right margins! Only top and bottom margins!&lt;/p>
&lt;h2 id="widthheight">Width/Height
&lt;/h2>&lt;p>The &lt;code>height&lt;/code> and &lt;code>width&lt;/code> properties are used to set the height and width of an element.&lt;/p>
&lt;p>The height and width properties do not include padding, borders, or margins. It sets the height/width of the area inside the padding, border, and margin of the element.&lt;/p>
&lt;p>The &lt;code>height&lt;/code> and &lt;code>width&lt;/code> properties may have the following values:&lt;/p>
&lt;ul>
&lt;li>&lt;code>auto&lt;/code> - This is default. The browser calculates the height and width&lt;/li>
&lt;li>&lt;code>length&lt;/code> - Defines the height/width in px, cm etc.&lt;/li>
&lt;li>&lt;code>%&lt;/code> - Defines the height/width in percent of the containing block&lt;/li>
&lt;li>&lt;code>initial&lt;/code> - Sets the height/width to its default value&lt;/li>
&lt;li>&lt;code>inherit&lt;/code> - The height/width will be inherited from its parent value&lt;/li>
&lt;/ul>
&lt;p>we can also use &lt;code>min/max-width/height&lt;/code> to achieve our goal.&lt;/p>
&lt;h3 id="box-sizing">Box Sizing
&lt;/h3>&lt;p>The CSS &lt;code>box-sizing&lt;/code> property allows us to include the padding and border in an element&amp;rsquo;s total width and height.&lt;/p>
&lt;p>By default, the width and height of an element is calculated like this:&lt;/p>
&lt;p>width + padding + border = actual width of an element
height + padding + border = actual height of an element&lt;/p>
&lt;p>This means: When you set the width/height of an element, the element often appears &lt;strong>bigger&lt;/strong> than you have set&lt;/p>
&lt;p>If you set &lt;code>box-sizing: border-box;&lt;/code> on an element, padding and border are included in the width and height&lt;/p>
&lt;h2 id="outline">Outline
&lt;/h2>&lt;p>An outline is a line drawn outside the element&amp;rsquo;s border.&lt;/p>
&lt;p>CSS has the following outline properties:&lt;/p>
&lt;ul>
&lt;li>&lt;code>outline-style&lt;/code>&lt;/li>
&lt;li>&lt;code>outline-color&lt;/code>&lt;/li>
&lt;li>&lt;code>outline-width&lt;/code>&lt;/li>
&lt;li>&lt;code>outline-offset&lt;/code>&lt;/li>
&lt;li>&lt;code>outline&lt;/code>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> Outline differs from &lt;a class="link" href="https://www.w3schools.com/css/css_border.asp" target="_blank" rel="noopener"
>borders&lt;/a>! Unlike border, the outline is drawn outside the element&amp;rsquo;s border, and may overlap other content. Also, the outline is NOT a part of the element&amp;rsquo;s dimensions; the element&amp;rsquo;s total width and height is not affected by the width of the outline.&lt;/p>
&lt;/blockquote>
&lt;h2 id="text">Text
&lt;/h2>&lt;h3 id="text-color">Text Color
&lt;/h3>&lt;p>The &lt;code>color&lt;/code> property is used to set the color of the text.&lt;/p>
&lt;h3 id="text-alignment">Text Alignment
&lt;/h3>&lt;ul>
&lt;li>&lt;code>text-align &lt;/code>&lt;/li>
&lt;/ul>
&lt;p>set the &lt;strong>horizontal&lt;/strong> alignment of a text.&lt;/p>
&lt;p>When the &lt;code>text-align&lt;/code> property is set to &amp;ldquo;justify&amp;rdquo;, each line is stretched so that every line has equal width, and the left and right margins are straight (like in magazines and newspapers)&lt;/p>
&lt;ul>
&lt;li>&lt;code>text-align-last&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>text-align-last&lt;/code> property specifies how to align the last line of a text.&lt;/p>
&lt;ul>
&lt;li>&lt;code>direction&lt;/code>&lt;/li>
&lt;li>&lt;code>unicode-bidi&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>direction&lt;/code> and &lt;code>unicode-bidi&lt;/code> properties can be used to change the text direction of an element&lt;/p>
&lt;ul>
&lt;li>&lt;code>vertical-align&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>vertical-align&lt;/code> property sets the vertical alignment of an element.&lt;/p>
&lt;h3 id="text-decoration">Text Decoration
&lt;/h3>&lt;ul>
&lt;li>&lt;code>text-decoration-line&lt;/code>&lt;/li>
&lt;li>&lt;code>text-decoration-color&lt;/code>&lt;/li>
&lt;li>&lt;code>text-decoration-style&lt;/code>&lt;/li>
&lt;li>&lt;code>text-decoration-thickness&lt;/code>&lt;/li>
&lt;li>&lt;code>text-decoration&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="text-transformation">Text Transformation
&lt;/h3>&lt;p>The &lt;code>text-transform&lt;/code> property is used to specify uppercase and lowercase letters in a text.&lt;/p>
&lt;p>&lt;code>text-transform: none|capitalize|uppercase|lowercase|initial|inherit;&lt;/code>&lt;/p>
&lt;h3 id="text-spacing">Text Spacing
&lt;/h3>&lt;ul>
&lt;li>&lt;code>text-indent&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>specify the indentation of the first line of a text&lt;/p>
&lt;ul>
&lt;li>&lt;code>letter-spacing&lt;/code>&lt;/li>
&lt;li>&lt;code>line-height&lt;/code>&lt;/li>
&lt;li>&lt;code>word-spacing&lt;/code>&lt;/li>
&lt;li>&lt;code>white-space&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="text-shadow">Text Shadow
&lt;/h3>&lt;p>horizontal shadow ;vertical shadow ;blur effect;colors&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">h1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">white&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">text-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#000000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="text-effect">Text Effect
&lt;/h3>&lt;ul>
&lt;li>&lt;code>text-overflow&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>specifies how overflowed content that is not displayed should be signaled to the user.&lt;/p>
&lt;ul>
&lt;li>&lt;code>word-wrap&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>allows long words to be able to be broken and wrap onto the next line.&lt;/p>
&lt;ul>
&lt;li>&lt;code>word-break&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>specifies line breaking rules.&lt;/p>
&lt;ul>
&lt;li>&lt;code>writing-mode&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>specifies whether lines of text are laid out horizontally or vertically.&lt;/p>
&lt;h2 id="font">Font
&lt;/h2>&lt;h3 id="font-family">Font Family
&lt;/h3>&lt;p>In CSS there are five generic font families:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Serif&lt;/strong> fonts have a small stroke at the edges of each letter. They create a sense of formality and elegance.&lt;/li>
&lt;li>&lt;strong>Sans-serif&lt;/strong> fonts have clean lines (no small strokes attached). They create a modern and minimalistic look.&lt;/li>
&lt;li>&lt;strong>Monospace&lt;/strong> fonts - here all the letters have the same fixed width. They create a mechanical look.&lt;/li>
&lt;li>&lt;strong>Cursive&lt;/strong> fonts imitate human handwriting.&lt;/li>
&lt;li>&lt;strong>Fantasy&lt;/strong> fonts are decorative/playful fonts.&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Note&lt;/strong>: If the font name is more than one word, it must be in quotation marks, like: &amp;ldquo;Times New Roman&amp;rdquo;.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Tip:&lt;/strong> The &lt;code>font-family&lt;/code> property should hold several font names as a &amp;ldquo;&lt;strong>fallback&lt;/strong>&amp;rdquo; system, to ensure maximum compatibility between browsers/operating systems. Start with the font you want, and end with a generic family (to let the browser pick a similar font in the generic family, if no other fonts are available). The font names should be separated with comma.&lt;/p>
&lt;/blockquote>
&lt;p>The following list are the best web safe fonts for HTML and CSS:&lt;/p>
&lt;ul>
&lt;li>Arial (sans-serif)&lt;/li>
&lt;li>Verdana (sans-serif)&lt;/li>
&lt;li>Helvetica (sans-serif)&lt;/li>
&lt;li>Tahoma (sans-serif)&lt;/li>
&lt;li>Trebuchet MS (sans-serif)&lt;/li>
&lt;li>Times New Roman (serif)&lt;/li>
&lt;li>Georgia (serif)&lt;/li>
&lt;li>Garamond (serif)&lt;/li>
&lt;li>Courier New (monospace)&lt;/li>
&lt;li>Brush Script MT (cursive)&lt;/li>
&lt;/ul>
&lt;h3 id="font-style">Font Style
&lt;/h3>&lt;p>&lt;code>font-style&lt;/code> property is mostly used to specify italic text.&lt;/p>
&lt;p>This property has three values:&lt;/p>
&lt;ul>
&lt;li>normal - The text is shown normally&lt;/li>
&lt;li>italic - The text is shown in italics&lt;/li>
&lt;li>oblique - The text is &amp;ldquo;leaning&amp;rdquo; (oblique is very similar to italic, but less supported)&lt;/li>
&lt;/ul>
&lt;p>&lt;code>font-weight&lt;/code> specifies the weight of a font ( normal bold)&lt;/p>
&lt;p>&lt;code>font-variant&lt;/code> property specifies whether or not a text should be displayed in a small-caps font.( In a small-caps font, all lowercase letters are converted to uppercase letters. However, the converted uppercase letters appears in a smaller font size than the original uppercase letters in the text. )&lt;/p>
&lt;h3 id="font-size">Font Size
&lt;/h3>&lt;p>The font-size value can be an absolute, or relative size.&lt;/p>
&lt;p>Absolute size:&lt;/p>
&lt;ul>
&lt;li>Sets the text to a specified size&lt;/li>
&lt;li>Does not allow a user to change the text size in all browsers (bad for accessibility reasons)&lt;/li>
&lt;li>Absolute size is useful when the physical size of the output is known&lt;/li>
&lt;/ul>
&lt;p>Relative size:&lt;/p>
&lt;ul>
&lt;li>Sets the size relative to surrounding elements&lt;/li>
&lt;li>Allows a user to change the text size in browsers&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Note:&lt;/strong> If you do not specify a font size, the default size for normal text, like paragraphs, is 16px (16px=1em).&lt;/p>
&lt;p>1em is equal to the current font size. The default text size in browsers is 16px. So, the default size of 1em is 16px.&lt;/p>
&lt;p>with the em size, it is possible to adjust the text size in all browsers.&lt;/p>
&lt;p>The solution that works in all browsers, is to set a default font-size in percent for the &lt;body> element:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">h1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">2.5&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">h2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.875&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.875&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="font-1">&lt;code>font&lt;/code>
&lt;/h3>&lt;p>The &lt;code>font&lt;/code> property is a shorthand property for:&lt;/p>
&lt;ul>
&lt;li>&lt;code>font-style&lt;/code>&lt;/li>
&lt;li>&lt;code>font-variant&lt;/code>&lt;/li>
&lt;li>&lt;code>font-weight&lt;/code>&lt;/li>
&lt;li>&lt;code>font-size/line-height&lt;/code>&lt;/li>
&lt;li>&lt;code>font-family&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Note:&lt;/strong> The &lt;code>font-size&lt;/code> and &lt;code>font-family&lt;/code> values are required. If one of the other values is missing, their default value are used.&lt;/p>
&lt;h3 id="google-fonts">Google Fonts
&lt;/h3>&lt;p>If you do not want to use any of the standard fonts in HTML, you can use Google Fonts.&lt;/p>
&lt;p>Google Fonts are free to use, and have more than 1000 fonts to choose from.&lt;/p>
&lt;p>Just add a special style sheet link in the &lt;head> section and then refer to the font in the CSS.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nt">link&lt;/span> &lt;span class="nt">rel&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;stylesheet&amp;#34;&lt;/span> &lt;span class="nt">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://fonts.googleapis.com/css?family=Sofia|Audiowide|Sofia|Trirong&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Google have also enabled different font effects that you can use.&lt;/p>
&lt;p>First add &lt;code>effect=effectname&lt;/code> to the Google API, then add a special class name to the element that is going to use the special effect. The class name always starts with &lt;code>font-effect-&lt;/code> and ends with the &lt;code>effectname&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nt">link&lt;/span> &lt;span class="nt">rel&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;stylesheet&amp;#34;&lt;/span> &lt;span class="nt">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://fonts.googleapis.com/css?family=Sofia&amp;amp;effect=fire&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="nt">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;font-effect-fire&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nt">Sofia&lt;/span> &lt;span class="nt">on&lt;/span> &lt;span class="nt">Fire&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="web-fonts">Web Fonts
&lt;/h3>&lt;p>Web fonts allow Web designers to use fonts that are not installed on the user&amp;rsquo;s computer.&lt;/p>
&lt;p>When you have found/bought the font you wish to use, just include the font file on your web server, and it will be automatically downloaded to the user when needed.&lt;/p>
&lt;p>Your &amp;ldquo;own&amp;rdquo; fonts are defined within the CSS &lt;code>@font-face&lt;/code> rule.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">font-face&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">font-family&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">myFirstFont&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">src&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">url&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">sansation_light&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">woff&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">div&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-family&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">myFirstFont&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="lists">Lists
&lt;/h2>&lt;ul>
&lt;li>&lt;code>list-style-type&lt;/code>&lt;/li>
&lt;li>`list-style-image``&lt;/li>
&lt;li>``list-style-position`&lt;/li>
&lt;li>&lt;code>list-style&lt;/code> ( shorthand )&lt;/li>
&lt;/ul>
&lt;h2 id="layout">Layout
&lt;/h2>&lt;h3 id="display">Display
&lt;/h3>&lt;p>The &lt;code>display&lt;/code> property is the most important CSS property for controlling layout.&lt;/p>
&lt;p>Every HTML element has a default display value depending on what type of element it is. The default display value for most elements is &lt;code>block&lt;/code> or &lt;code>inline&lt;/code>.&lt;/p>
&lt;p>&lt;code>display: none;&lt;/code> is commonly used with JavaScript to hide and show elements without deleting and recreating them.&lt;/p>
&lt;p>&lt;code>visibility:hidden;&lt;/code> also hides an element.&lt;/p>
&lt;p>However, the element will still take up the same space as before. The element will be hidden, but still affect the layout&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Value&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;th style="text-align: left">Play it&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">inline&lt;/td>
&lt;td style="text-align: left">Displays an element as an inline element (like &lt;span>). Any height and width properties will have no effect&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/playdemo.asp?filename=playcss_display&amp;amp;preval=inline" target="_blank" rel="noopener"
>Demo ❯&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">block&lt;/td>
&lt;td style="text-align: left">Displays an element as a block element (like &lt;p>). It starts on a new line, and takes up the whole width&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/playdemo.asp?filename=playcss_display&amp;amp;preval=block" target="_blank" rel="noopener"
>Demo ❯&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">contents&lt;/td>
&lt;td style="text-align: left">Makes the container disappear, making the child elements children of the element the next level up in the DOM&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">flex&lt;/td>
&lt;td style="text-align: left">Displays an element as a &lt;strong>block-level flex container&lt;/strong>&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">grid&lt;/td>
&lt;td style="text-align: left">Displays an element as a &lt;strong>block-level grid container&lt;/strong>&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">inline-block&lt;/td>
&lt;td style="text-align: left">Displays an element as an inline-level block container. The element itself is formatted as an inline element, but you &lt;strong>can apply height and width values&lt;/strong>&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">inline-flex&lt;/td>
&lt;td style="text-align: left">Displays an element as an inline-level flex container&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">inline-grid&lt;/td>
&lt;td style="text-align: left">Displays an element as an inline-level grid container&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">inline-table&lt;/td>
&lt;td style="text-align: left">The element is displayed as an inline-level table&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">list-item&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;li> element&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/cssref/playdemo.asp?filename=playcss_display&amp;amp;preval=list-item" target="_blank" rel="noopener"
>Demo ❯&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">run-in&lt;/td>
&lt;td style="text-align: left">Displays an element as either block or inline, depending on context&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;table> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table-caption&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;caption> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table-column-group&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;colgroup> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table-header-group&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;thead> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table-footer-group&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;tfoot> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table-row-group&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;tbody> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table-cell&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;td> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table-column&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;col> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">table-row&lt;/td>
&lt;td style="text-align: left">Let the element behave like a &lt;tr> element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">none&lt;/td>
&lt;td style="text-align: left">The element is completely removed&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">initial&lt;/td>
&lt;td style="text-align: left">Sets this property to its default value. &lt;a class="link" href="https://www.w3schools.com/cssref/css_initial.asp" target="_blank" rel="noopener"
>Read about &lt;em>initial&lt;/em>&lt;/a>&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">inherit&lt;/td>
&lt;td style="text-align: left">Inherits this property from its parent element. &lt;a class="link" href="https://www.w3schools.com/cssref/css_inherit.asp" target="_blank" rel="noopener"
>Read about &lt;em>inherit&lt;/em>&lt;/a>&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="displayinline-block">&lt;code>display:inline-block&lt;/code>
&lt;/h4>&lt;p>Compared to &lt;code>display: inline&lt;/code>, the major difference is that &lt;code>display: inline-block&lt;/code> allows to set a width and height on the element.&lt;/p>
&lt;p>Also, with &lt;code>display: inline-block&lt;/code>, the top and bottom margins/paddings are respected, but with &lt;code>display: inline&lt;/code> they are not.&lt;/p>
&lt;p>Compared to &lt;code>display: block&lt;/code>, the major difference is that &lt;code>display: inline-block&lt;/code> does not add a line-break after the element, so the element can sit next to other elements.&lt;/p>
&lt;h3 id="position">Position
&lt;/h3>&lt;p>The &lt;code>position&lt;/code> property specifies the type of positioning method used for an element.&lt;/p>
&lt;p>There are five different position values:&lt;/p>
&lt;ul>
&lt;li>&lt;code>static&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>HTML elements are positioned static by default.&lt;/p>
&lt;p>An element with &lt;code>position: static;&lt;/code> is not positioned in any special way; it is always positioned according to the normal flow of the page&lt;/p>
&lt;ul>
&lt;li>&lt;code>relative&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>An element with &lt;code>position: relative;&lt;/code> is positioned relative to its normal position.&lt;/p>
&lt;p>Setting the &lt;strong>top, right, bottom, and left&lt;/strong> properties of a relatively-positioned element will cause it to be adjusted away from its normal position. Other content &lt;strong>will not be adjusted&lt;/strong> to fit into any gap left by the element.&lt;/p>
&lt;ul>
&lt;li>&lt;code>fixed&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>An element with &lt;code>position: fixed;&lt;/code> is positioned &lt;strong>relative to the viewport&lt;/strong>, which means it always stays in the same place even if the page is scrolled. The top, right, bottom, and left properties are used to position the element.&lt;/p>
&lt;ul>
&lt;li>&lt;code>absolute&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>An element with &lt;code>position: absolute;&lt;/code> is positioned relative to the nearest positioned ancestor (instead of positioned relative to the viewport, like fixed).&lt;/p>
&lt;p>However; if an absolute positioned element has no positioned ancestors, it uses the document body, and moves along with page scrolling.&lt;/p>
&lt;ul>
&lt;li>&lt;code>sticky&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>A sticky element toggles between &lt;code>relative&lt;/code> and &lt;code>fixed&lt;/code>, depending on the scroll position. It is positioned relative until a given offset position is met in the viewport - then it &amp;ldquo;sticks&amp;rdquo; in place (like position:fixed).&lt;/p>
&lt;h3 id="z-index">Z-index
&lt;/h3>&lt;p>specifies the stack order of an element.&lt;/p>
&lt;p>&lt;code>z-index&lt;/code> &lt;strong>only works&lt;/strong> on &lt;a class="link" href="https://www.w3schools.com/css/css_positioning.asp" target="_blank" rel="noopener"
>positioned elements&lt;/a> (position: absolute, position: relative, position: fixed, or position: sticky) and &lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox.asp" target="_blank" rel="noopener"
>flex items&lt;/a> (elements that are direct children of display: flex elements).&lt;/p>
&lt;h3 id="overflow">Overflow
&lt;/h3>&lt;p>controls what happens to content that is too big to fit into an area, specifies whether to clip the content or to add scrollbars when the content of an element is too big to fit in the specified area.&lt;/p>
&lt;ul>
&lt;li>&lt;code>visible&lt;/code> - Default. The overflow is not clipped. The content renders outside the element&amp;rsquo;s box&lt;/li>
&lt;li>&lt;code>hidden&lt;/code> - The overflow is clipped, and the rest of the content will be invisible&lt;/li>
&lt;li>&lt;code>scroll&lt;/code> - The overflow is clipped, and a scrollbar is added to see the rest of the content&lt;/li>
&lt;li>&lt;code>auto&lt;/code> - Similar to &lt;code>scroll&lt;/code>, but it adds scrollbars only when necessary&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>overflow-x&lt;/code> and &lt;code>overflow-y&lt;/code> properties specifies whether to change the overflow of content just horizontally or vertically (or both):&lt;/p>
&lt;h3 id="float-and-clear">Float and Clear
&lt;/h3>&lt;h4 id="float">&lt;code>float&lt;/code>
&lt;/h4>&lt;p>The CSS &lt;code>float&lt;/code> property specifies how an element should float.&lt;/p>
&lt;p>The CSS &lt;code>clear&lt;/code> property specifies what elements can float beside the cleared element and on which side.&lt;/p>
&lt;p>The &lt;code>float&lt;/code> property can have one of the following values:&lt;/p>
&lt;ul>
&lt;li>&lt;code>left&lt;/code> - The element floats to the left of its container&lt;/li>
&lt;li>&lt;code>right&lt;/code> - The element floats to the right of its container&lt;/li>
&lt;li>&lt;code>none&lt;/code> - The element does not float (will be displayed just where it occurs in the text). This is default&lt;/li>
&lt;li>&lt;code>inherit&lt;/code> - The element inherits the float value of its parent&lt;/li>
&lt;/ul>
&lt;h4 id="clear">&lt;code>clear&lt;/code>
&lt;/h4>&lt;p>When we use the &lt;code>float&lt;/code> property, and we want the next element below (not on right or left), we will have to use the &lt;code>clear&lt;/code> property.&lt;/p>
&lt;p>The &lt;code>clear&lt;/code> property specifies what should happen with the element that is next to a floating element.&lt;/p>
&lt;p>The &lt;code>clear&lt;/code> property can have one of the following values:&lt;/p>
&lt;ul>
&lt;li>&lt;code>none&lt;/code> - The element is not pushed below left or right floated elements. This is default&lt;/li>
&lt;li>&lt;code>left&lt;/code> - The element is pushed below left floated elements&lt;/li>
&lt;li>&lt;code>right&lt;/code> - The element is pushed below right floated elements&lt;/li>
&lt;li>&lt;code>both&lt;/code> - The element is pushed below both left and right floated elements&lt;/li>
&lt;li>&lt;code>inherit&lt;/code> - The element inherits the clear value from its parent&lt;/li>
&lt;/ul>
&lt;p>When clearing floats, you should &lt;strong>match&lt;/strong> the clear to the float: If an element is floated to the left, then you should clear to the left. Your floated element will continue to float, but the cleared element will appear below it on the web page.&lt;/p>
&lt;p>If a floated element is taller than the containing element, it will &amp;ldquo;overflow&amp;rdquo; outside of its container. We can then add a clearfix hack to solve this problem&lt;/p>
&lt;h3 id="align">Align
&lt;/h3>&lt;h4 id="horizontally">Horizontally
&lt;/h4>&lt;p>To horizontally center a block element (like &lt;div>), use &lt;code>margin: auto;&lt;/code>&lt;/p>
&lt;p>&lt;strong>Note:&lt;/strong> Center aligning has no effect if the &lt;code>width&lt;/code> property is not set (or set to 100%).&lt;/p>
&lt;p>To just center the text inside an element, use &lt;code>text-align: center;&lt;/code>&lt;/p>
&lt;h4 id="vertically">Vertically
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>There are many ways to center an element vertically in CSS. A simple solution is to use top and bottom &lt;code>padding&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Another trick is to use the &lt;code>line-height&lt;/code> property with a value that is equal to the &lt;code>height&lt;/code> property&lt;/p>
&lt;/li>
&lt;li>
&lt;p>another solution is to use positioning and the &lt;code>transform&lt;/code> property&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">center&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">relative&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="kc">green&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">center&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">absolute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">top&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kp">-ms-&lt;/span>&lt;span class="k">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">translate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">-50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">-50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">translate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">-50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">-50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>You can also use flexbox to center things. Just note that flexbox is not supported in IE10 and earlier versions&lt;/li>
&lt;/ul>
&lt;h2 id="flex">Flex
&lt;/h2>&lt;p>The Flexible Box Layout Module, makes it easier to design flexible responsive layout structure without using float or positioning.&lt;/p>
&lt;h3 id="container">container
&lt;/h3>&lt;p>The flex container becomes flexible by setting the &lt;code>display&lt;/code> property to &lt;code>flex&lt;/code>.&lt;/p>
&lt;p>The flex container properties are:&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_container.asp#flex-direction" target="_blank" rel="noopener"
>&lt;code>flex-direction&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>defines in which direction the container wants to stack the flex items.&lt;/p>
&lt;p>&lt;code>column | column-reverse | row | row-reverse &lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_container.asp#flex-wrap" target="_blank" rel="noopener"
>&lt;code>flex-wrap&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>specifies whether the flex items should wrap or not.&lt;/p>
&lt;p>&lt;code>nowrap(default) | wrap |wrap-reverse&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_container.asp#flex-flow" target="_blank" rel="noopener"
>&lt;code>flex-flow&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>shorthand for &lt;code>flex-direction&lt;/code> and &lt;code>flex-wrap&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_container.asp#justify-content" target="_blank" rel="noopener"
>&lt;code>justify-content&lt;/code>&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;code>flex-start&lt;/code>&lt;/li>
&lt;li>&lt;code>center&lt;/code>&lt;/li>
&lt;li>&lt;code>flex-end&lt;/code>&lt;/li>
&lt;li>&lt;code>space-around&lt;/code> :displays the flex items with space before, between, and after the lines&lt;/li>
&lt;li>&lt;code>space-between&lt;/code>：displays the flex items with space between the lines&lt;/li>
&lt;li>&lt;code>space-evenly&lt;/code>:equal space around them&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_container.asp#align-items" target="_blank" rel="noopener"
>&lt;code>align-items&lt;/code>&lt;/a> :used to align the flex items.&lt;/p>
&lt;ul>
&lt;li>&lt;code>flex-start&lt;/code>&lt;/li>
&lt;li>&lt;code>flex-end&lt;/code>&lt;/li>
&lt;li>&lt;code>center&lt;/code>&lt;/li>
&lt;li>&lt;code>stretch &lt;/code>: Items are stretched to fit the container&lt;/li>
&lt;li>&lt;code>baseline&lt;/code>: Items are positioned at the baseline of the container&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_container.asp#align-content" target="_blank" rel="noopener"
>&lt;code>align-content&lt;/code>&lt;/a>: but instead of aligning flex items, it aligns flex lines&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="item">item
&lt;/h3>&lt;p>The flex item properties are:&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_items.asp#order" target="_blank" rel="noopener"
>&lt;code>order&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>specifies the appearance order of the flex items.&lt;/p>
&lt;p>The first flex item in the code does not have to appear as the first item in the layout.&lt;/p>
&lt;p>The order value must be a number, default value is 0.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_items.asp#flex-grow" target="_blank" rel="noopener"
>&lt;code>flex-grow&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>flex-grow&lt;/code> property specifies how much a flex item will grow relative to the rest of the flex items.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_items.asp#flex-shrink" target="_blank" rel="noopener"
>&lt;code>flex-shrink&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>flex-grow&lt;/code> property specifies how much a flex item will shrink relative to the rest of the flex items.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_items.asp#flex-basis" target="_blank" rel="noopener"
>&lt;code>flex-basis&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>specifies the initial length of a flex item.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_items.asp#flex" target="_blank" rel="noopener"
>&lt;code>flex&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>shorthand property for the &lt;code>flex-grow&lt;/code>, &lt;code>flex-shrink&lt;/code>, and &lt;code>flex-basis&lt;/code> properties.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.w3schools.com/css/css3_flexbox_items.asp#align-self" target="_blank" rel="noopener"
>&lt;code>align-self&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>specifies the alignment for the selected item inside the flexible container.&lt;/p>
&lt;h2 id="grid">Grid
&lt;/h2>&lt;h3 id="container-1">container
&lt;/h3>&lt;ul>
&lt;li>&lt;code>grid-template-columns&lt;/code>&lt;/li>
&lt;li>&lt;code>grid-template-rows&lt;/code>&lt;/li>
&lt;li>&lt;code>justify-content&lt;/code>&lt;/li>
&lt;li>&lt;code>align-content&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="item-1">item
&lt;/h3>&lt;p>By default, a container has one grid item for each column, in each row, but you can style the grid items so that they will span multiple columns and/or rows.&lt;/p>
&lt;ul>
&lt;li>&lt;code>grid-column&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>shorthand property for the &lt;code>grid-column-start&lt;/code> and the &lt;code>grid-column-end&lt;/code> properties., defines on which column(s) to place an item.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">grid-column&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">grid-column&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">span&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>&lt;code>grid-row&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>gird-area&lt;/code> : shorthand for the above two properties&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item8&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">grid-area&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item8&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">grid-area&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="units">Units
&lt;/h2>&lt;p>CSS has several different units for expressing a length.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> A whitespace cannot appear between the number and the unit. However, if the value is &lt;code>0&lt;/code>, the unit can be omitted.&lt;/p>
&lt;/blockquote>
&lt;p>There are two types of length units: &lt;strong>absolute&lt;/strong> and &lt;strong>relative&lt;/strong>.&lt;/p>
&lt;h3 id="absolute">Absolute
&lt;/h3>&lt;p>Absolute length units are not recommended for use on screen, because screen sizes vary so much. However, they can be used if the output medium is known, such as for print layout.&lt;/p>
&lt;p>Absolute length units are not recommended for use on screen, because screen sizes vary so much. However, they can be used if the output medium is known, such as for print layout.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Unit&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">cm&lt;/td>
&lt;td style="text-align: left">centimeters&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_cm" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">mm&lt;/td>
&lt;td style="text-align: left">millimeters&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_mm" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">in&lt;/td>
&lt;td style="text-align: left">inches (1in = 96px = 2.54cm)&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_in" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">px *&lt;/td>
&lt;td style="text-align: left">pixels (1px = 1/96th of 1in)&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_px" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">pt&lt;/td>
&lt;td style="text-align: left">points (1pt = 1/72 of 1in)&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_pt" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">pc&lt;/td>
&lt;td style="text-align: left">picas (1pc = 12 pt)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>* Pixels (px) are relative to the viewing device. For low-dpi devices, 1px is one device pixel (dot) of the display. For printers and high resolution screens 1px implies multiple device pixels.&lt;/p>
&lt;h3 id="relative">Relative
&lt;/h3>&lt;p>Relative length units specify a length relative to another length property. Relative length units scales better between different rendering mediums.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Unit&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">em&lt;/td>
&lt;td style="text-align: left">Relative to the font-size of the element (2em means 2 times the size of the current font)&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_em" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">ex&lt;/td>
&lt;td style="text-align: left">Relative to the x-height of the current font (rarely used)&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_ex" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">ch&lt;/td>
&lt;td style="text-align: left">Relative to width of the &amp;ldquo;0&amp;rdquo; (zero)&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_ch" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">rem&lt;/td>
&lt;td style="text-align: left">Relative to font-size of the root element&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_rem" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">vw&lt;/td>
&lt;td style="text-align: left">Relative to 1% of the width of the viewport*&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_vw" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">vh&lt;/td>
&lt;td style="text-align: left">Relative to 1% of the height of the viewport*&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_vh" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">vmin&lt;/td>
&lt;td style="text-align: left">Relative to 1% of viewport&amp;rsquo;s* smaller dimension&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_vmin" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">vmax&lt;/td>
&lt;td style="text-align: left">Relative to 1% of viewport&amp;rsquo;s* larger dimension&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/css/tryit.asp?filename=trycss_unit_vmax" target="_blank" rel="noopener"
>Try it&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">%&lt;/td>
&lt;td style="text-align: left">Relative to the parent element&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="math-functions">Math Functions
&lt;/h2>&lt;h3 id="calc">calc()
&lt;/h3>&lt;blockquote>
&lt;p>calc(&lt;em>expression&lt;/em>)&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">calc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="max">max()
&lt;/h3>&lt;blockquote>
&lt;p>max(&lt;em>value1&lt;/em>, &lt;em>value2&lt;/em>, &amp;hellip;)&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="min">min()
&lt;/h3>&lt;blockquote>
&lt;p>max(&lt;em>value1&lt;/em>, &lt;em>value2&lt;/em>, &amp;hellip;)&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="transforms">Transforms
&lt;/h2>&lt;h3 id="2d">2D
&lt;/h3>&lt;p>With the CSS &lt;code>transform&lt;/code> property you can use the following 2D transformation methods:&lt;/p>
&lt;ul>
&lt;li>&lt;code>translate()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>moves an element from its current position (according to the parameters given for the X-axis and the Y-axis).&lt;/p>
&lt;ul>
&lt;li>&lt;code>rotate()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>rotates an element clockwise(positive deg) or counter-clockwise (negative deg) according to a given degree.&lt;/p>
&lt;ul>
&lt;li>&lt;code>scaleX()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>increases or decreases the width of an element.&lt;/p>
&lt;ul>
&lt;li>&lt;code>scaleY()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>increases or decreases the height of an element.&lt;/p>
&lt;ul>
&lt;li>&lt;code>scale()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>increases or decreases the size of an element (according to the parameters given for the width and height).&lt;/p>
&lt;ul>
&lt;li>&lt;code>skewX()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>skews an element along the X-axis by the given angle.&lt;/p>
&lt;ul>
&lt;li>&lt;code>skewY()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>skews an element along the Y-axis by the given angle.&lt;/p>
&lt;ul>
&lt;li>&lt;code>skew()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>skews an element along the X and Y-axis by the given angles.&lt;/p>
&lt;ul>
&lt;li>&lt;code>matrix()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>combines all the 2D transform methods into one.&lt;/p>
&lt;blockquote>
&lt;p>matrix(scaleX(),skewY(),skewX(),scaleY(),translateX(),translateY())&lt;/p>
&lt;/blockquote>
&lt;h3 id="3d">3D
&lt;/h3>&lt;p>CSS also supports 3D transformations.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Function&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">matrix3d (&lt;em>n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D transformation, using a 4x4 matrix of 16 values&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">translate3d(&lt;em>x,y,z&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D translation&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">translateX(&lt;em>x&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D translation, using only the value for the X-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">translateY(&lt;em>y&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D translation, using only the value for the Y-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">translateZ(&lt;em>z&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D translation, using only the value for the Z-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">scale3d(&lt;em>x,y,z&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D scale transformation&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">scaleX(&lt;em>x&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D scale transformation by giving a value for the X-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">scaleY(&lt;em>y&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D scale transformation by giving a value for the Y-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">scaleZ(&lt;em>z&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D scale transformation by giving a value for the Z-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">rotate3d(&lt;em>x,y,z,angle&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D rotation&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">rotateX(&lt;em>angle&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D rotation along the X-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">rotateY(&lt;em>angle&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D rotation along the Y-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">rotateZ(&lt;em>angle&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a 3D rotation along the Z-axis&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">perspective(&lt;em>n&lt;/em>)&lt;/td>
&lt;td style="text-align: left">Defines a perspective view for a 3D transformed element&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="transitions">Transitions
&lt;/h2>&lt;ul>
&lt;li>&lt;code>transition&lt;/code>&lt;/li>
&lt;li>&lt;code>transition-delay&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>specifies a delay (in seconds) for the transition effect.&lt;/p>
&lt;ul>
&lt;li>&lt;code>transition-duration&lt;/code>&lt;/li>
&lt;li>&lt;code>transition-property&lt;/code>&lt;/li>
&lt;li>&lt;code>transition-timing-function&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>To create a transition effect, you must specify two things:&lt;/p>
&lt;ul>
&lt;li>the CSS property you want to add an effect to&lt;/li>
&lt;li>the duration of the effect&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> If the duration part is not specified, the transition will have no effect, because the default value is 0.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">div&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">width&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">height&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">div&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">/*Several Property Values*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">div&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="timing-function">Timing Function
&lt;/h3>&lt;p>The &lt;code>transition-timing-function&lt;/code> property specifies the speed curve of the transition effect.&lt;/p>
&lt;p>The transition-timing-function property can have the following values:&lt;/p>
&lt;ul>
&lt;li>&lt;code>ease&lt;/code> - specifies a transition effect with a slow start, then fast, then end slowly (this is default)&lt;/li>
&lt;li>&lt;code>linear&lt;/code> - specifies a transition effect with the same speed from start to end&lt;/li>
&lt;li>&lt;code>ease-in&lt;/code> - specifies a transition effect with a slow start&lt;/li>
&lt;li>&lt;code>ease-out&lt;/code> - specifies a transition effect with a slow end&lt;/li>
&lt;li>&lt;code>ease-in-out&lt;/code> - specifies a transition effect with a slow start and end&lt;/li>
&lt;li>&lt;code>cubic-bezier(n,n,n,n)&lt;/code> - lets you define your own values in a cubic-bezier function&lt;/li>
&lt;/ul>
&lt;h2 id="animations">Animations
&lt;/h2>&lt;ul>
&lt;li>&lt;code>@keyframes&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>To use CSS animation, you must first specify some keyframes for the animation.&lt;/p>
&lt;p>Keyframes hold what styles the element will have at certain times.&lt;/p>
&lt;ul>
&lt;li>&lt;code>animation-name&lt;/code>&lt;/li>
&lt;li>&lt;code>animation-duration&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>animation-duration&lt;/code> property defines how long an animation should take to complete. If the &lt;code>animation-duration&lt;/code> property is not specified, no animation will occur, because the default value is 0s (0 seconds).&lt;/p>
&lt;ul>
&lt;li>&lt;code>animation-delay&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Negative values are also allowed. If using negative values, the animation will start as if it had already been playing for &lt;em>N&lt;/em> seconds.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>animation-iteration-count&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>animation-direction&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;code>normal&lt;/code> - The animation is played as normal (forwards). This is default&lt;/li>
&lt;li>&lt;code>reverse&lt;/code> - The animation is played in reverse direction (backwards)&lt;/li>
&lt;li>&lt;code>alternate &lt;/code>- The animation is played forwards first, then backwards&lt;/li>
&lt;li>&lt;code>alternate-reverse&lt;/code> - The animation is played backwards first, then forwards&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>animation-timing-function&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>animation-fill-mode&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;code>none&lt;/code> - Default value. Animation will not apply any styles to the element before or after it is executing&lt;/li>
&lt;li>&lt;code>forwards&lt;/code> - The element will retain the style values that is set by the last keyframe (depends on animation-direction and animation-iteration-count)&lt;/li>
&lt;li>&lt;code>backwards&lt;/code> - The element will get the style values that is set by the first keyframe (depends on animation-direction), and retain this during the animation-delay period&lt;/li>
&lt;li>&lt;code>both&lt;/code> - The animation will follow the rules for both forwards and backwards, extending the animation properties in both directions&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>CSS animations do not affect an element before the first keyframe is played or after the last keyframe is played. The animation-fill-mode property can override this behavior.&lt;/p>
&lt;ul>
&lt;li>&lt;code>animation&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="media-queries">Media Queries
&lt;/h2>&lt;p>The &lt;code>@media&lt;/code> rule, introduced in CSS2, made it possible to define different style rules for different media types.&lt;/p>
&lt;p>Unfortunately these media types never got a lot of support by devices, other than the print media type.&lt;/p>
&lt;p>Media queries in CSS3 extended the CSS2 media types idea: Instead of looking for a type of device, they look at the capability of the device.&lt;/p>
&lt;ul>
&lt;li>width and height of the viewport&lt;/li>
&lt;li>width and height of the device&lt;/li>
&lt;li>orientation (is the tablet/phone in landscape or portrait mode?)&lt;/li>
&lt;li>resolution&lt;/li>
&lt;/ul>
&lt;p>A media query consists of a media type and can contain one or more expressions, which resolve to either true or false.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="nt">not&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="nt">only&lt;/span> &lt;span class="nt">mediatype&lt;/span> &lt;span class="nt">and&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">mediafeature&lt;/span> &lt;span class="nt">and&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="nt">or&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="nt">not&lt;/span> &lt;span class="nt">mediafeature&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">CSS-Code&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="media-types">Media Types
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Value&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">all&lt;/td>
&lt;td style="text-align: left">Default. Used for all media type devices&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">print&lt;/td>
&lt;td style="text-align: left">Used for printers&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">screen&lt;/td>
&lt;td style="text-align: left">Used for computer screens, tablets, smart-phones etc.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">speech&lt;/td>
&lt;td style="text-align: left">Used for screenreaders that &amp;ldquo;reads&amp;rdquo; the page out loud&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="media-features">Media Features
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Value&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">any-hover&lt;/td>
&lt;td style="text-align: left">Does any available input mechanism allow the user to hover over elements? (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">any-pointer&lt;/td>
&lt;td style="text-align: left">Is any available input mechanism a pointing device, and if so, how accurate is it? (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">aspect-ratio&lt;/td>
&lt;td style="text-align: left">The ratio between the width and the height of the viewport&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">color&lt;/td>
&lt;td style="text-align: left">The number of bits per color component for the output device&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">color-gamut&lt;/td>
&lt;td style="text-align: left">The approximate range of colors that are supported by the user agent and output device (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">color-index&lt;/td>
&lt;td style="text-align: left">The number of colors the device can display&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">grid&lt;/td>
&lt;td style="text-align: left">Whether the device is a grid or bitmap&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">height&lt;/td>
&lt;td style="text-align: left">The viewport height&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">hover&lt;/td>
&lt;td style="text-align: left">Does the primary input mechanism allow the user to hover over elements? (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">inverted-colors&lt;/td>
&lt;td style="text-align: left">Is the browser or underlying OS inverting colors? (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">light-level&lt;/td>
&lt;td style="text-align: left">Current ambient light level (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">max-aspect-ratio&lt;/td>
&lt;td style="text-align: left">The maximum ratio between the width and the height of the display area&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">max-color&lt;/td>
&lt;td style="text-align: left">The maximum number of bits per color component for the output device&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">max-color-index&lt;/td>
&lt;td style="text-align: left">The maximum number of colors the device can display&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">max-height&lt;/td>
&lt;td style="text-align: left">The maximum height of the display area, such as a browser window&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">max-monochrome&lt;/td>
&lt;td style="text-align: left">The maximum number of bits per &amp;ldquo;color&amp;rdquo; on a monochrome (greyscale) device&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">max-resolution&lt;/td>
&lt;td style="text-align: left">The maximum resolution of the device, using dpi or dpcm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">max-width&lt;/td>
&lt;td style="text-align: left">The maximum width of the display area, such as a browser window&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">min-aspect-ratio&lt;/td>
&lt;td style="text-align: left">The minimum ratio between the width and the height of the display area&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">min-color&lt;/td>
&lt;td style="text-align: left">The minimum number of bits per color component for the output device&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">min-color-index&lt;/td>
&lt;td style="text-align: left">The minimum number of colors the device can display&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">min-height&lt;/td>
&lt;td style="text-align: left">The minimum height of the display area, such as a browser window&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">min-monochrome&lt;/td>
&lt;td style="text-align: left">The minimum number of bits per &amp;ldquo;color&amp;rdquo; on a monochrome (greyscale) device&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">min-resolution&lt;/td>
&lt;td style="text-align: left">The minimum resolution of the device, using dpi or dpcm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">min-width&lt;/td>
&lt;td style="text-align: left">The minimum width of the display area, such as a browser window&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">monochrome&lt;/td>
&lt;td style="text-align: left">The number of bits per &amp;ldquo;color&amp;rdquo; on a monochrome (greyscale) device&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">orientation&lt;/td>
&lt;td style="text-align: left">The orientation of the viewport (landscape or portrait mode)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">overflow-block&lt;/td>
&lt;td style="text-align: left">How does the output device handle content that overflows the viewport along the block axis (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">overflow-inline&lt;/td>
&lt;td style="text-align: left">Can content that overflows the viewport along the inline axis be scrolled (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">pointer&lt;/td>
&lt;td style="text-align: left">Is the primary input mechanism a pointing device, and if so, how accurate is it? (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">resolution&lt;/td>
&lt;td style="text-align: left">The resolution of the output device, using dpi or dpcm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">scan&lt;/td>
&lt;td style="text-align: left">The scanning process of the output device&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">scripting&lt;/td>
&lt;td style="text-align: left">Is scripting (e.g. JavaScript) available? (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">update&lt;/td>
&lt;td style="text-align: left">How quickly can the output device modify the appearance of the content (added in Media Queries Level 4)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">width&lt;/td>
&lt;td style="text-align: left">The viewport width&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>e.g.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="c">/* changes the background-color to lightgreen if the viewport is 480 pixels wide or wider */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="nt">screen&lt;/span> &lt;span class="nt">and&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">min-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">480px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">body&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">lightgreen&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="variables">Variables
&lt;/h2>&lt;p>The &lt;code>var()&lt;/code> function is used to insert the value of a CSS variable.&lt;/p>
&lt;p>CSS variables have access to the DOM, which means that you can create variables with local or global scope, change the variables with JavaScript, and change the variables based on media queries.&lt;/p>
&lt;p>A good way to use CSS variables is when it comes to the &lt;strong>colors&lt;/strong> of your design. Instead of copy and paste the same colors over and over again, you can place them in variables.&lt;/p>
&lt;blockquote>
&lt;p>var(&amp;ndash;&lt;em>name, value&lt;/em>)&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;em>name&lt;/em>&lt;/th>
&lt;th>Required. The variable name (must start with two dashes)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;em>value&lt;/em>&lt;/td>
&lt;td>Optional. The fallback value (used if the variable is not found)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="global-and-local">global and local
&lt;/h3>&lt;p>CSS variables can have a global or local scope.&lt;/p>
&lt;p>Global variables can be accessed/used through the entire document, while local variables can be used only inside the selector where it is declared.&lt;/p>
&lt;p>To create a variable with global scope, declare it inside the &lt;code>:root&lt;/code> selector. The &lt;code>:root&lt;/code> selector matches the document&amp;rsquo;s root element.&lt;/p>
&lt;p>To create a variable with local scope, declare it inside the selector that is going to use it.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--blue&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#1e90ff&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--white&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#ffffff&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="kc">blue&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">h2&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">border-bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="kc">blue&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">container&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="kc">blue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="kc">white&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">button&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="kc">white&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="kc">blue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="kc">blue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="override">override
&lt;/h3>&lt;p>we can re-declare the &amp;ndash;blue variable inside a specific selector. When we use var(&amp;ndash;blue) inside this selector, it will use the local variable redeclared within it.&lt;/p>
&lt;h3 id="with-javascript">with javascript
&lt;/h3>&lt;p>CSS variables have access to the DOM, which means that you can change them with JavaScript.&lt;/p>
&lt;h2 id="responsive">Responsive
&lt;/h2>&lt;h3 id="viewport">Viewport
&lt;/h3>&lt;p>HTML5 introduced a method to let web designers take control over the viewport, through the &lt;code>&amp;lt;meta&amp;gt;&lt;/code> tag.&lt;/p>
&lt;p>You should include the following &lt;code>&amp;lt;meta&amp;gt;&lt;/code> viewport element in all your web pages:&lt;/p>
&lt;p>&amp;lt;meta name=&amp;ldquo;viewport&amp;rdquo; content=&amp;ldquo;width=device-width, initial-scale=1.0&amp;rdquo;&amp;gt;&lt;/p>
&lt;p>This gives the browser instructions on how to control the page&amp;rsquo;s dimensions and scaling.&lt;/p>
&lt;p>The &lt;code>width=device-width&lt;/code> part sets the width of the page to follow the screen-width of the device (which will vary depending on the device).&lt;/p>
&lt;p>The &lt;code>initial-scale=1.0&lt;/code> part sets the initial zoom level when the page is first loaded by the browser.&lt;/p>
&lt;h3 id="media-queries-1">Media Queries
&lt;/h3>&lt;p>Media Queries are about defining different style rules for different devices (screens, tablets, mobile phones, etc.)&lt;/p>
&lt;h2 id="others">Others
&lt;/h2>&lt;h3 id="object-fit">&lt;code>object-fit&lt;/code>
&lt;/h3>&lt;p>The CSS &lt;code>object-fit&lt;/code> property is used to specify how an &lt;img> or &lt;video> should be resized to fit its container.&lt;/p>
&lt;ul>
&lt;li>&lt;code>fill&lt;/code> - This is default. The image is resized to fill the given dimension. If necessary, the image will be stretched or squished to fit&lt;/li>
&lt;li>&lt;code>contain&lt;/code> - The image keeps its aspect ratio, but is resized to fit within the given dimension&lt;/li>
&lt;li>&lt;code>cover&lt;/code> - The image keeps its aspect ratio and fills the given dimension. The image will be clipped to fit&lt;/li>
&lt;li>&lt;code>none&lt;/code> - The image is not resized&lt;/li>
&lt;li>&lt;code>scale-down&lt;/code> - the image is scaled down to the smallest version of &lt;code>none&lt;/code> or &lt;code>contain&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="object-position">&lt;code>object-position&lt;/code>
&lt;/h3>&lt;h3 id="masking">Masking
&lt;/h3>&lt;p>With CSS masking you create a mask layer to place over an element to partially or fully hide portions of the element.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> Most browsers only have partial support for CSS masking. You will need to use the -webkit- prefix in addition to the standard property in most browsers.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">mask1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kp">-webkit-&lt;/span>&lt;span class="k">mask-image&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sx">w3logo.png&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">mask-image&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sx">w3logo.png&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kp">-webkit-&lt;/span>&lt;span class="k">mask-repeat&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">no-repeat&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">mask-repeat&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">no-repeat&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="user-interface">User Interface
&lt;/h3>&lt;ul>
&lt;li>&lt;code>resize&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>resize&lt;/code> property specifies if (and how) an element should be resizable by the user.&lt;/p>
&lt;ul>
&lt;li>&lt;code>outline-offset&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>The &lt;code>outline-offset&lt;/code> property adds space between an outline and the edge or border of an element.&lt;/p></description></item><item><title>【HTML】 Basics</title><link>https://dyhes.github.io/p/html-basics/</link><pubDate>Fri, 16 Apr 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/html-basics/</guid><description>&lt;h2 id="iframe">&lt;code>&amp;lt;iframe&amp;gt;&lt;/code>
&lt;/h2>&lt;p>An iframe can be used as the target frame for a link.&lt;/p>
&lt;p>The &lt;code>target&lt;/code> attribute of the link must refer to the &lt;code>name&lt;/code> attribute of the iframe:&lt;/p>
&lt;h2 id="meta">&lt;code>&amp;lt;meta&amp;gt;&lt;/code>
&lt;/h2>&lt;p>The &lt;code>&amp;lt;meta&amp;gt;&lt;/code> element is typically used to specify the character set, page description, keywords, author of the document, and viewport settings. The metadata will &lt;strong>not be displayed&lt;/strong> on the page, but are &lt;strong>used by browsers&lt;/strong> (how to display content or reload page), by &lt;strong>search engines&lt;/strong> (keywords), and other web services.&lt;/p>
&lt;ul>
&lt;li>Define the &lt;strong>character set&lt;/strong> used:&lt;/li>
&lt;/ul>
&lt;p>&amp;lt;meta charset=&amp;ldquo;UTF-8&amp;rdquo;&amp;gt;&lt;/p>
&lt;ul>
&lt;li>Define &lt;strong>keywords&lt;/strong> for &lt;strong>search engines&lt;/strong>:&lt;/li>
&lt;/ul>
&lt;p>&amp;lt;meta name=&amp;ldquo;keywords&amp;rdquo; content=&amp;ldquo;HTML, CSS, JavaScript&amp;rdquo;&amp;gt;&lt;/p>
&lt;ul>
&lt;li>Define a &lt;strong>description&lt;/strong> of your web page:&lt;/li>
&lt;/ul>
&lt;p>&amp;lt;meta name=&amp;ldquo;description&amp;rdquo; content=&amp;ldquo;Free Web tutorials&amp;rdquo;&amp;gt;&lt;/p>
&lt;ul>
&lt;li>Define the &lt;strong>author&lt;/strong> of a page:&lt;/li>
&lt;/ul>
&lt;p>&amp;lt;meta name=&amp;ldquo;author&amp;rdquo; content=&amp;ldquo;John Doe&amp;rdquo;&amp;gt;&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Refresh&lt;/strong> document every 30 seconds:&lt;/li>
&lt;/ul>
&lt;p>&amp;lt;meta http-equiv=&amp;ldquo;refresh&amp;rdquo; content=&amp;ldquo;30&amp;rdquo;&amp;gt;&lt;/p>
&lt;ul>
&lt;li>Setting the &lt;strong>viewport&lt;/strong> to make your website look good on all devices:&lt;/li>
&lt;/ul>
&lt;p>&amp;lt;meta name=&amp;ldquo;viewport&amp;rdquo; content=&amp;ldquo;width=device-width, initial-scale=1.0&amp;rdquo;&amp;gt;&lt;/p>
&lt;h2 id="base">base
&lt;/h2>&lt;p>he &lt;code>&amp;lt;base&amp;gt;&lt;/code> element specifies the base URL and/or target for all relative URLs in a page.&lt;/p>
&lt;p>The &lt;code>&amp;lt;base&amp;gt;&lt;/code> tag must have either an href or a target attribute present, or both.&lt;/p>
&lt;p>There can only be one single &lt;code>&amp;lt;base&amp;gt;&lt;/code> element in a document!&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">base&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://www.w3schools.com/&amp;#34;&lt;/span> &lt;span class="na">target&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;_blank&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="layout">Layout
&lt;/h2>&lt;p>There are four different techniques to create multicolumn layouts. Each technique has its pros and cons:&lt;/p>
&lt;ul>
&lt;li>CSS framework&lt;/li>
&lt;li>CSS float property&lt;/li>
&lt;li>CSS flexbox&lt;/li>
&lt;li>CSS grid&lt;/li>
&lt;/ul>
&lt;h2 id="segmentic">Segmentic
&lt;/h2>&lt;p>In HTML there are some semantic elements that can be used to define different parts of a web page:&lt;/p>
&lt;ul>
&lt;li>
&lt;article>
&lt;/li>
&lt;li>
&lt;aside>
&lt;/li>
&lt;li>
&lt;details>
&lt;/li>
&lt;li>
&lt;figcaption>
&lt;/li>
&lt;li>
&lt;figure>
&lt;/li>
&lt;li>
&lt;footer>
&lt;/li>
&lt;li>
&lt;header>
&lt;/li>
&lt;li>
&lt;main>
&lt;/li>
&lt;li>
&lt;mark>
&lt;/li>
&lt;li>
&lt;nav>
&lt;/li>
&lt;li>
&lt;section>
&lt;/li>
&lt;li>
&lt;summary>
&lt;/li>
&lt;li>
&lt;time>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220128132450001.png"
loading="lazy"
alt="image-20220128132450001"
>&lt;/p>
&lt;h2 id="form">Form
&lt;/h2>&lt;h3 id="attribute">Attribute
&lt;/h3>&lt;h4 id="action">Action
&lt;/h4>&lt;p>The &lt;code>action&lt;/code> attribute defines the action to be performed when the form is submitted.&lt;/p>
&lt;p>&lt;strong>Tip:&lt;/strong> If the &lt;code>action&lt;/code> attribute is omitted, the action is set to the current page.&lt;/p>
&lt;h4 id="target">Target
&lt;/h4>&lt;p>The &lt;code>target&lt;/code> attribute can have one of the following values:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Value&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">_blank&lt;/td>
&lt;td style="text-align: left">The response is displayed in a new window or tab&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">_self&lt;/td>
&lt;td style="text-align: left">The response is displayed in the current window&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">_parent&lt;/td>
&lt;td style="text-align: left">The response is displayed in the parent frame&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">_top&lt;/td>
&lt;td style="text-align: left">The response is displayed in the full body of the window&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;em>framename&lt;/em>&lt;/td>
&lt;td style="text-align: left">The response is displayed in a named iframe&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The default value is &lt;code>_self&lt;/code> which means that the response will open in the current window.&lt;/p>
&lt;h4 id="method">Method
&lt;/h4>&lt;p>The &lt;code>method&lt;/code> attribute specifies the HTTP method to be used when submitting the form data.&lt;/p>
&lt;p>The form-data can be sent as URL variables (with &lt;code>method=&amp;quot;get&amp;quot;&lt;/code>) or as HTTP post transaction (with &lt;code>method=&amp;quot;post&amp;quot;&lt;/code>).&lt;/p>
&lt;p>The default HTTP method when submitting form data is GET.&lt;/p>
&lt;p>&lt;strong>Notes on GET:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Appends the form data to the URL, in name/value pairs&lt;/li>
&lt;li>NEVER use GET to send sensitive data! (the submitted form data is visible in the URL!)&lt;/li>
&lt;li>The length of a URL is limited (2048 characters)&lt;/li>
&lt;li>Useful for form submissions where a user wants to bookmark the result&lt;/li>
&lt;li>GET is good for non-secure data, like query strings in Google&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Notes on POST:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Appends the form data inside the body of the HTTP request (the submitted form data is not shown in the URL)&lt;/li>
&lt;li>POST has no size limitations, and can be used to send large amounts of data.&lt;/li>
&lt;li>Form submissions with POST cannot be bookmarked&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Tip:&lt;/strong> Always use POST if the form data contains sensitive or personal information!&lt;/p>
&lt;h4 id="autocomplete">Autocomplete
&lt;/h4>&lt;p>The &lt;code>autocomplete&lt;/code> attribute specifies whether a form should have autocomplete on or off.&lt;/p>
&lt;p>When autocomplete is on, the browser automatically complete values based on values that the user has entered before.&lt;/p>
&lt;h4 id="novalidate">Novalidate
&lt;/h4>&lt;p>The &lt;code>novalidate&lt;/code> attribute is a boolean attribute.&lt;/p>
&lt;p>When present, it specifies that the form-data (input) should not be validated when submitted.&lt;/p>
&lt;h4 id="other">other
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Attribute&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_accept_charset.asp" target="_blank" rel="noopener"
>accept-charset&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies the character encodings used for form submission&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_action.asp" target="_blank" rel="noopener"
>action&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies where to send the form-data when a form is submitted&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_autocomplete.asp" target="_blank" rel="noopener"
>autocomplete&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies whether a form should have autocomplete on or off&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_enctype.asp" target="_blank" rel="noopener"
>enctype&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies how the form-data should be encoded when submitting it to the server (only for method=&amp;ldquo;post&amp;rdquo;)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_method.asp" target="_blank" rel="noopener"
>method&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies the HTTP method to use when sending form-data&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_name.asp" target="_blank" rel="noopener"
>name&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies the name of the form&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_novalidate.asp" target="_blank" rel="noopener"
>novalidate&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies that the form should not be validated when submitted&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_rel.asp" target="_blank" rel="noopener"
>rel&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies the relationship between a linked resource and the current document&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/tags/att_form_target.asp" target="_blank" rel="noopener"
>target&lt;/a>&lt;/td>
&lt;td style="text-align: left">Specifies where to display the response that is received after submitting the form&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="element">Element
&lt;/h3>&lt;p>The HTML &lt;code>&amp;lt;form&amp;gt;&lt;/code> element can contain one or more of the following form elements:&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;lt;input&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;label&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;select&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;textarea&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;button&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;fieldset&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;legend&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;datalist&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;output&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;option&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;optgroup&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="input">input
&lt;/h4>&lt;p>The HTML &lt;code>&amp;lt;input&amp;gt;&lt;/code> element is the most used form element.&lt;/p>
&lt;p>An &lt;code>&amp;lt;input&amp;gt;&lt;/code> element can be displayed in many ways, depending on the &lt;code>type&lt;/code> attribute.&lt;/p>
&lt;p>Here are some examples:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Type&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;input type="text">&lt;/td>
&lt;td style="text-align: left">Displays a single-line text input field, If the &lt;code>name&lt;/code> attribute is omitted, the value of the input field will not be sent at all.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;input type="radio">&lt;/td>
&lt;td style="text-align: left">Displays a radio button (for selecting one of many choices)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;input type="checkbox">&lt;/td>
&lt;td style="text-align: left">Displays a checkbox (for selecting zero or more of many choices)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;input type="submit">&lt;/td>
&lt;td style="text-align: left">Displays a submit button (for submitting the form),The form-handler is specified in the form&amp;rsquo;s &lt;code>action&lt;/code> attribute.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;input type="button">&lt;/td>
&lt;td style="text-align: left">Displays a clickable button&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="label">label
&lt;/h4>&lt;p>The &lt;code>&amp;lt;label&amp;gt;&lt;/code> element is useful for screen-reader users, because the screen-reader will read out loud the label when the user focus on the input element.&lt;/p>
&lt;p>The &lt;code>&amp;lt;label&amp;gt;&lt;/code> element also help users who have difficulty clicking on very small regions (such as radio buttons or checkboxes) - because when the user clicks the text within the &lt;code>&amp;lt;label&amp;gt;&lt;/code> element, it toggles the radio button/checkbox.&lt;/p>
&lt;p>The &lt;code>for&lt;/code> attribute of the &lt;code>&amp;lt;label&amp;gt;&lt;/code> tag should be equal to the &lt;code>id&lt;/code> attribute of the &lt;code>&amp;lt;input&amp;gt;&lt;/code> element to bind them together.&lt;/p>
&lt;h4 id="selectoption">select,option
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cars&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Choose a car:&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">select&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cars&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cars&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;volvo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Volvo&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;saab&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Saab&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;fiat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Fiat&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;audi&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Audi&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">select&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>&amp;lt;option&amp;gt;&lt;/code> elements defines an option that can be selected.&lt;/p>
&lt;p>By default, the first item in the drop-down list is selected.&lt;/p>
&lt;p>To define a pre-selected option, add the &lt;code>selected&lt;/code> attribute to the option&lt;/p>
&lt;p>Use the &lt;code>multiple&lt;/code> attribute to allow the user to select more than one value&lt;/p>
&lt;h4 id="textarea">textarea
&lt;/h4>&lt;p>the &lt;code>&amp;lt;textarea&amp;gt;&lt;/code> element defines a multi-line input field (a text area)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">textarea&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;message&amp;#34;&lt;/span> &lt;span class="na">rows&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;10&amp;#34;&lt;/span> &lt;span class="na">cols&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;30&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">The cat was playing in the garden.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">textarea&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="fieldsetlegend">fieldset,legend
&lt;/h4>&lt;p>The &lt;code>&amp;lt;fieldset&amp;gt;&lt;/code> element is used to group related data in a form.&lt;/p>
&lt;p>The &lt;code>&amp;lt;legend&amp;gt;&lt;/code> element defines a caption for the &lt;code>&amp;lt;fieldset&amp;gt;&lt;/code> element.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">action&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/action_page.php&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">fieldset&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">legend&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Personalia:&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">legend&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;fname&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>First name:&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;fname&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;fname&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;John&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;lname&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Last name:&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;lname&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;lname&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Doe&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Submit&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">fieldset&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="datalist">datalist
&lt;/h4>&lt;p>The &lt;code>&amp;lt;datalist&amp;gt;&lt;/code> element specifies a list of pre-defined options for an &lt;code>&amp;lt;input&amp;gt;&lt;/code> element.&lt;/p>
&lt;p>Users will see a drop-down list of the pre-defined options as they input data.&lt;/p>
&lt;p>The &lt;code>list&lt;/code> attribute of the &lt;code>&amp;lt;input&amp;gt;&lt;/code> element, must refer to the &lt;code>id&lt;/code> attribute of the &lt;code>&amp;lt;datalist&amp;gt;&lt;/code> element.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">action&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/action_page.php&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">list&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;browsers&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">datalist&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;browsers&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Internet Explorer&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Firefox&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Chrome&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Opera&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Safari&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">datalist&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="graphics">Graphics
&lt;/h2>&lt;h3 id="canvas">Canvas
&lt;/h3>&lt;p>The HTML &lt;code>&amp;lt;canvas&amp;gt;&lt;/code> element is used to draw graphics, on the fly, via JavaScript.&lt;/p>
&lt;p>The &lt;code>&amp;lt;canvas&amp;gt;&lt;/code> element is only a container for graphics. You must use JavaScript to actually draw the graphics.&lt;/p>
&lt;p>Canvas has several methods for drawing paths, boxes, circles, text, and adding images.&lt;/p>
&lt;p>&lt;strong>Note:&lt;/strong> Always specify an &lt;code>id&lt;/code> attribute (to be referred to in a script), and a &lt;code>width&lt;/code> and &lt;code>height&lt;/code> attribute to define the size of the canvas. To add a border, use the &lt;code>style&lt;/code> attribute.&lt;/p>
&lt;h3 id="svg">SVG
&lt;/h3>&lt;ul>
&lt;li>SVG stands for Scalable Vector Graphics&lt;/li>
&lt;li>SVG is used to define graphics for the Web&lt;/li>
&lt;li>SVG is a W3C recommendation&lt;/li>
&lt;/ul>
&lt;p>SVG is a language for describing 2D graphics in XML.&lt;/p>
&lt;p>Canvas draws 2D graphics, on the fly (with a JavaScript).&lt;/p>
&lt;p>SVG is XML based, which means that every element is available within the SVG DOM. You can attach JavaScript event handlers for an element.&lt;/p>
&lt;p>In SVG, each drawn shape is remembered as an object. If attributes of an SVG object are changed, the browser can automatically re-render the shape.&lt;/p>
&lt;p>Canvas is rendered pixel by pixel. In canvas, once the graphic is drawn, it is forgotten by the browser. If its position should be changed, the entire scene needs to be redrawn, including any objects that might have been covered by the graphic.&lt;/p></description></item><item><title>【Python】Matplotlib</title><link>https://dyhes.github.io/p/pythonmatplotlib/</link><pubDate>Thu, 14 Jan 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/pythonmatplotlib/</guid><description>&lt;p>Matplotlib is a low level graph plotting library in python that serves as a visualization utility.&lt;/p>
&lt;p>Matplotlib was created by John D. Hunter.&lt;/p>
&lt;p>Most of the Matplotlib utilities lies under the &lt;code>pyplot&lt;/code> submodule, and are usually imported under the &lt;code>plt&lt;/code> alias.&lt;/p>
&lt;h2 id="plotting">Plotting
&lt;/h2>&lt;p>The &lt;code>plot()&lt;/code> function is used to draw points (markers) in a diagram.&lt;/p>
&lt;p>To plot only the markers, you can use &lt;em>shortcut string notation&lt;/em> parameter &amp;lsquo;o&amp;rsquo;, which means &amp;lsquo;rings&amp;rsquo;.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">xpoints&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ypoints&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xpoints&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ypoints&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;o&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If we do not specify the points in the x-axis, they will get the default values 0, 1, 2, 3,&lt;/p>
&lt;h3 id="maker">Maker
&lt;/h3>&lt;p>You can use the keyword argument &lt;code>marker&lt;/code> to emphasize each point with a specified marker&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ypoints&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;o:r&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## marker|line|color&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Marker&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;o&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Circle&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_o" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;*&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Star&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_star" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;.&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Point&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_point" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;,&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Pixel&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_pixel" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;x&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">X&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_x" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;X&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">X (filled)&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_x_filled" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;+&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Plus&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_plus" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;P&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Plus (filled)&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_plus_filled" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;rsquo;s&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Square&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_s" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;D&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Diamond&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_D" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;rsquo;d'&lt;/td>
&lt;td style="text-align: left">Diamond (thin)&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_thin_d" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;p&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Pentagon&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_p" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;H&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Hexagon&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_H" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;h&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Hexagon&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_hexagon" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;v&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Triangle Down&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_v" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;^&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Triangle Up&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_triangle_up" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;&amp;lt;&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Triangle Left&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_triangle_left" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;&amp;gt;&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Triangle Right&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_triangle_right" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;1&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Tri Down&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_1" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;2&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Tri Up&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;3&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Tri Left&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_3" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;4&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Tri Right&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_4" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;|&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Vline&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_marker_vline" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;_&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Hline&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Line Syntax&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;-&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Solid line&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_line_solid" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;:&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Dotted line&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_line_dot" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;&amp;ndash;&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Dashed line&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_line_dash" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;-.&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Dashed/dotted line&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Color Syntax&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;r&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Red&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_r" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;g&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Green&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_g" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;b&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Blue&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_b" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;c&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Cyan&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_c" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;rsquo;m'&lt;/td>
&lt;td style="text-align: left">Magenta&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_m" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;y&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Yellow&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_y" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;k&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">Black&lt;/td>
&lt;td>&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_matplotlib_fmt_k" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lsquo;w&amp;rsquo;&lt;/td>
&lt;td style="text-align: left">White&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>You can use the keyword argument &lt;code>markersize&lt;/code> or the shorter version, &lt;code>ms&lt;/code> to set the size of the markers.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ypoints&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">marker&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;o&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ms&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【Python】Numpy</title><link>https://dyhes.github.io/p/pythonnumpy/</link><pubDate>Wed, 13 Jan 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/pythonnumpy/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>NumPy short for &amp;ldquo;Numerical Python&amp;rdquo; is a Python library, which is used for working with arrays.&lt;/p>
&lt;p>In Python we have lists that serve the purpose of arrays, but they are slow to process.&lt;/p>
&lt;p>NumPy aims to provide an array object that is &lt;strong>up to 50x faster&lt;/strong> than traditional Python lists. ( NumPy arrays are stored at one continuous place in memory unlike lists, so processes can access and manipulate them very efficiently. )&lt;/p>
&lt;p>The array object in NumPy is called &lt;code>ndarray&lt;/code>, it provides a lot of supporting functions that make working with &lt;code>ndarray&lt;/code> very easy.&lt;/p>
&lt;h2 id="creacte-ndarray-object">Creacte &lt;code>ndarray&lt;/code> Object
&lt;/h2>&lt;p>To create an &lt;code>ndarray&lt;/code>, we can pass a list, tuple or any array-like object into the &lt;code>array()&lt;/code> method, and it will be converted into an &lt;code>ndarray&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A dimension in arrays is one level of array depth (nested arrays).&lt;/p>
&lt;blockquote>
&lt;p>NumPy has a whole sub module dedicated towards matrix operations called &lt;code>numpy.mat&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;p>NumPy Arrays provides the &lt;code>ndim&lt;/code> attribute whicht is an integer that tells us how many dimensions the array have.&lt;/p>
&lt;h2 id="access">Access
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">d1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">d2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">d3&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="slicing">Slicing
&lt;/h2>&lt;ul>
&lt;li>&lt;code>[start:end]&lt;/code>.&lt;/li>
&lt;li>&lt;code>[start:end:step]&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>If we don&amp;rsquo;t pass start its considered 0&lt;/p>
&lt;p>If we don&amp;rsquo;t pass end its considered length of array in that dimension&lt;/p>
&lt;p>If we don&amp;rsquo;t pass step its considered 1&lt;/p>
&lt;blockquote>
&lt;p>The result &lt;em>includes&lt;/em> the start index, but &lt;em>excludes&lt;/em> the end index.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#slicing 2-D Arrays&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="data-types">Data Types
&lt;/h2>&lt;p>NumPy has some extra data types, and refer to data types with one character, like &lt;code>i&lt;/code> for integers, &lt;code>u&lt;/code> for unsigned integers etc.&lt;/p>
&lt;p>Below is a list of all data types in NumPy and the characters used to represent them.&lt;/p>
&lt;ul>
&lt;li>&lt;code>i&lt;/code> - integer&lt;/li>
&lt;li>&lt;code>b&lt;/code> - boolean&lt;/li>
&lt;li>&lt;code>u&lt;/code> - unsigned integer&lt;/li>
&lt;li>&lt;code>f&lt;/code> - float&lt;/li>
&lt;li>&lt;code>c&lt;/code> - complex float&lt;/li>
&lt;li>&lt;code>m&lt;/code> - timedelta&lt;/li>
&lt;li>&lt;code>M&lt;/code> - datetime&lt;/li>
&lt;li>&lt;code>O&lt;/code> - object&lt;/li>
&lt;li>&lt;code>S&lt;/code> - string&lt;/li>
&lt;li>&lt;code>U&lt;/code> - unicode string&lt;/li>
&lt;li>&lt;code>V&lt;/code> - fixed chunk of memory for other type ( void )&lt;/li>
&lt;/ul>
&lt;p>The NumPy array object has a property called &lt;code>dtype&lt;/code> that returns the data type of the array.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dtype&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## int64&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;S&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If a type is given in which elements can&amp;rsquo;t be casted then NumPy will raise a ValueError.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;3&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;i&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## ValueError&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="converting-data-type">Converting Data Type
&lt;/h3>&lt;p>The best way to change the data type of an existing array, is to make a copy of the array with the &lt;code>astype()&lt;/code> method.&lt;/p>
&lt;p>The &lt;code>astype()&lt;/code> function creates a copy of the array, and allows you to specify the data type as a parameter.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-py" data-lang="py">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">newarr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">astype&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;i&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="copy-and-view">Copy and View
&lt;/h2>&lt;p>The main difference between a copy and a view of an array is that the copy is a &lt;strong>new array&lt;/strong>, and the view is &lt;strong>just a view of the original array&lt;/strong>.&lt;/p>
&lt;p>The copy &lt;em>owns&lt;/em> the data and any changes made to the copy will not affect original array, and any changes made to the original array will not affect the copy.&lt;/p>
&lt;p>The view &lt;em>does not own&lt;/em> the data and any changes made to the view will affect the original array, and any changes made to the original array will affect the view.&lt;/p>
&lt;p>Every NumPy array has the attribute &lt;code>base&lt;/code> that returns &lt;code>None&lt;/code> if the array owns the data.&lt;/p>
&lt;p>Otherwise, the &lt;code>base&lt;/code> attribute refers to the original object.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">copy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">base&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## none&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">base&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## arr&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="shape">Shape
&lt;/h2>&lt;p>The shape of an array is the number of elements in each dimension.&lt;/p>
&lt;p>NumPy arrays have an attribute called &lt;code>shape&lt;/code> that returns a &lt;strong>tuple&lt;/strong> with each index having the number of corresponding elements.&lt;/p>
&lt;h3 id="reshape">Reshape
&lt;/h3>&lt;p>By reshaping we can add or remove dimensions or change number of elements in each dimension.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">newarr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">newarr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>We can reshape an 8 elements 1D array into 4 elements in 2 rows 2D array but we cannot reshape it into a 3 elements 3 rows 2D array as that would require 3x3 = 9 elements.&lt;/p>
&lt;/blockquote>
&lt;p>the returned array is a &lt;strong>view&lt;/strong>&lt;/p>
&lt;p>You are allowed to have one &amp;ldquo;unknown&amp;rdquo; dimension.&lt;/p>
&lt;p>Meaning that you do not have to specify an exact number for one of the dimensions in the reshape method.&lt;/p>
&lt;p>Pass &lt;code>-1&lt;/code> as the value, and NumPy will calculate this number for you.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">newarr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> We can not pass &lt;code>-1&lt;/code> to more than one dimension.&lt;/p>
&lt;/blockquote>
&lt;h4 id="flattening">Flattening
&lt;/h4>&lt;p>Flattening array means converting a multidimensional array into a 1D array.&lt;/p>
&lt;p>We can use &lt;code>reshape(-1)&lt;/code> to do this.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> There are a lot of functions for changing the shapes of arrays in numpy &lt;code>flatten&lt;/code>, &lt;code>ravel&lt;/code> and also for rearranging the elements &lt;code>rot90&lt;/code>, &lt;code>flip&lt;/code>, &lt;code>fliplr&lt;/code>, &lt;code>flipud&lt;/code> etc.&lt;/p>
&lt;/blockquote>
&lt;h2 id="iterating">Iterating
&lt;/h2>&lt;p>The function &lt;code>nditer()&lt;/code> is a helping function that can be used from very basic to very advanced iterations. It solves some basic issues which we face in iteration.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nditer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="with-different-data-types">With Different Data Types
&lt;/h3>&lt;p>We can use &lt;code>op_dtypes&lt;/code> argument and pass it the expected datatype to change the datatype of elements while iterating.&lt;/p>
&lt;p>NumPy does not change the data type of the element in-place (where the element is in array) so it needs some other space to perform this action, that extra space is called buffer, and in order to enable it in &lt;code>nditer()&lt;/code> we pass &lt;code>flags=['buffered']&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nditer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">flags&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;buffered&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">op_dtypes&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;S&amp;#39;&lt;/span>&lt;span class="p">]):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="with-different-step-size">With Different Step Size
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nditer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="p">[:,&lt;/span> &lt;span class="p">::&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="join">Join
&lt;/h2>&lt;p>In SQL we join tables based on a key, whereas in NumPy we join arrays by axes.&lt;/p>
&lt;p>We pass a sequence of arrays that we want to join to the &lt;code>concatenate()&lt;/code> function, along with the axis. If axis is not explicitly passed, it is taken as 0.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">concatenate&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">arr1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">arr2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#along the row&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">concatenate&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">arr1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">arr2&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">axis&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#[[1 2 5 6]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## [3 4 7 8]]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="split">Split
&lt;/h2>&lt;p>Splitting is reverse operation of Joining.&lt;/p>
&lt;p>Joining merges multiple arrays into one and Splitting breaks one array into multiple.&lt;/p>
&lt;p>We use &lt;code>array_split()&lt;/code> for splitting arrays, we pass it the array we want to split and the number of splits.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">newarr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array_split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>The return value is an array containing three arrays.&lt;/p>
&lt;/blockquote>
&lt;p>If the array has less elements than required, it will adjust from the end accordingly.&lt;/p>
&lt;blockquote>
&lt;p>We also have the method &lt;code>split()&lt;/code> available but it will not adjust the elements when elements are less in source array for splitting like in example above, &lt;code>array_split()&lt;/code> worked properly but &lt;code>split()&lt;/code> would fail.&lt;/p>
&lt;/blockquote>
&lt;h2 id="search">Search
&lt;/h2>&lt;p>You can search an array for a certain value, and return the indexes that get a match.&lt;/p>
&lt;p>To search an array, use the &lt;code>where()&lt;/code> method.&lt;/p>
&lt;h2 id="filter">Filter
&lt;/h2>&lt;p>Getting some elements out of an existing array and creating a new array out of them is called &lt;em>filtering&lt;/em>.&lt;/p>
&lt;p>In NumPy, you filter an array using a &lt;em>boolean index list&lt;/em>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">41&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">42&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">43&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">44&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">newarr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>We can directly substitute the array instead of the iterable variable in our condition and it will work just as we expect it to.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">41&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">42&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">43&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">44&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">filter_arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">42&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">newarr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">filter_arr&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="random">Random
&lt;/h2>&lt;p>Random number &lt;strong>does NOT&lt;/strong> mean a different number every time. Random means something that &lt;strong>can not be predicted logically&lt;/strong>.&lt;/p>
&lt;h3 id="pseudo-random-and-true-random">Pseudo Random and True Random
&lt;/h3>&lt;p>Random numbers generated through a generation algorithm are called &lt;em>pseudo random&lt;/em>.&lt;/p>
&lt;p>In order to generate a truly random number on our computers we need to get the random data from some outside source. This outside source is generally our keystrokes, mouse movements, data on network etc.&lt;/p>
&lt;p>We do not need truly random numbers, unless its related to security (e.g. encryption keys) or the basis of application is the randomness (e.g. Digital roulette wheels).&lt;/p>
&lt;p>NumPy offers the &lt;code>random&lt;/code> module to work with random numbers.&lt;/p>
&lt;p>The random module&amp;rsquo;s &lt;code>rand()&lt;/code> method returns a random float between 0 and 1.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">random&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## Generate a random integer from 0 to 100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>randint()&lt;/code> method takes a &lt;code>size&lt;/code> parameter where you can specify the shape of an array.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>rand()&lt;/code> method also allows you to specify the shape of the array.&lt;/p>
&lt;p>The &lt;code>choice()&lt;/code> method allows you to generate a random value based on an array of values.&lt;/p>
&lt;p>The &lt;code>choice()&lt;/code> method takes an array as a parameter and randomly returns one of the values.&lt;/p>
&lt;h3 id="seaborn">Seaborn
&lt;/h3>&lt;p>Seaborn is a library that uses Matplotlib underneath to plot graphs. It will be used to visualize random distributions.&lt;/p>
&lt;h2 id="data-distribution">Data Distribution
&lt;/h2>&lt;p>Data Distribution is a list of all possible values, and how often each value occurs.&lt;/p>
&lt;p>Such lists are important when working with statistics and data science.&lt;/p>
&lt;p>The random module offer methods that returns randomly generated data distributions.&lt;/p>
&lt;p>We can generate random numbers based on defined probabilities using the &lt;code>choice()&lt;/code> method of the &lt;code>random&lt;/code> module.&lt;/p>
&lt;p>The &lt;code>choice()&lt;/code> method allows us to specify the probability for each value.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">choice&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mf">0.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="permutations">Permutations
&lt;/h3>&lt;p>A permutation refers to an arrangement of elements. e.g. [3, 2, 1] is a permutation of [1, 2, 3] and vice-versa.&lt;/p>
&lt;p>The NumPy Random module provides two methods for this: &lt;code>shuffle()&lt;/code> and &lt;code>permutation()&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>The &lt;code>shuffle()&lt;/code> method makes changes to the original array.&lt;/li>
&lt;li>The &lt;code>permutation()&lt;/code> method &lt;em>returns&lt;/em> a re-arranged array (and leaves the original array un-changed).&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shuffle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">newarr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">permutation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="numpy-ufuncs">Numpy ufuncs
&lt;/h2>&lt;p>ufuncs stands for &amp;ldquo;&lt;strong>Universal Functions&lt;/strong>&amp;rdquo; and they are NumPy functions that operates on the &lt;code>ndarray&lt;/code> object.&lt;/p>
&lt;p>ufuncs are used to implement &lt;em>&lt;strong>vectorization&lt;/strong>&lt;/em> (Converting iterative statements into a vector based operation ) in NumPy which is way faster than iterating over elements.&lt;/p>
&lt;p>ufuncs also take additional arguments, like:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>where&lt;/code> boolean array or condition defining where the operations should take place.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dtype&lt;/code> defining the return type of elements.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>out&lt;/code> output array where the return value should be copied.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="create">create
&lt;/h3>&lt;p>To create you own ufunc, you have to &lt;strong>define a normal function&lt;/strong>, like you do with normal functions in Python, then you &lt;strong>add it to your NumPy ufunc library&lt;/strong> with the &lt;code>frompyfunc()&lt;/code> method.&lt;/p>
&lt;p>The &lt;code>frompyfunc()&lt;/code> method takes the following arguments:&lt;/p>
&lt;ol>
&lt;li>&lt;code>function&lt;/code> - the name of the function.&lt;/li>
&lt;li>&lt;code>inputs&lt;/code> - the number of input arguments (arrays).&lt;/li>
&lt;li>&lt;code>outputs&lt;/code> - the number of output arrays.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">myadd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">myadd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">frompyfunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myadd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A ufunc should return &lt;code>&amp;lt;class 'numpy.ufunc'&amp;gt;&lt;/code>.&lt;/p>
&lt;p>If it is not a ufunc, it will return another type, like this built-in NumPy function for joining two or more arrays &lt;code>&amp;lt;class'builtin_function_or_method'&amp;gt;&lt;/code>&lt;/p>
&lt;p>To test if the function is a ufunc in an if statement, use the &lt;code>numpy.ufunc&lt;/code> value&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nb">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ufunc&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【Python】Pandas</title><link>https://dyhes.github.io/p/pythonpandas/</link><pubDate>Wed, 13 Jan 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/pythonpandas/</guid><description>&lt;h2 id="intro">Intro
&lt;/h2>&lt;p>Pandas is a Python library, which is used to analyze data.&lt;/p>
&lt;p>It has functions for analyzing, cleaning, exploring, and manipulating data.&lt;/p>
&lt;p>The name &amp;ldquo;Pandas&amp;rdquo; has a reference to both &amp;ldquo;&lt;strong>Panel Data&lt;/strong>&amp;rdquo;, and &amp;ldquo;&lt;strong>Python Data Analysis&lt;/strong>&amp;rdquo; and was created by Wes McKinney in 2008.&lt;/p>
&lt;p>Pandas allows us to analyze big data and make conclusions based on statistical theories.&lt;/p>
&lt;p>Pandas gives you answers about the data. Like:&lt;/p>
&lt;ul>
&lt;li>Is there a &lt;strong>correlation&lt;/strong> between two or more columns?&lt;/li>
&lt;li>What is &lt;strong>average&lt;/strong> value?&lt;/li>
&lt;li>&lt;strong>Max&lt;/strong> value?&lt;/li>
&lt;li>&lt;strong>Min&lt;/strong> value?&lt;/li>
&lt;/ul>
&lt;p>Pandas are also able to delete rows that are not relevant, or contains wrong values, like empty or NULL values. This is called &lt;em>&lt;strong>cleaning&lt;/strong>&lt;/em> the data.&lt;/p>
&lt;h2 id="series">Series
&lt;/h2>&lt;p>A Pandas Series is like a column in a table.&lt;/p>
&lt;p>It is a one-dimensional array holding data of any type.&lt;/p>
&lt;h3 id="labels">Labels
&lt;/h3>&lt;p>If nothing else is specified, the values are labeled with their index number. First value has index 0, second value has index 1 etc.&lt;/p>
&lt;p>This label can be used to access a specified value.&lt;/p>
&lt;p>With the &lt;code>index&lt;/code> argument, you can name your own labels.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">myvar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Series&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;y&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;z&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also use a key/value object, like a dictionary, when creating a Series.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">calories&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;day1&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">420&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;day2&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">380&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;day3&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">390&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">myvar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Series&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">calories&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">myvar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Series&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">calories&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;day1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;day2&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">## only using data from &amp;#39;day1&amp;#39; and &amp;#39;day2&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> The keys of the dictionary become the labels.&lt;/p>
&lt;/blockquote>
&lt;h2 id="dataframes">DataFrames
&lt;/h2>&lt;p>A Pandas DataFrame is a 2 dimensional data structure, like a 2 dimensional array, or a table with rows and columns.&lt;/p>
&lt;p>Series is like a column, a DataFrame is the whole table.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;calories&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">420&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">380&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">390&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;duration&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">45&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">myvar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Pandas use the &lt;code>loc&lt;/code> attribute to return one or more specified row(s)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#use a list of indexes:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> When using &lt;code>[]&lt;/code>, the result is a Pandas &lt;strong>DataFrame&lt;/strong>.&lt;/p>
&lt;/blockquote>
&lt;p>With the &lt;code>index&lt;/code> argument, you can name your own indexes.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;calories&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">420&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">380&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">390&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;duration&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">45&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;day1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;day2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;day3&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="read-csv">Read CSV
&lt;/h2>&lt;p>A simple way to store big data sets is to use CSV files (comma separated files).&lt;/p>
&lt;p>CSV files contains plain text and is a well know format that can be read by everyone including Pandas.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_csv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data.csv&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_string&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#use to_string() to print the entire DataFrame.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>If you have a large DataFrame with many rows, Pandas will only return the first 5 rows, and the last 5 rows:&lt;/p>
&lt;/blockquote>
&lt;h2 id="read-json">Read JSON
&lt;/h2>&lt;p>Big data sets are often stored, or extracted as JSON.&lt;/p>
&lt;p>JSON is plain text, but has the format of an object, and is well known in the world of programming, including Pandas.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_json&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data.json&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If your JSON code is not in a file, but in a Python Dictionary, you can load it into a DataFrame directly.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="viewing-data">Viewing Data
&lt;/h2>&lt;ul>
&lt;li>&lt;code>head()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>One of the most used method for getting a quick overview of the DataFrame, is the &lt;code>head()&lt;/code> method.&lt;/p>
&lt;p>The &lt;code>head()&lt;/code> method returns the headers and a specified number of rows, starting from the top.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">head&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> if the number of rows is not specified, the &lt;code>head()&lt;/code> method will return the top 5 rows.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>tail()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>There is also a &lt;code>tail()&lt;/code> method for viewing the &lt;em>last&lt;/em> rows of the DataFrame.&lt;/p>
&lt;p>The &lt;code>tail()&lt;/code> method returns the headers(names of columns) and a specified number of rows, starting from the bottom.&lt;/p>
&lt;ul>
&lt;li>&lt;code>info()&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>The DataFrames object has a method called &lt;code>info()&lt;/code>, that gives you more information about the data set.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">print&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">df&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">info&lt;/span>&lt;span class="o">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">/* &amp;lt;class &amp;#39;pandas.core.frame.DataFrame&amp;#39;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> RangeIndex: 169 entries, 0 to 168
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> Data columns (total 4 columns):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> ## Column Non-Null Count Dtype
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> --- ------ -------------- -----
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> 0 Duration 169 non-null int64
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> 1 Pulse 169 non-null int64
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> 2 Maxpulse 169 non-null int64
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> 3 Calories 164 non-null float64
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> dtypes: float64(1), int64(3)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> memory usage: 5.4 KB
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"> None */&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="cleaning-data">Cleaning Data
&lt;/h2>&lt;p>Data cleaning means fixing bad data in your data set.&lt;/p>
&lt;p>Bad data could be:&lt;/p>
&lt;ul>
&lt;li>Empty cells&lt;/li>
&lt;li>Data in wrong format&lt;/li>
&lt;li>Wrong data&lt;/li>
&lt;li>Duplicates&lt;/li>
&lt;/ul>
&lt;h3 id="empty-cell">Empty Cell
&lt;/h3>&lt;ol>
&lt;li>Remove Rows&lt;/li>
&lt;li>Replace Empty Values&lt;/li>
&lt;/ol>
&lt;p>Pandas uses the mean() median() and mode() methods to calculate the respective values for a specified column.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">new_df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dropna&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#If you want to change the original DataFrame, use the inplace = True argument&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dropna&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inplace&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#2 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Calories&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mean&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Calories&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">median&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Calories&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mode&lt;/span>&lt;span class="p">()[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Calories&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fillna&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">inplace&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> By default, the &lt;code>dropna()&lt;/code> method returns a &lt;em>new&lt;/em> DataFrame, and will not change the original.&lt;/p>
&lt;/blockquote>
&lt;h3 id="wrong-format">Wrong Format
&lt;/h3>&lt;ol>
&lt;li>Remove Rows&lt;/li>
&lt;li>Convert Format&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dropna&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">subset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Date&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">inplace&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dropna&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">subset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Date&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">inplace&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="wrong-data">Wrong Data
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Duration&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Duration&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">120&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Duration&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Duration&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">120&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="duplicates">Duplicates
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">drop_duplicates&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">inplace&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="data-correlations">Data Correlations
&lt;/h2>&lt;p>A great aspect of the Pandas module is the &lt;code>corr()&lt;/code> method.&lt;/p>
&lt;p>The &lt;code>corr()&lt;/code> method calculates the relationship between each column in your data set.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> The &lt;code>corr()&lt;/code> method ignores &amp;ldquo;not numeric&amp;rdquo; columns.&lt;/p>
&lt;/blockquote>
&lt;p>The Result of the &lt;code>corr()&lt;/code> method is a table with a lot of numbers that represents how well the relationship is between two columns.&lt;/p></description></item><item><title>【Python】语法</title><link>https://dyhes.github.io/p/python%E8%AF%AD%E6%B3%95/</link><pubDate>Tue, 12 Jan 2021 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/python%E8%AF%AD%E6%B3%95/</guid><description>&lt;h2 id="variables">Variables
&lt;/h2>&lt;p>Variables are containers for storing data values.&lt;/p>
&lt;p>A variable is created &lt;strong>the moment&lt;/strong> you first assign a value to it.&lt;/p>
&lt;p>If you want to specify the data type of a variable, this can be done with &lt;strong>casting&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">## x will be &amp;#39;3&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">## y will be 3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">z&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">## z will be 3.0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can get the data type of a variable with the &lt;code>type()&lt;/code> function.&lt;/p>
&lt;h3 id="variable-names">Variable Names
&lt;/h3>&lt;ul>
&lt;li>A variable name must start with a &lt;strong>letter&lt;/strong> or the &lt;strong>underscore character&lt;/strong>&lt;/li>
&lt;li>A variable name &lt;strong>cannot start with a number&lt;/strong>&lt;/li>
&lt;li>A variable name can only contain a&lt;strong>lpha-numeric characters and underscores&lt;/strong> (A-z, 0-9, and _ )&lt;/li>
&lt;li>Variable names are &lt;strong>case-sensitive&lt;/strong> (age, Age and AGE are three different variables)&lt;/li>
&lt;/ul>
&lt;p>more readable:&lt;/p>
&lt;ul>
&lt;li>Camel Case&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">myVariableName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Pascal Case&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">MyVariableName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Snake Case&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">my_variable_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="variable-scope">Variable Scope
&lt;/h3>&lt;p>Variables that are created outside of a function (as in all of the examples above) are known as global variables.&lt;/p>
&lt;p>If you create a variable with the same name inside a function, this variable will be local, and can only be used inside the function. The global variable with the same name will remain as it was, global and with the original value.&lt;/p>
&lt;p>To create a global variable inside a function, &lt;strong>you can use the &lt;code>global&lt;/code> keyword&lt;/strong>.&lt;/p>
&lt;p>Also, use the &lt;code>global&lt;/code> keyword if you want to &lt;strong>change a global variable inside a function&lt;/strong>.&lt;/p>
&lt;h2 id="data-type">Data Type
&lt;/h2>&lt;p>Python has the following data types built-in by default, in these categories:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Text Type:&lt;/th>
&lt;th>&lt;code>str&lt;/code>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Numeric Types:&lt;/td>
&lt;td>&lt;code>int&lt;/code>, &lt;code>float&lt;/code>, &lt;code>complex&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Sequence Types:&lt;/td>
&lt;td>&lt;code>list&lt;/code>, &lt;code>tuple&lt;/code>, &lt;code>range&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Mapping Type:&lt;/td>
&lt;td>&lt;code>dict&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Set Types:&lt;/td>
&lt;td>&lt;code>set&lt;/code>, &lt;code>frozenset&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Boolean Type:&lt;/td>
&lt;td>&lt;code>bool&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Binary Types:&lt;/td>
&lt;td>&lt;code>bytes&lt;/code>, &lt;code>bytearray&lt;/code>, &lt;code>memoryview&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="casting">Casting
&lt;/h3>&lt;p>There may be times when you want to specify a type on to a variable. This can be done with casting. Python is an object-orientated language, and as such it uses classes to define data types, including its primitive types.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Example&lt;/th>
&lt;th style="text-align: left">Data Type&lt;/th>
&lt;th style="text-align: left">Try it&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">x = str(&amp;ldquo;Hello World&amp;rdquo;)&lt;/td>
&lt;td style="text-align: left">str&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_str2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = int(20)&lt;/td>
&lt;td style="text-align: left">int&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_int2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = float(20.5)&lt;/td>
&lt;td style="text-align: left">float&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_float2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = complex(1j)&lt;/td>
&lt;td style="text-align: left">complex&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_complex2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = list((&amp;ldquo;apple&amp;rdquo;, &amp;ldquo;banana&amp;rdquo;, &amp;ldquo;cherry&amp;rdquo;))&lt;/td>
&lt;td style="text-align: left">list&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_list2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = tuple((&amp;ldquo;apple&amp;rdquo;, &amp;ldquo;banana&amp;rdquo;, &amp;ldquo;cherry&amp;rdquo;))&lt;/td>
&lt;td style="text-align: left">tuple&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_tuple2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = range(6)&lt;/td>
&lt;td style="text-align: left">range&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_range2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = dict(name=&amp;ldquo;John&amp;rdquo;, age=36)&lt;/td>
&lt;td style="text-align: left">dict&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_dict2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = set((&amp;ldquo;apple&amp;rdquo;, &amp;ldquo;banana&amp;rdquo;, &amp;ldquo;cherry&amp;rdquo;))&lt;/td>
&lt;td style="text-align: left">set&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_set2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = frozenset((&amp;ldquo;apple&amp;rdquo;, &amp;ldquo;banana&amp;rdquo;, &amp;ldquo;cherry&amp;rdquo;))&lt;/td>
&lt;td style="text-align: left">frozenset&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_frozenset2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = bool(5)&lt;/td>
&lt;td style="text-align: left">bool&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_bool2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = bytes(5)&lt;/td>
&lt;td style="text-align: left">bytes&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_bytes2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = bytearray(5)&lt;/td>
&lt;td style="text-align: left">bytearray&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_bytearray2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x = memoryview(bytes(5))&lt;/td>
&lt;td style="text-align: left">memoryview&lt;/td>
&lt;td style="text-align: left">&lt;a class="link" href="https://www.w3schools.com/python/trypython.asp?filename=demo_type_memoryview2" target="_blank" rel="noopener"
>Try it »&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="booleans">Booleans
&lt;/h3>&lt;p>Almost any value is evaluated to &lt;code>True&lt;/code> if it has some sort of content.&lt;/p>
&lt;p>Any string is &lt;code>True&lt;/code>, except empty strings.&lt;/p>
&lt;p>Any number is &lt;code>True&lt;/code>, except &lt;code>0&lt;/code>.&lt;/p>
&lt;p>Any list, tuple, set, and dictionary are &lt;code>True&lt;/code>, except empty ones.&lt;/p>
&lt;h3 id="collections">Collections
&lt;/h3>&lt;p>There are four collection data types in the Python programming language:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>List&lt;/strong> is a collection which is ordered and changeable. Allows duplicate members.&lt;/li>
&lt;li>&lt;strong>&lt;a class="link" href="https://www.w3schools.com/python/python_tuples.asp" target="_blank" rel="noopener"
>Tuple&lt;/a>&lt;/strong> is a collection which is ordered and unchangeable. Allows duplicate members.&lt;/li>
&lt;li>&lt;strong>&lt;a class="link" href="https://www.w3schools.com/python/python_sets.asp" target="_blank" rel="noopener"
>Set&lt;/a>&lt;/strong> is a collection which is unordered, unchangeable, and unindexed. No duplicate members.&lt;/li>
&lt;li>&lt;strong>&lt;a class="link" href="https://www.w3schools.com/python/python_dictionaries.asp" target="_blank" rel="noopener"
>Dictionary&lt;/a>&lt;/strong> is a collection which is ordered and changeable. No duplicate members.&lt;/li>
&lt;/ul>
&lt;h3 id="list">List
&lt;/h3>&lt;p>Lists are used to store multiple items in a single variable.&lt;/p>
&lt;p>Lists are one of 4 built-in data types in Python used to store collections of data, the other 3 are &lt;a class="link" href="https://www.w3schools.com/python/python_tuples.asp" target="_blank" rel="noopener"
>Tuple&lt;/a>, &lt;a class="link" href="https://www.w3schools.com/python/python_sets.asp" target="_blank" rel="noopener"
>Set&lt;/a>, and &lt;a class="link" href="https://www.w3schools.com/python/python_dictionaries.asp" target="_blank" rel="noopener"
>Dictionary&lt;/a>, all with different qualities and usage.&lt;/p>
&lt;p>A list can contain different data types&lt;/p>
&lt;ul>
&lt;li>
&lt;p>add&lt;/p>
&lt;ul>
&lt;li>To add an item to the end of the list, use the append() method&lt;/li>
&lt;li>To insert a list item at a specified index, use the &lt;code>insert()&lt;/code> method.&lt;/li>
&lt;li>To append elements from &lt;em>another list&lt;/em> ( or any iterable object ) to the current list, use the &lt;code>extend()&lt;/code> method.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>remove&lt;/p>
&lt;ul>
&lt;li>The &lt;code>remove()&lt;/code> method removes the specified &lt;strong>item&lt;/strong>.&lt;/li>
&lt;li>The &lt;code>pop()&lt;/code> method removes the specified index. If you do not specify the index, the &lt;code>pop()&lt;/code> method removes the last item.&lt;/li>
&lt;li>The &lt;code>del&lt;/code> keyword also removes the specified index and can also delete the list completely.&lt;/li>
&lt;li>The &lt;code>clear()&lt;/code> method empties the list. The list still remains, but it has no content.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">thislist&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">thislist&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">del&lt;/span> &lt;span class="n">thislist&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">del&lt;/span> &lt;span class="n">thislist&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">thislist&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clear&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="list-comprehension">List Comprehension
&lt;/h4>&lt;p>List comprehension offers a shorter syntax when you want to &lt;strong>create&lt;/strong> a new list &lt;strong>based on&lt;/strong> the values of an &lt;strong>existing list&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">newlist&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">expression&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">item&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">iterable&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">condition&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="tuple">Tuple
&lt;/h3>&lt;p>A tuple is a collection which is ordered and &lt;strong>unchangeable&lt;/strong>.&lt;/p>
&lt;p>Since tuples are indexed, they can have items with the same value&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-pyhton" data-lang="pyhton">thistuple = (&amp;#34;apple&amp;#34;,)
&amp;lt;class &amp;#39;tuple&amp;#39;&amp;gt;
#NOT a tuple
thistuple = (&amp;#34;apple&amp;#34;)
&amp;lt;class &amp;#39;str&amp;#39;&amp;gt;
&lt;/code>&lt;/pre>&lt;p>You can convert the tuple into a list, change the list, and convert the list back into a tuple.&lt;/p>
&lt;h4 id="unpack">Unpack
&lt;/h4>&lt;p>we are allowed to extract the values back into variables. This is called &amp;ldquo;unpacking&amp;rdquo;:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">fruits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;cherry&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">green&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yellow&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">red&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fruits&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="asterisk">Asterisk&lt;code>*&lt;/code>
&lt;/h5>&lt;p>If the number of variables is less than the number of values, you can add an &lt;code>*&lt;/code> to the variable name and the values will be assigned to the variable as a list:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">fruits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;cherry&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;strawberry&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;raspberry&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">green&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yellow&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">red&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fruits&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">green&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">tropic&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">red&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fruits&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If the asterisk is added to another variable name than the last, Python will assign values to the variable until the number of values left matches the number of variables left.&lt;/p>
&lt;h3 id="set">Set
&lt;/h3>&lt;p>A set is a collection which is &lt;em>unordered&lt;/em>, &lt;em>unchangeable&lt;/em>*, and &lt;em>unindexed&lt;/em>.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> Set &lt;em>items&lt;/em> are unchangeable, but you can remove items and add new items.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>add&lt;/p>
&lt;ul>
&lt;li>
&lt;p>To add one item to a set use the &lt;code>add()&lt;/code> method.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>To add items from another set into the current set, use the &lt;code>update()&lt;/code> method.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>remove&lt;/p>
&lt;ul>
&lt;li>&lt;code>remove()&lt;/code>: if the item to remove does not exist, &lt;code>remove()&lt;/code> will raise an error.&lt;/li>
&lt;li>&lt;code>discard()&lt;/code> : if the item to remove does not exist, &lt;code>discard()&lt;/code> will &lt;strong>NOT&lt;/strong> raise an error.&lt;/li>
&lt;li>&lt;code>pop()&lt;/code> :remove and return the &lt;em>last&lt;/em> item, you will not know what item that gets removed.&lt;/li>
&lt;li>&lt;code>clear()&lt;/code> : you will not know what item that gets removed.&lt;/li>
&lt;li>&lt;code>del&lt;/code> :delete the set completely&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>join&lt;/p>
&lt;ul>
&lt;li>&lt;code>union()&lt;/code> : returns a new set containing all items from both sets&lt;/li>
&lt;li>&lt;code>update()&lt;/code> : inserts all the items from one set into another.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="set-operation">Set Operation
&lt;/h4>&lt;p>The &lt;code>intersection_update()&lt;/code> method will keep only the items that are present in both sets.&lt;/p>
&lt;p>The &lt;code>intersection()&lt;/code> method will return a &lt;em>new&lt;/em> set, that only contains the items that are present in both sets.&lt;/p>
&lt;p>The &lt;code>symmetric_difference_update()&lt;/code> method will keep only the elements that are NOT present in both sets.&lt;/p>
&lt;p>The &lt;code>symmetric_difference()&lt;/code> method will return a new set, that contains only the elements that are NOT present in both sets.&lt;/p>
&lt;h3 id="dictionary">Dictionary
&lt;/h3>&lt;p>A dictionary is a collection which is ordered*, changeable and do not allow duplicates.&lt;/p>
&lt;blockquote>
&lt;p>As of Python version 3.7, dictionaries are &lt;em>ordered&lt;/em>. In Python 3.6 and earlier, dictionaries are &lt;em>unordered&lt;/em>.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>Access
&lt;ul>
&lt;li>referring to its key name inside square brackets&lt;/li>
&lt;li>&lt;code>get()&lt;/code>&lt;/li>
&lt;li>&lt;code>keys()&lt;/code>: return a list of all the &lt;strong>keys&lt;/strong> in the dictionary.&lt;/li>
&lt;li>&lt;code>values()&lt;/code> : return a list of all the &lt;strong>values&lt;/strong> in the dictionary.&lt;/li>
&lt;li>&lt;code>items()&lt;/code> : return each item in a dictionary, as &lt;strong>tuples&lt;/strong> in a list.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">thisdict&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;model&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">thisdict&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;model&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Change / Add
&lt;ul>
&lt;li>referring to its key name&lt;/li>
&lt;li>&lt;code>update()&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Remove
&lt;ul>
&lt;li>&lt;code>pop()&lt;/code> : removes the item with the specified key name&lt;/li>
&lt;li>&lt;code>popitem()&lt;/code>: removes the last inserted item (in versions before 3.7, a random item is removed instead)&lt;/li>
&lt;li>&lt;code>del&lt;/code> : removes the item with the specified key name or the entire dictionary&lt;/li>
&lt;li>&lt;code>clear() &lt;/code> :empties the dictionary&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">thisdict&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;model&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">thisdict&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">popitem&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">del&lt;/span> &lt;span class="n">thisdict&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;model&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">del&lt;/span> &lt;span class="n">thisdict&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">thisdict&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clear&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>copy: &lt;code>copy()&lt;/code> or &lt;code>dict()&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="looping">Looping
&lt;/h4>&lt;ul>
&lt;li>for in&lt;/li>
&lt;li>&lt;code>keys()&lt;/code>&lt;/li>
&lt;li>&lt;code>values()&lt;/code>&lt;/li>
&lt;li>&lt;code>items()&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="arrays">Arrays
&lt;/h3>&lt;p>Python does not have built-in support for Arrays, but &lt;a class="link" href="https://www.w3schools.com/python/python_lists.asp" target="_blank" rel="noopener"
>Python Lists&lt;/a> can be used instead.&lt;/p>
&lt;p>To work with arrays in Python you can import a library, like the &lt;a class="link" href="https://www.w3schools.com/python/numpy/default.asp" target="_blank" rel="noopener"
>NumPy library&lt;/a>.&lt;/p>
&lt;h2 id="function">Function
&lt;/h2>&lt;p>A function is a block of code which only runs when it is called.&lt;/p>
&lt;p>In Python a function is defined using the &lt;code>def&lt;/code> keyword&lt;/p>
&lt;h3 id="lambda">Lambda
&lt;/h3>&lt;p>A lambda function is a small anonymous function.&lt;/p>
&lt;p>A lambda function can take any number of arguments, but can only have one expression.&lt;/p>
&lt;blockquote>
&lt;p>lambda &lt;em>arguments&lt;/em> : &lt;em>expression&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;p>The power of lambda is better shown when you use them as an anonymous function &lt;strong>inside another function&lt;/strong>.&lt;/p>
&lt;h2 id="classes">Classes
&lt;/h2>&lt;p>Python is an object oriented programming language.&lt;/p>
&lt;p>Almost everything in Python is an object, with its properties and methods.&lt;/p>
&lt;p>A Class is like an object constructor, or a &amp;ldquo;blueprint&amp;rdquo; for creating objects.&lt;/p>
&lt;p>To create a class, use the keyword &lt;code>class&lt;/code>&lt;/p>
&lt;h3 id="___init___-function">&lt;em>&lt;strong>init&lt;/strong>()&lt;/em> Function
&lt;/h3>&lt;p>All classes have a function called &lt;strong>init&lt;/strong>(), which is always executed when the class is being initiated. Use the &lt;strong>init&lt;/strong>() function to assign values to object properties, or other operations that are necessary to do when the object is being created&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Person&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">age&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">age&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">age&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">36&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Note:&lt;/p>
&lt;p>The &lt;code>self&lt;/code> parameter is a reference to the current instance of the class, and is used to access variables that belong to the class.&lt;/p>
&lt;p>It does not have to be named &lt;code>self&lt;/code> , you can call it whatever you like, but it has to be the first parameter of any function in the class&lt;/p>
&lt;/blockquote>
&lt;h3 id="del">&lt;code>del&lt;/code>
&lt;/h3>&lt;p>You can delete properties on objects or objects by using the &lt;code>del&lt;/code> keyword&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">del&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">age&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">del&lt;/span> &lt;span class="n">p1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="inheritance">Inheritance
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">childClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">parentClass&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">parentClass&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>where &lt;code>super()&lt;/code> represent parentClass&lt;/p>
&lt;h2 id="iterators">Iterators
&lt;/h2>&lt;p>An iterator is an object that contains a countable number of values.&lt;/p>
&lt;p>An iterator is an object that can be iterated upon, meaning that you can traverse through all the values.&lt;/p>
&lt;p>Technically, in Python, an iterator is an object which implements the &lt;strong>iterator protocol&lt;/strong>, which consist of the methods &lt;code>__iter__()&lt;/code> and &lt;code>__next__()&lt;/code>.&lt;/p>
&lt;h3 id="iterator-vs-iterable">Iterator vs Iterable
&lt;/h3>&lt;p>Lists, tuples, dictionaries, and sets are all iterable objects. They are iterable &lt;em>containers&lt;/em> which you can get an iterator from.&lt;/p>
&lt;p>All these objects have a &lt;code>iter()&lt;/code> method which is used to get an iterator&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">mytuple&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;cherry&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">myit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">iter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mytuple&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">next&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myit&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">next&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myit&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">next&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myit&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;code>for&lt;/code> loop actually creates an iterator object and executes the next() method for each loop.&lt;/p>
&lt;p>To create an object/class as an iterator you have to implement the methods &lt;code>__iter__()&lt;/code> and &lt;code>__next__()&lt;/code> to your object.&lt;/p>
&lt;p>To prevent the iteration to go on forever, we can use the &lt;code>StopIteration&lt;/code> statement.&lt;/p>
&lt;p>In the &lt;code>__next__()&lt;/code> method, we can add a terminating condition to raise an error if the iteration is done a specified number of times&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">MyNumbers&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__iter__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__next__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="ne">StopIteration&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="exception">Exception
&lt;/h2>&lt;p>The &lt;code>try&lt;/code> block lets you test a block of code for errors.&lt;/p>
&lt;p>The &lt;code>except&lt;/code> block lets you handle the error.&lt;/p>
&lt;p>The &lt;code>else&lt;/code> block lets you execute code when there is no error.&lt;/p>
&lt;p>The &lt;code>finally&lt;/code> block lets you execute code, regardless of the result of the try- and except blocks.&lt;/p>
&lt;p>To throw (or raise) an exception, use the &lt;code>raise&lt;/code> keyword.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="n">SomeException&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">except&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">finally&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="user-input">User Input
&lt;/h2>&lt;p>Python allows for user input.&lt;/p>
&lt;p>That means we are able to ask the user for input.&lt;/p>
&lt;p>The method is a bit different in Python 3.6 than Python 2.7.&lt;/p>
&lt;p>Python 3.6 uses the &lt;code>input()&lt;/code> method.&lt;/p>
&lt;p>Python 2.7 uses the &lt;code>raw_input()&lt;/code> method.&lt;/p>
&lt;h2 id="string-formatting-by-format">String Formatting by &lt;code>format()&lt;/code>
&lt;/h2>&lt;p>The &lt;code>format()&lt;/code> method allows you to format selected parts of a string.&lt;/p>
&lt;p>To control such values, add placeholders (curly brackets &lt;code>{}&lt;/code>) in the text, and run the values through the &lt;code>format()&lt;/code> method&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;The price is &lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2"> dollars&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">price&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="index-numbers">Index Numbers
&lt;/h3>&lt;p>You can use index numbers (a number inside the curly brackets &lt;code>{0}&lt;/code>) to be sure the values are placed in the correct placeholders&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;I want &lt;/span>&lt;span class="si">{0}&lt;/span>&lt;span class="s2"> pieces of item number &lt;/span>&lt;span class="si">{1}&lt;/span>&lt;span class="s2"> for &lt;/span>&lt;span class="si">{2:.2f}&lt;/span>&lt;span class="s2"> dollars.&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">quantity&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">itemno&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">price&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>if you want to refer to the same value more than once, use the index number.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;His name is &lt;/span>&lt;span class="si">{1}&lt;/span>&lt;span class="s2">. &lt;/span>&lt;span class="si">{1}&lt;/span>&lt;span class="s2"> is &lt;/span>&lt;span class="si">{0}&lt;/span>&lt;span class="s2"> years old.&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">age&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="named-indexes">Named Indexes
&lt;/h3>&lt;p>You can also use named indexes by entering a name inside the curly brackets &lt;code>{carname}&lt;/code>, but then you must use names when you pass the parameter values &lt;code>txt.format(carname = &amp;quot;Ford&amp;quot;)&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;I have a &lt;/span>&lt;span class="si">{carname}&lt;/span>&lt;span class="s2">, it is a &lt;/span>&lt;span class="si">{model}&lt;/span>&lt;span class="s2">.&amp;#34;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">carname&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Ford&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Mustang&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="file">File
&lt;/h2>&lt;h3 id="open">Open
&lt;/h3>&lt;p>The key function for working with files in Python is the &lt;code>open()&lt;/code> function.&lt;/p>
&lt;p>The &lt;code>open()&lt;/code> function takes two parameters; &lt;em>filename&lt;/em>, and &lt;em>mode&lt;/em>.&lt;/p>
&lt;p>There are four different methods (modes) for opening a file:&lt;/p>
&lt;p>&lt;code>&amp;quot;r&amp;quot;&lt;/code> - Read - Default value. Opens a file for reading, error if the file does not exist&lt;/p>
&lt;p>&lt;code>&amp;quot;a&amp;quot;&lt;/code> - Append - Opens a file for appending, creates the file if it does not exist&lt;/p>
&lt;p>&lt;code>&amp;quot;w&amp;quot;&lt;/code> - Write - Opens a file for writing, creates the file if it does not exist&lt;/p>
&lt;p>&lt;code>&amp;quot;x&amp;quot;&lt;/code> - Create - Creates the specified file, returns an error if the file exists&lt;/p>
&lt;p>In addition you can specify if the file should be handled as binary or text mode&lt;/p>
&lt;p>&lt;code>&amp;quot;t&amp;quot;&lt;/code> - Text - Default value. Text mode&lt;/p>
&lt;p>&lt;code>&amp;quot;b&amp;quot;&lt;/code> - Binary - Binary mode (e.g. images)&lt;/p>
&lt;h3 id="read">Read
&lt;/h3>&lt;p>The &lt;code>open()&lt;/code> function returns a file object, which has a &lt;code>read()&lt;/code> method for reading the content of the file.&lt;/p>
&lt;p>By default the &lt;code>read()&lt;/code> method returns the whole text, but you can also specify how many characters you want to return.&lt;/p>
&lt;p>You can return one line by using the &lt;code>readline()&lt;/code> method.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;demofile.txt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;r&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">readline&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It is a good practice to always close the file when you are done with it.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="writecreate">Write/Create
&lt;/h3>&lt;p>To write to an existing file, you must add a parameter to the &lt;code>open()&lt;/code> function:&lt;/p>
&lt;p>&lt;code>&amp;quot;a&amp;quot;&lt;/code> - Append - will append to the end of the file&lt;/p>
&lt;p>&lt;code>&amp;quot;w&amp;quot;&lt;/code> - Write - will overwrite any existing content&lt;/p>
&lt;p>To create a new file in Python, use the &lt;code>open()&lt;/code> method, with one of the following parameters:&lt;/p>
&lt;p>&lt;code>&amp;quot;x&amp;quot;&lt;/code> - Create - will create a file, returns an error if the file exist&lt;/p>
&lt;p>&lt;code>&amp;quot;a&amp;quot;&lt;/code> - Append - will create a file if the specified file does not exist&lt;/p>
&lt;p>&lt;code>&amp;quot;w&amp;quot;&lt;/code> - Write - will create a file if the specified file does not exist&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;demofile3.txt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;w&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Woops! I have deleted the content!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="delete">Delete
&lt;/h3>&lt;p>To delete a file, you must import the OS module, and run its &lt;code>os.remove()&lt;/code> function.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;demofile.txt&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;demofile.txt&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;The file does not exist&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To delete an entire folder, use the &lt;code>os.rmdir()&lt;/code> method:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-pyt" data-lang="pyt">import os
os.rmdir(&amp;#34;myfolder&amp;#34;)
&lt;/code>&lt;/pre>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> You can only remove &lt;em>empty&lt;/em> folders.&lt;/p>
&lt;/blockquote>
&lt;h2 id="module">Module
&lt;/h2>&lt;p>Consider a module to be the same as a code library.&lt;/p>
&lt;p>A file containing a set of functions you want to include in your application.&lt;/p>
&lt;p>we can use a module by using the &lt;code>import&lt;/code> statement&lt;/p>
&lt;p>You can name the module file whatever you like, but it must have the file extension &lt;code>.py&lt;/code>&lt;/p>
&lt;p>You can create an alias when you import a module, by using the &lt;code>as&lt;/code> keyword&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">mymodule&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">mx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> When importing using the &lt;code>from&lt;/code> keyword, do not use the module name when referring to elements in the module. Example: &lt;code>person1[&amp;quot;age&amp;quot;]&lt;/code>, &lt;strong>not&lt;/strong> &lt;code>mymodule.person1[&amp;quot;age&amp;quot;]&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h3 id="dir">&lt;code>dir()&lt;/code>
&lt;/h3>&lt;p>The &lt;code>dir()&lt;/code> function is a built-in function to list all the function names (or variable names) in a module.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> The dir() function can be used on &lt;em>all&lt;/em> modules, also the ones you create yourself.&lt;/p>
&lt;/blockquote></description></item><item><title>【C#】Basics</title><link>https://dyhes.github.io/p/c%23basics/</link><pubDate>Mon, 28 Dec 2020 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/c%23basics/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>It is an object-oriented programming language created by Microsoft that runs on the .NET Framework.&lt;/p>
&lt;p>C# has roots from the C family, and the language is close to other popular languages like &lt;a class="link" href="https://www.w3schools.com/cpp/default.asp" target="_blank" rel="noopener"
>C++&lt;/a> and &lt;a class="link" href="https://www.w3schools.com/java/default.asp" target="_blank" rel="noopener"
>Java&lt;/a>.&lt;/p>
&lt;h2 id="output">output
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Hello World!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Hello World! &amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="variable">Variable
&lt;/h2>&lt;pre tabindex="0">&lt;code>type variableName = value;
int myNum = 15;
&lt;/code>&lt;/pre>&lt;p>you can add the &lt;code>const&lt;/code> keyword if you don&amp;rsquo;t want others (or yourself) to overwrite existing values&lt;/p>
&lt;blockquote>
&lt;p>A const field requires a value to be provided&lt;/p>
&lt;/blockquote>
&lt;h2 id="data-type">Data Type
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Data Type&lt;/th>
&lt;th style="text-align: left">Size&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">int&lt;/td>
&lt;td style="text-align: left">4 bytes&lt;/td>
&lt;td style="text-align: left">Stores whole numbers from -2,147,483,648 to 2,147,483,647&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">long&lt;/td>
&lt;td style="text-align: left">8 bytes&lt;/td>
&lt;td style="text-align: left">Stores whole numbers from -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">float&lt;/td>
&lt;td style="text-align: left">4 bytes&lt;/td>
&lt;td style="text-align: left">Stores fractional numbers. Sufficient for storing 6 to 7 decimal digits&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">double&lt;/td>
&lt;td style="text-align: left">8 bytes&lt;/td>
&lt;td style="text-align: left">Stores fractional numbers. Sufficient for storing 15 decimal digits&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">bool&lt;/td>
&lt;td style="text-align: left">1 bit&lt;/td>
&lt;td style="text-align: left">Stores true or false values&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">char&lt;/td>
&lt;td style="text-align: left">2 bytes&lt;/td>
&lt;td style="text-align: left">Stores a single character/letter, surrounded by single quotes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">string&lt;/td>
&lt;td style="text-align: left">2 bytes per character&lt;/td>
&lt;td style="text-align: left">Stores a sequence of characters, surrounded by double quotes&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="arrays">Arrays
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="n">cars&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Volvo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;BMW&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Ford&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Mazda&amp;#34;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Length&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//if you declare an array and initialize it later, you have to use the new keyword&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="n">cars&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Add values, using new&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cars&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Volvo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;BMW&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Ford&amp;#34;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="type-casting">Type Casting
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-csharp" data-lang="csharp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//explicit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">myInt&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">myDouble&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It is also possible to convert data types explicitly by using built-in methods, such as&lt;code>Convert.ToBoolean&lt;/code>, &lt;code>Convert.ToDouble&lt;/code>, &lt;code>Convert.ToString&lt;/code>, &lt;code>Convert.ToInt32&lt;/code> (&lt;code>int&lt;/code>) and &lt;code>Convert.ToInt64&lt;/code> (&lt;code>long&lt;/code>)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">myInt&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span> &lt;span class="n">myDouble&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">5.25&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">bool&lt;/span> &lt;span class="n">myBool&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Convert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myInt&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// convert int to string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Convert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToDouble&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myInt&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// convert int to double&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Convert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToInt32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myDouble&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// convert double to int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Convert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myBool&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// convert bool to string&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="user-input">User Input
&lt;/h2>&lt;p>we use &lt;code>Console.ReadLine()&lt;/code> to get user input.&lt;/p>
&lt;p>The &lt;code>Console.ReadLine()&lt;/code> method returns a &lt;code>string&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">string&lt;/span> &lt;span class="n">userName&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ReadLine&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">age&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Convert&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToInt32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ReadLine&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="foreach-loop">foreach Loop
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="k">foreach&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">type&lt;/span> &lt;span class="n">variableName&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">arrayName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// code block to be executed&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="oop">OOP
&lt;/h2>&lt;h3 id="access-modifier">Access Modifier
&lt;/h3>&lt;p>C# has the following access modifiers:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Modifier&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>public&lt;/code>&lt;/td>
&lt;td style="text-align: left">The code is accessible for all classes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>private&lt;/code>&lt;/td>
&lt;td style="text-align: left">The code is only accessible within the same class&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>protected&lt;/code>&lt;/td>
&lt;td style="text-align: left">The code is accessible within the same class, or in a class that is inherited from that class. You will learn more about &lt;a class="link" href="https://www.w3schools.com/cs/cs_inheritance.asp" target="_blank" rel="noopener"
>inheritance&lt;/a> in a later chapter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>internal&lt;/code>&lt;/td>
&lt;td style="text-align: left">The code is only accessible within its own assembly, but not from another assembly. You will learn more about this in a later chapter&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>There&amp;rsquo;s also two combinations: &lt;code>protected internal&lt;/code> and &lt;code>private protected&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Person&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="n">Name&lt;/span> &lt;span class="c1">// property&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="k">get&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">set&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="sealed">Sealed
&lt;/h3>&lt;p>If you don&amp;rsquo;t want other classes to inherit from a class, use the &lt;code>sealed&lt;/code> keyword&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">sealed&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">Vehicle&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="polymorphism">Polymorphism
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Animal&lt;/span> &lt;span class="c1">// Base class (parent) &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="k">virtual&lt;/span> &lt;span class="k">void&lt;/span> &lt;span class="n">animalSound&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;The animal makes a sound&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Pig&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">Animal&lt;/span> &lt;span class="c1">// Derived class (child) &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">override&lt;/span> &lt;span class="k">void&lt;/span> &lt;span class="n">animalSound&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;The pig says: wee wee&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Dog&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">Animal&lt;/span> &lt;span class="c1">// Derived class (child) &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">public&lt;/span> &lt;span class="kd">override&lt;/span> &lt;span class="k">void&lt;/span> &lt;span class="n">animalSound&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;The dog says: bow wow&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Program&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">static&lt;/span> &lt;span class="k">void&lt;/span> &lt;span class="n">Main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Animal&lt;/span> &lt;span class="n">myAnimal&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Animal&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Create a Animal object&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Animal&lt;/span> &lt;span class="n">myPig&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Pig&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Create a Pig object&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Animal&lt;/span> &lt;span class="n">myDog&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Dog&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// Create a Dog object&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">myAnimal&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">animalSound&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">myPig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">animalSound&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">myDog&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">animalSound&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="abstract">Abstract
&lt;/h2>&lt;p>The &lt;code>abstract&lt;/code> keyword is used for classes and methods:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Abstract class:&lt;/strong> is a restricted class that cannot be used to create objects (to access it, it must be inherited from another class).&lt;/li>
&lt;li>&lt;strong>Abstract method:&lt;/strong> can only be used in an abstract class, and it does not have a body. The body is provided by the derived class (inherited from).&lt;/li>
&lt;/ul>
&lt;h2 id="interface">Interface
&lt;/h2>&lt;p>An &lt;code>interface&lt;/code> is a completely &amp;ldquo;&lt;strong>abstract class&lt;/strong>&amp;rdquo;, which can only contain abstract methods and properties (with empty bodies):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="k">interface&lt;/span> &lt;span class="nc">Animal&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">void&lt;/span> &lt;span class="n">animalSound&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// interface method (does not have a body)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">void&lt;/span> &lt;span class="n">run&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// interface method (does not have a body)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="enums">Enums
&lt;/h3>&lt;p>An &lt;code>enum&lt;/code> is a special &amp;ldquo;class&amp;rdquo; that represents a group of &lt;strong>constants&lt;/strong> (unchangeable/read-only variables).&lt;/p>
&lt;p>To create an &lt;code>enum&lt;/code>, use the &lt;code>enum&lt;/code> keyword (instead of class or interface), and separate the enum items with a comma&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">enum&lt;/span> &lt;span class="n">Level&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Low&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Medium&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">High&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Level&lt;/span> &lt;span class="n">myVar&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">Level&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Medium&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myVar&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【Java】Basics</title><link>https://dyhes.github.io/p/javabasics/</link><pubDate>Sun, 20 Dec 2020 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/javabasics/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>Every line of code that runs in Java must be inside a &lt;code>class&lt;/code>. A class should always start with an uppercase first letter.&lt;/p>
&lt;p>The name of the java file &lt;strong>must match&lt;/strong> the class name. When saving the file, save it using the class name and add &amp;ldquo;.java&amp;rdquo; to the end of the filename.&lt;/p>
&lt;p>Every program must contain the &lt;code>main()&lt;/code> method.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="variables">Variables
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">type&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">variablename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">arrayname&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="data-types">Data Types
&lt;/h3>&lt;h4 id="primitive-types">primitive types
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Data Type&lt;/th>
&lt;th style="text-align: left">Size&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">byte&lt;/td>
&lt;td style="text-align: left">1 byte&lt;/td>
&lt;td style="text-align: left">Stores whole numbers from -128 to 127&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">short&lt;/td>
&lt;td style="text-align: left">2 bytes&lt;/td>
&lt;td style="text-align: left">Stores whole numbers from -32,768 to 32,767&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">int&lt;/td>
&lt;td style="text-align: left">4 bytes&lt;/td>
&lt;td style="text-align: left">Stores whole numbers from -2,147,483,648 to 2,147,483,647&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">long&lt;/td>
&lt;td style="text-align: left">8 bytes&lt;/td>
&lt;td style="text-align: left">Stores whole numbers from -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">float&lt;/td>
&lt;td style="text-align: left">4 bytes&lt;/td>
&lt;td style="text-align: left">Stores fractional numbers. Sufficient for storing 6 to 7 decimal digits&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">double&lt;/td>
&lt;td style="text-align: left">8 bytes&lt;/td>
&lt;td style="text-align: left">Stores fractional numbers. Sufficient for storing 15 decimal digits&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">boolean&lt;/td>
&lt;td style="text-align: left">1 bit&lt;/td>
&lt;td style="text-align: left">Stores true or false values&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">char&lt;/td>
&lt;td style="text-align: left">2 bytes&lt;/td>
&lt;td style="text-align: left">Stores a single character/letter or ASCII values&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="non-primitive">Non-primitive
&lt;/h4>&lt;p>Non-primitive data types are called &lt;strong>reference types&lt;/strong> because they refer to objects.&lt;/p>
&lt;ul>
&lt;li>String&lt;/li>
&lt;li>Arrays&lt;/li>
&lt;li>Classes&lt;/li>
&lt;li>Interfaces&lt;/li>
&lt;/ul>
&lt;h4 id="main-difference">main difference
&lt;/h4>&lt;ul>
&lt;li>Primitive types are &lt;strong>predefined&lt;/strong> in Java. Non-primitive types are created by the programmer and is not defined by Java (except for &lt;code>String&lt;/code>).&lt;/li>
&lt;li>A primitive type has always a value, while non-primitive types can be &lt;code>null&lt;/code>.&lt;/li>
&lt;li>A &lt;strong>primitive type&lt;/strong> starts with a &lt;strong>lowercase letter&lt;/strong>, while &lt;strong>non-primitive types&lt;/strong> starts with an &lt;strong>uppercase letter&lt;/strong>.&lt;/li>
&lt;li>The size of a primitive type depends on the data type, while &lt;strong>non-primitive types have all the same size&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;h3 id="final">final
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myNum&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">15&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//you couldn&amp;#39;t change it anymore&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//just like const in js&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="name-rules">name rules
&lt;/h3>&lt;p>The general rules for naming variables are:&lt;/p>
&lt;ul>
&lt;li>Names can contain &lt;strong>letters, digits, underscores, and dollar signs&lt;/strong>&lt;/li>
&lt;li>Names must &lt;strong>begin with a letter&lt;/strong>&lt;/li>
&lt;li>Names should start with a &lt;strong>lowercase&lt;/strong> letter and it &lt;strong>cannot contain whitespace&lt;/strong>&lt;/li>
&lt;li>Names can also begin with &lt;strong>$ and _&lt;/strong> (but we will not use it in this tutorial)&lt;/li>
&lt;li>Names are &lt;strong>case sensitive&lt;/strong> (&amp;ldquo;myVar&amp;rdquo; and &amp;ldquo;myvar&amp;rdquo; are different variables)&lt;/li>
&lt;li>Reserved words (like Java keywords, such as &lt;code>int&lt;/code> or &lt;code>boolean&lt;/code>) cannot be used as names&lt;/li>
&lt;/ul>
&lt;h3 id="casting">Casting
&lt;/h3>&lt;h4 id="widening-casting">Widening Casting
&lt;/h4>&lt;p>Widening casting is done automatically when passing a smaller size type to a larger size type&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myInt&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">9&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myDouble&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myInt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="narrowing-casting">Narrowing Casting
&lt;/h4>&lt;p>Narrowing casting must be done manually by placing the type in parentheses in front of the value&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myDouble&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">9&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">78d&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myInt&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myDouble&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="overload">Overload
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">myMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">myMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">float&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">myMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">myMethod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="classes">Classes
&lt;/h2>&lt;p>a class is a template for objects, and an object is an instance of a class.&lt;/p>
&lt;h3 id="constructor">Constructor
&lt;/h3>&lt;p>A constructor in Java is a &lt;strong>special method&lt;/strong> that is used to initialize objects. The constructor is called when an object of a class is created. It can be used to set initial values for object attributes&lt;/p>
&lt;p>Note that the constructor name must &lt;strong>match the class name&lt;/strong>, and it cannot have a &lt;strong>return type&lt;/strong> (like &lt;code>void&lt;/code>).&lt;/p>
&lt;h3 id="modifiers">Modifiers
&lt;/h3>&lt;h4 id="access-modifiers">Access Modifiers
&lt;/h4>&lt;ul>
&lt;li>**public: **accessible for all classes&lt;/li>
&lt;li>&lt;strong>protected:&lt;/strong> accessible in the same package and &lt;strong>subclasses&lt;/strong>&lt;/li>
&lt;li>**default: **accessible in the same package&lt;/li>
&lt;li>&lt;strong>private:&lt;/strong> only accessible within the declared class&lt;/li>
&lt;/ul>
&lt;h4 id="non-access-modifiers">Non-Access Modifiers
&lt;/h4>&lt;h5 id="for-classes">for classes
&lt;/h5>&lt;ul>
&lt;li>&lt;strong>final&lt;/strong>: cannot be inherited&lt;/li>
&lt;li>&lt;strong>abstract&lt;/strong>: cannot be used to create objects&lt;/li>
&lt;/ul>
&lt;h5 id="for-attributes-and-methods">for attributes and methods
&lt;/h5>&lt;ul>
&lt;li>&lt;strong>final&lt;/strong>: cannot be overridden/modified&lt;/li>
&lt;li>&lt;strong>static&lt;/strong> :belongs to the class, rather than an object&lt;/li>
&lt;li>&lt;strong>abstract&lt;/strong>: Can only be used in an abstract class, and can only be used on methods.&lt;/li>
&lt;/ul>
&lt;h3 id="main-concepts-of-oop">Main Concepts of OOP
&lt;/h3>&lt;h4 id="encapsulation">Encapsulation
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>declare class variables/attributes as &lt;code>private&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>provide public &lt;strong>get&lt;/strong> and &lt;strong>set&lt;/strong> methods to access and update the value of a &lt;code>private&lt;/code> variable&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>To inherit from a class, use the &lt;code>extends&lt;/code> keyword.&lt;/p>
&lt;h4 id="inheritance">Inheritance
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>subclass&lt;/strong> (child) - the class that inherits from another class&lt;/li>
&lt;li>&lt;strong>superclass&lt;/strong> (parent) - the class being inherited from&lt;/li>
&lt;/ul>
&lt;h4 id="polymorphism">Polymorphism
&lt;/h4>&lt;p>subclasses can override methods inherited from superclasses&lt;/p>
&lt;h4 id="abstract">Abstract
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>Abstract class:&lt;/strong> is a restricted class that cannot be used to create objects (to access it, it must be inherited from another class).&lt;/li>
&lt;li>&lt;strong>Abstract method:&lt;/strong> can only be used in an abstract class, and it does not have a body. The body is provided by the subclass (inherited from).&lt;/li>
&lt;/ul>
&lt;h3 id="interface">Interface
&lt;/h3>&lt;p>An &lt;code>interface&lt;/code> is a completely &amp;ldquo;&lt;strong>abstract class&lt;/strong>&amp;rdquo; that is used to group related methods with empty bodies&lt;/p>
&lt;p>To access the interface methods, the interface must be &amp;ldquo;implemented&amp;rdquo; (kinda like inherited) by another class with the &lt;code>implements&lt;/code> keyword (instead of &lt;code>extends&lt;/code>). The body of the interface method is provided by the &amp;ldquo;implement&amp;rdquo; class.&lt;/p>
&lt;ul>
&lt;li>On implementation of an interface, you must override all of its methods&lt;/li>
&lt;li>Interface &lt;strong>methods&lt;/strong> are by default &lt;code>abstract&lt;/code> and &lt;code>public&lt;/code>&lt;/li>
&lt;li>Interface &lt;strong>attributes&lt;/strong> are by default &lt;code>public&lt;/code>, &lt;code>static&lt;/code> and &lt;code>final&lt;/code>&lt;/li>
&lt;li>An interface cannot contain a constructor (as it cannot be used to create objects)&lt;/li>
&lt;/ul>
&lt;h4 id="why">why
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>To achieve &lt;strong>security&lt;/strong> - hide certain details and only show the important details of an object (interface).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Java does not support &amp;ldquo;multiple inheritance&amp;rdquo; (a class can only inherit from one superclass). However, it can be achieved with interfaces, because the class can &lt;strong>implement&lt;/strong> multiple interfaces. &lt;strong>Note:&lt;/strong> To implement multiple interfaces, separate them with a comma (see example below).&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="inner-classes">Inner Classes
&lt;/h3>&lt;p>In Java, it is also possible to nest classes (a class within a class). The purpose of nested classes is to group classes that belong together, which makes your code more &lt;strong>readable and maintainable&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">class&lt;/span> &lt;span class="nc">OuterClass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">10&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">InnerClass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">OuterClass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myOuter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">OuterClass&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">OuterClass&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">InnerClass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myInner&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myOuter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">InnerClass&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myInner&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">y&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myOuter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">x&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="wrapper-classes">Wrapper Classes
&lt;/h3>&lt;p>Wrapper classes provide a way to use primitive data types (&lt;code>int&lt;/code>, &lt;code>boolean&lt;/code>, etc..) as objects.&lt;/p>
&lt;p>The table below shows the primitive type and the equivalent wrapper class:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Primitive Data Type&lt;/th>
&lt;th style="text-align: left">Wrapper Class&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">byte&lt;/td>
&lt;td style="text-align: left">Byte&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">short&lt;/td>
&lt;td style="text-align: left">Short&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">int&lt;/td>
&lt;td style="text-align: left">Integer&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">long&lt;/td>
&lt;td style="text-align: left">Long&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">float&lt;/td>
&lt;td style="text-align: left">Float&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">double&lt;/td>
&lt;td style="text-align: left">Double&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">boolean&lt;/td>
&lt;td style="text-align: left">Boolean&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">char&lt;/td>
&lt;td style="text-align: left">Character&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="enums">Enums
&lt;/h2>&lt;p>An &lt;code>enum&lt;/code> is a special &amp;ldquo;class&amp;rdquo; that represents a group of &lt;strong>constants&lt;/strong> (unchangeable variables, like &lt;code>final&lt;/code> variables).&lt;/p>
&lt;p>To create an &lt;code>enum&lt;/code>, use the &lt;code>enum&lt;/code> keyword (instead of class or interface), and separate the constants with a comma. Note that they should be in uppercase letters&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">enum&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Level&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">LOW&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">MEDIUM&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">HIGH&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//looping&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Level&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myVar&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Level&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">values&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myVar&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>An &lt;code>enum&lt;/code> can, just like a &lt;code>class&lt;/code>, have attributes and methods. The only difference is that enum constants are &lt;code>public&lt;/code>, &lt;code>static&lt;/code> and &lt;code>final&lt;/code> (unchangeable - cannot be overridden).&lt;/p>
&lt;p>An &lt;code>enum&lt;/code> cannot be used to create objects, and it cannot extend other classes (but it can implement interfaces).&lt;/p>
&lt;h2 id="user-input">User Input
&lt;/h2>&lt;p>The &lt;code>Scanner&lt;/code> class is used to get user input, and it is found in the &lt;code>java.util&lt;/code> package.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.Scanner&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Import the Scanner class&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Scanner&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myObj&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Scanner&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">in&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Create a Scanner object&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Enter username&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">myObj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">nextLine&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Read user input&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Username is: &amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">userName&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// Output user input&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Method&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>nextBoolean()&lt;/code>&lt;/td>
&lt;td style="text-align: left">Reads a &lt;code>boolean&lt;/code> value from the user&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>nextByte()&lt;/code>&lt;/td>
&lt;td style="text-align: left">Reads a &lt;code>byte&lt;/code> value from the user&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>nextDouble()&lt;/code>&lt;/td>
&lt;td style="text-align: left">Reads a &lt;code>double&lt;/code> value from the user&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>nextFloat()&lt;/code>&lt;/td>
&lt;td style="text-align: left">Reads a &lt;code>float&lt;/code> value from the user&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>nextInt()&lt;/code>&lt;/td>
&lt;td style="text-align: left">Reads a &lt;code>int&lt;/code> value from the user&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>nextLine()&lt;/code>&lt;/td>
&lt;td style="text-align: left">Reads a &lt;code>String&lt;/code> value from the user&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>nextLong()&lt;/code>&lt;/td>
&lt;td style="text-align: left">Reads a &lt;code>long&lt;/code> value from the user&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>nextShort()&lt;/code>&lt;/td>
&lt;td style="text-align: left">Reads a &lt;code>short&lt;/code> value from the user&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="collections">Collections
&lt;/h2>&lt;h4 id="arraylist">ArrayList
&lt;/h4>&lt;p>The &lt;code>ArrayList&lt;/code> class is a resizable array&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="linkedlist">LinkedList
&lt;/h4>&lt;p>The &lt;code>LinkedList&lt;/code> class has all of the same methods as the &lt;code>ArrayList&lt;/code> class because they both implement the &lt;code>List&lt;/code> interface. But they work in different way.&lt;/p>
&lt;h4 id="hashmap">HashMap
&lt;/h4>&lt;p>A &lt;code>HashMap&lt;/code> however, store items in &amp;ldquo;&lt;strong>key&lt;/strong>/&lt;strong>value&lt;/strong>&amp;rdquo; pairs, and you can access them by an index of another type.(e.g. a &lt;code>String&lt;/code>)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">capitalCities&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HashMap&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="hashset">HashSet
&lt;/h4>&lt;p>A HashSet is a collection of items where every item is unique.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">HashSet&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HashSet&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="iterator">Iterator
&lt;/h4>&lt;p>An &lt;code>Iterator&lt;/code> is an object that can be used to loop through collections.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Import the ArrayList class and the Iterator class&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.ArrayList&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.Iterator&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Make a collection&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Volvo&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;BMW&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Ford&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Mazda&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Get the iterator&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Iterator&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">it&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cars&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">iterator&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Print the first item&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To loop through a collection, use the &lt;code>hasNext()&lt;/code> and &lt;code>next()&lt;/code> methods of the &lt;code>Iterator&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">hasNext&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="removing-items">Removing items
&lt;/h5>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">hasNext&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Integer&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">10&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">remove&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Note:&lt;/strong> Trying to remove items using a &lt;strong>for loop&lt;/strong> or a &lt;strong>for-each loop&lt;/strong> would not work correctly because the collection is changing size at the same time that the code is trying to loop.&lt;/p>
&lt;h2 id="lambda">Lambda
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">parameter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">expression&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">parameter1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parameter2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">expression&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">parameter1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">parameter2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">code&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">block&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="thread">Thread
&lt;/h2>&lt;p>Threads allows a program to operate more efficiently by doing multiple things at the same time.&lt;/p>
&lt;p>Threads can be used to perform complicated tasks in the background without interrupting the main program.&lt;/p>
&lt;h3 id="creating">Creating
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">run&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;This code is running in a thread&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Runnable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">run&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;This code is running in a thread&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="running">Running
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">extends&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Main&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">thread&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;This code is outside of the thread&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">run&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;This code is running in a thread&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Runnable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">obj&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Main&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">thread&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">obj&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">thread&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;This code is outside of the thread&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">run&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;This code is running in a thread&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="exceptions">Exceptions
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="k">finally&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>【CPP】C++程序设计-崔毅东</title><link>https://dyhes.github.io/p/cppc-%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1-%E5%B4%94%E6%AF%85%E4%B8%9C/</link><pubDate>Sun, 06 Dec 2020 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/cppc-%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1-%E5%B4%94%E6%AF%85%E4%B8%9C/</guid><description>&lt;h2 id="history">History
&lt;/h2>&lt;p>符合C++11及之后标准的C++称之为“Modern C++”，即“现代C++”。之前的C++称为“Classic C++”，即“经典C++”&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Year&lt;/th>
&lt;th>C++ Standard&lt;/th>
&lt;th>Informal name&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>2020&lt;/td>
&lt;td>ISO/IEC 14882:2020&lt;/td>
&lt;td>C++20&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2017&lt;/td>
&lt;td>ISO/IEC 14882:2017&lt;/td>
&lt;td>C++17, C++1z&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2014&lt;/td>
&lt;td>ISO/IEC 14882:2014&lt;/td>
&lt;td>C++14, C++1y&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2011&lt;/td>
&lt;td>ISO/IEC 14882:2011&lt;/td>
&lt;td>C++11, C++0x&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2003&lt;/td>
&lt;td>ISO/IEC 14882:2003&lt;/td>
&lt;td>C++03&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1998&lt;/td>
&lt;td>ISO/IEC 14882:1998&lt;/td>
&lt;td>C++98&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="glossary">Glossary
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>编辑器（Editor）&lt;/p>
&lt;p>程序开发中的“编辑器”一般是指“代码编辑器”。代码编辑器主要用于用来编写和查看程序源代码。通常这种编辑器有语法加亮（Syntax-Highlighting）功能。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>编译器（Compiler）&lt;/p>
&lt;p>编译器（compiler），是一种计算机程序，它会将用某种编程语言写成的源代码（原始语言），转换成另一种编程语言（目标语言）。&lt;/p>
&lt;p>A compiler is a computer program that transforms computer code written in one programming language (the source language) into another programming language (the target language). Compilers are a type of translator that support digital devices, primarily computers. The name compiler is primarily used for programs that translate source code &lt;strong>from a high-level programming language to a lower level language&lt;/strong> (e.g., assembly language, object code, or machine code) to create an &lt;strong>executable&lt;/strong> program.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>链接器（Linker）&lt;/p>
&lt;p>是一个程序，将一个或多个由编译器或汇编器生成的目标文件外加库链接为一个&lt;strong>可执行文件&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>调试器（Debugger）&lt;/p>
&lt;p>调试器是指一种用于调试其它程序的计算机程序及工具。能够让代码在指令组模拟器（ISS）中可以检查运行状况以及选择性地运行，以便排错、调试。当开发的进度遇到瓶颈或找不出哪里有问题时，这技术将是非常有用的。但是将程序运行在调试器之下，这将比直接在运作的平台以及处理器上运行还要来得慢。&lt;/p>
&lt;p>典型的调试器通常能够在程序运行时拥有以下这些功能，例如单步运行（single-stepping）、利用中断点（breakpoint）使程序遇到各种种类的事件（event）时停止（breaking）（一般用于使程序停止在想要检查的状态）、以及追踪某些变量的变化。有些调试器也有能力在想要调试的程序在运行状态时，去改变它的状态，而不仅仅只是用来观察而己。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>解释器（interpreter）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>解释器是一种计算机程序，能够把高级编程语言一行一行解释运行。解释器像是一位“中间人”，每次运行程序时都要先转成另一种语言再作运行，因此解释器的程序运行速度比较缓慢。它不会一次把整个程序翻译出来，而是每翻译一行程序就立刻运行，然后再翻译下一行，再运行，如此不停地进行下去。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>集成开发环境（Integrated Development Environment，简称IDE）&lt;/p>
&lt;p>集成开发环境是一种辅助程序开发人员开发软件的应用软件，在开发工具内部就可以辅助编写源代码文本、并编译打包成为可用的程序，有些甚至可以设计图形接口。&lt;/p>
&lt;p>IDE通常包括编程语言编辑器、自动构建工具、通常还包括调试器。有些IDE包含编译器／解释器，如微软的Microsoft Visual Studio，有些则不包含，如Eclipse、SharpDevelop等，这些IDE是通过调用第三方编译器来实现代码的编译工作的。有时IDE还会包含版本控制系统和一些可以设计图形用户界面的工具。许多支持面向对象的现代化IDE还包括了类别浏览器、对象查看器、对象结构图。虽然当前有一些IDE支持多种编程语言（例如Eclipse、NetBeans、Microsoft Visual Studio），但是一般而言，IDE主要还是针对特定的编程语言而量身打造（例如Visual Basic）。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Visual Studio中包含的C++集成开发环境叫做 Visual C++。&lt;/p>
&lt;h2 id="visial-studio">Visial Studio
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>工程/项目与解决方案&lt;/p>
&lt;p>Visual C++中，将一个C++项目所需的所有源代码文件、资源文件等组织在一起，形成一个“Project”，我们俗称“C++工程”或者“C++项目”。有时简称“项目”。&lt;/p>
&lt;p>Visual C++ 将一个或者多个C++项目组织在一起，形成一个“Solution”，也就是“解决方案”。&lt;/p>
&lt;p>解决方案中的项目可能有互相的依赖关系。解决方案中的项目可以一键全部编译。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>解决方案文件夹&lt;/p>
&lt;p>C++解决方案中，可以建立虚拟的“解决方案文件夹”，将多个项目分类管理。&lt;/p>
&lt;p>C++解决方案中的项目，可能在硬盘的不同目录下，甚至在不同的硬盘上。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="命名空间">命名空间
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="c1">//not recomended
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;ha&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="s">&amp;#34;ha&amp;#34;&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="c1">//recomended
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="编译">编译
&lt;/h2>&lt;p>&lt;img src="https://edu-image.nosdn.127.net/9B0617ED4BF4641BC9997B166B655E9E.jpg?imageView&amp;amp;thumbnail=890x0&amp;amp;quality=100"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h2 id="输入输出流">输入输出流
&lt;/h2>&lt;p>&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220425141514427.png"
loading="lazy"
alt="image-20220425141514427"
>&lt;/p>
&lt;h2 id="引用reference">引用（Reference）
&lt;/h2>&lt;p>大部分时候可视为指针的语法糖&lt;/p>
&lt;p>C++的引用主要是为了支持运算符重载；指针的存在主要是为了兼容C语言。&lt;/p>
&lt;p>用户自定义类型最好用引用传参，这样可以避免不必要的构造函数和析构函数调用；对于内置(C-like)类型，按值传参会比按引用传参更高效。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">rx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>Any changes made through the reference variable are actually performed on the original variable (通过引用所做的读写操作实际上是作用于原变量上).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A reference must be initialized in declaration 引用必须在声明的时候初始化。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Once initialized, the name of the reference cannot be assigned to other variables (引用一旦初始化，引用名字就不能再指定给其它变量)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>You can use a reference variable as a parameter in a function and pass a regular variable to invoke the function. (引用可做函数参数，但调用时只需传普通变量即可)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>When you change the value through the reference variable, the original value is actually changed. (在被调函数中改变引用变量的值，则改变的是实参的值)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="动态内存管理">动态内存管理
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">new&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">initialValue&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//申请一个变量的空间
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">literalExpression&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">//申请数组
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">delete&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">pointerName&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//删除一个变量/对象
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">delete&lt;/span> &lt;span class="p">[]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">pointerName&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//删除数组空间
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="https://img.gejiba.com/images/aefd454d5d165b890c300704b3c34817.png"
loading="lazy"
alt="aefd454d5d165b890c300704b3c34817.png"
>&lt;/p>
&lt;h2 id="数据类型">数据类型
&lt;/h2>&lt;h3 id="bool">bool
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>整数0和布尔false互相转化&lt;/p>
&lt;/li>
&lt;li>
&lt;p>布尔true转化为整数1&lt;/p>
&lt;/li>
&lt;li>
&lt;p>任意非0整数转化为布尔true&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="列表初始化c11">列表初始化（C++11）
&lt;/h2>&lt;p>&lt;img src="https://img.gejiba.com/images/705cbabcbd800e2a6ab273005950b425.png"
loading="lazy"
alt="705cbabcbd800e2a6ab273005950b425.png"
>&lt;/p>
&lt;p>List initialization is a new feature for C++11 (列表初始化是C++11的一个新特性)&lt;/p>
&lt;p>List: braced-init-list (“列表”是用花括号括起来的一(些)值)&lt;/p>
&lt;p>列表初始化的两个分类&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Direct list initialization (直接列表初始化)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* Variable initialization */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">{};&lt;/span> &lt;span class="c1">// x is 0;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// y is 1;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* Array initialization */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">array1&lt;/span>&lt;span class="p">[]{&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span> &lt;span class="n">s1&lt;/span>&lt;span class="p">[&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="sc">&amp;#39;o&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;k&amp;#39;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span> &lt;span class="n">s3&lt;/span>&lt;span class="p">[]{&lt;/span> &lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Copy list initialization (拷贝列表初始化)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* Variable initialization */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">z&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* Array initialization */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">array2&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">6&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span> &lt;span class="n">s2&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="sc">&amp;#39;y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="sc">&amp;#39;e&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="sc">&amp;#39;s&amp;#39;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span> &lt;span class="n">s4&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="s">&amp;#34;World&amp;#34;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span> &lt;span class="n">s5&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Aloha&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Omit curly braces (省略花括号)
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>List initialization is also called &amp;ldquo;unified initialization&amp;rdquo; (列表初始化也被称为“&lt;strong>统一初始化方法&lt;/strong>”)
Variables and arrays are initialized in the same form (变量和数组用同样的形式初始化)&lt;/p>
&lt;h3 id="when-to-use">when to use
&lt;/h3>&lt;p>Prefer {} initialization over alternatives unless you have a strong reason not to（尽量使用列表初始化，除非你有个很好的不用它的理由）&lt;/p>
&lt;p>Why: List initialization does not allow narrowing（原因：列表初始化不允许“窄化”，即不允许丢失数据精度的隐式类型转换）&lt;/p>
&lt;h2 id="类型转换">类型转换
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>隐式类型转换
由编译器按照数据类型的转换规则自动转换，无需程序员干预。
可能导致数据精度损失，或者转换失败。应&lt;strong>尽量避免&lt;/strong>使用隐式类型转换&lt;/p>
&lt;/li>
&lt;li>
&lt;p>显式类型转换（即：强制类型转换）
由程序员用明确的类型转换语法写出类型转换代码。好处是，程序员知道自己要做什么并且把这个想法明确表达出来&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//c style
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mf">2.5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//cpp style
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">static_cast&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="k">static_cast&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="auto-c11">auto (C++11)
&lt;/h2>&lt;p>C++03及之前的标准种，auto放在变量声明之前，声明变量的存储策略。但是这个关键字常省略不写。
C++11中，auto关键字放在变量之前，作用是在声明变量的时候根据变量初始值的类型自动为此变量选择匹配的类型&lt;/p>
&lt;ul>
&lt;li>
&lt;p>auto 变量必须在定义时初始化，这类似于const关键字&lt;/p>
&lt;/li>
&lt;li>
&lt;p>定义在一个auto序列的变量必须始终推导成同一类型&lt;/p>
&lt;/li>
&lt;li>
&lt;p>如果初始化表达式是引用或const，则去除引用或const语义。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//c的类型为int而非int&amp;amp;（去除引用）
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">a1&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span> &lt;span class="n">b1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//b1的类型为int而非const int（去除const）
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>如果auto关键字带上&amp;amp;号，则不去除引用或const语意&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="c1">//此时d的类型才为int&amp;amp;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">a2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">b2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a2&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="c1">//因为auto带上&amp;amp;，故不去除const，b2类型为const in
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>初始化表达式为数组时，auto关键字推导类型为指针。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">a3&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">auto&lt;/span> &lt;span class="n">b3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="k">typeid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b3&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//输出int * （输出与编译器有关）
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>若表达式为数组且auto带上&amp;amp;，则推导类型为数组类型。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">a7&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">b7&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a7&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="k">typeid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b7&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//输出int [3] （输出与编译器有关）
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>C++14中，auto可以作为函数的返回值类型和参数类型&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="why-almost-always-auto">Why Almost Always Auto
&lt;/h3>&lt;p>Using auto are for correctness, performance, maintainability, robustness—and convenience (使用auto是为了代码的正确性、性能、可维护性、健壮性，以及方便)&lt;/p>
&lt;h2 id="decltype">decltype
&lt;/h2>&lt;p>decltype利用已知类型声明新变量。&lt;/p>
&lt;p>decltype是在编译期推导一个表达式的类型，它只做静态分析，因此它不会导致已知类型表达式执行。
decltype 主要用于泛型编程（模板）&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">fun1&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="c1">//修改fun1()时不必改动其他
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="nf">fun2&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="sc">&amp;#39;g&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="c1">// C++14
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Data type of x is same as return type of fun1()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// and type of y is same as return type of fun2()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">decltype&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fun1&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 不会执行fun1()函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">decltype&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fun2&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fun2&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="k">typeid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="k">typeid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="内存模型">内存模型
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>Stack&lt;/p>
&lt;p>编译器自动分配&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Heap&lt;/p>
&lt;p>由程序员分配&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Global/Static&lt;/p>
&lt;p>存储全局变量和静态变量&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Constant&lt;/p>
&lt;p>内容不可修改&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://img.gejiba.com/images/cd4f439f2e8ce127e9faa68307263fc5.png"
loading="lazy"
alt="cd4f439f2e8ce127e9faa68307263fc5.png"
>&lt;/p>
&lt;p>&lt;img src="https://img.gejiba.com/images/026ffeeb969e36bbacbd4febcec14441.png"
loading="lazy"
alt="026ffeeb969e36bbacbd4febcec14441.png"
>&lt;/p>
&lt;h2 id="常量与指针">常量与指针
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>Pointer to Constant(常量指针、常指针)&lt;/p>
&lt;p>指针所指向的内容不可以通过指针的间接引用(*p)来改变。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//指针 p1的类型是 (const int*)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">*&lt;/span>&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Error!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">s1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Error!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">s2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Correct!
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Pointer Constant(指针常量)&lt;/p>
&lt;p>指针本身为常量，不可改变&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//常量 p2的类型是 (int*)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">*&lt;/span>&lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Okay! à x=10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Error! p2 is a constant
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://img.gejiba.com/images/9ac2198c912b3e54745e4267064f25dc.md.png"
loading="lazy"
alt="9ac2198c912b3e54745e4267064f25dc.png"
>&lt;/p>
&lt;h2 id="using-typedef-and-define">using, typedef, and #define
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>typedef&lt;/p>
&lt;p>定义类型别名&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">typedef&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">unsigned&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">MyPointer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>using (C11)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-CPP" data-lang="CPP">&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="n">ConstPointer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">unsigned&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="n">identifier&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">const&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>using的写法比typedef的写法更加直观，所以，我们应尽量使用using声明新类型名。而且当涉及到模版类型名时，只能使用using。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>#define&lt;/p>
&lt;p>定义宏，编译器对宏进行替换&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="作用域">作用域
&lt;/h2>&lt;ul>
&lt;li>全局作用域&lt;/li>
&lt;li>局部作用域
&lt;ul>
&lt;li>文件作用域&lt;/li>
&lt;li>函数作用域&lt;/li>
&lt;li>函数中的块级作用域&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="一元作用域解析运算符unary-scope-resolution">一元作用域解析运算符（Unary Scope Resolution）
&lt;/h4>&lt;p>If a local variable name is the same as a global variable name, you can access the global variable using ::globalVariable. (局部变量名与全局变量名相同时，可使用 :: 访问全局变量)&lt;/p>
&lt;p>The :: operator is known as the unary scope resolution.（:: 这个运算符被称为一元作用域解析运算符）&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">v1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">v1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;local variable v1 is &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">v1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;global variable v1 is &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="o">::&lt;/span>&lt;span class="n">v1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="特殊函数">特殊函数
&lt;/h2>&lt;h4 id="重载函数">重载函数
&lt;/h4>&lt;p>根据参数（个数，类型）判断，应避免二义性&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">double&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">2.1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//出现二义性
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="默认参数">默认参数
&lt;/h4>&lt;p>默认值参数应后置&lt;/p>
&lt;h4 id="内联函数inline-function">内联函数（Inline Function）
&lt;/h4>&lt;p>普通函数性能有额外开销&lt;/p>
&lt;p>内联函数可减小函数调用开销，将代码插入到调用处，会导致程序变大&lt;/p>
&lt;p>是一种请求而非命令&lt;/p>
&lt;h2 id="面向对象">面向对象
&lt;/h2>&lt;h4 id="构造函数">构造函数
&lt;/h4>&lt;p>A class may be declared without ctors (类可不声明构造函数)&lt;/p>
&lt;p>(1) A no-arg constructor with an empty body is implicitly declared in the class.
(编译器会提供一个带有空函数体的无参构造函数)&lt;/p>
&lt;p>(2) This constructor, called a default constructor is provided automatically only if no constructors are explicitly declared in the class.
(只有当未明确声明构造函数时，编译器才会提供这个构造函数，并称之为“默认构造函数”)&lt;/p>
&lt;h4 id="拷贝构造函数">拷贝构造函数
&lt;/h4>&lt;p>Copy Constructor&lt;/p>
&lt;p>拷贝构造：用一个对象初始化另一个同类对象&lt;/p>
&lt;p>拷贝构造函数可以简写为 copy ctor，或者 cp ctor&lt;/p>
&lt;p>如何声明拷贝构造函数(copy ctor)&lt;/p>
&lt;p>Circle (Circle&amp;amp;);&lt;/p>
&lt;p>Circle (const Circle&amp;amp;);&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">X&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//来自C++11标准: 12.8节
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">X&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">X&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span> &lt;span class="nf">b&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// calls X(const X&amp;amp;, int);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">X&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// calls X(const X&amp;amp;, int);
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In general, if the programmer does not provide a copy ctor, the compiler will generate one.(一般情况下，如果程序员不编写拷贝构造函数，那么编译器会自动生成一个)&lt;/p>
&lt;p>The generated copy ctor is called &amp;quot; implicitly-declared/defined copy ctor &amp;quot; (自动生成的拷贝构造函数叫做“隐式声明/定义的拷贝构造函数”&lt;/p>
&lt;p>In general, the implicitly-declared/defined copy ctor simply copies each data field in one object to its counterpart in the other object. (一般情况下，隐式声明的copy ctor简单地将作为参数的对象中的每个数据域复制到新对象中)&lt;/p>
&lt;h4 id="析构函数">析构函数
&lt;/h4>&lt;p>Destructors are the opposite of constructors. (dtor vs ctor) 析构函数与构造函数正好相反&lt;/p>
&lt;p>下表中展示了ctor和dtor的对比&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;strong>Destructor&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Constructor&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>When to invoke(何时调用)&lt;/td>
&lt;td>when the object is destroyed(对象销毁时)&lt;/td>
&lt;td>when an object is created(对象创建时)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Prototype(原型)&lt;/td>
&lt;td>C::~C( )&lt;/td>
&lt;td>C::C(arguments)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Default prototype(默认函数的原型)&lt;/td>
&lt;td>C::~C( )&lt;/td>
&lt;td>C::C( ) 或参数带有默认值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>What if no explicit decl? (没有显式声明怎么办)&lt;/td>
&lt;td>Compiler will create a default one (编译器会生成默认函数)&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Overloadable(可否重载)&lt;/td>
&lt;td>No, only 1&lt;/td>
&lt;td>Yes&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="友元函数">友元函数
&lt;/h4>&lt;p>Private members: cannot be accessed from outside of the class. (私有成员无法从类外访问)&lt;/p>
&lt;p>Occasionally, it is convenient to allow some trusted functions and classes to access a class’s private members. (但有时又需要授权某些可信的函数和类访问这些私有成员)&lt;/p>
&lt;p>C++ enables you to use the friend keyword to declare friend functions and friend classes for a class (用friend关键字声明友元函数或者友元类)&lt;/p>
&lt;p>Disadvantage of &amp;ldquo;friend&amp;rdquo;: break the encapsulation (友元的缺点：打破了封装性)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Date&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">year&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">2019&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="n">month&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">day&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">friend&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">Kid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">friend&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">year&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;/&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">month&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;/&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">day&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Kid&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Date&lt;/span> &lt;span class="n">birthday&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Kid&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;I was born in &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">birthday&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">year&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Date&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Kid&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="创建对象">创建对象
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Circle&lt;/span> &lt;span class="n">circle1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 正确，但不推荐这样写
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Circle&lt;/span> &lt;span class="nf">circle2&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// 错误！C++编译器认为这是一个函数声明
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Circle&lt;/span> &lt;span class="n">circle3&lt;/span>&lt;span class="p">{};&lt;/span> &lt;span class="c1">// 正确，推荐写法。这里面明确显示用空初始化列表初始化circle3对象（调用Circle默认构造函数）
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="对象拷贝">对象拷贝
&lt;/h4>&lt;p>How to copy the contents from one object to the other?(如何将一个对象的内容拷贝给另外一个对象)&lt;/p>
&lt;p>(1) use the assignment operator( 使用赋值运算符) ： =&lt;/p>
&lt;p>(2) By default, &lt;strong>each data field&lt;/strong> of one object is copied to its counterpart in the other object. ( 默认情况下，对象中的每个数据域都被拷贝到另一对象的对应部分)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">circle2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">circle1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">将&lt;/span>&lt;span class="n">circle1&lt;/span> &lt;span class="err">的&lt;/span>&lt;span class="n">radius&lt;/span> &lt;span class="err">拷贝到&lt;/span>&lt;span class="n">circle2&lt;/span> &lt;span class="err">中&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="err">拷贝后：&lt;/span>&lt;span class="n">circle1&lt;/span> &lt;span class="err">和&lt;/span> &lt;span class="n">circle2&lt;/span> &lt;span class="err">是两个不同的对象，但是半径的值是相同的。&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="err">但是各自有一个&lt;/span>&lt;span class="n">radius&lt;/span> &lt;span class="err">成员变量&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="浅拷贝与深拷贝">浅拷贝与深拷贝
&lt;/h4>&lt;p>&lt;strong>前提条件&lt;/strong>是，类A中有个指针p，指向一个外挂对象b（b是B类型的对象）；如果类A里面没有指针成员p，那也就不要谈深浅拷贝了。&lt;/p>
&lt;p>现在有一个类A的对象a1（a1的指针p指向外挂对象b1）。以拷贝构造的方式，创建a1的一个拷贝a2。&lt;/p>
&lt;p>(1) 如果仅仅将a1.p的值（这个值是个地址）拷贝给 a2.p，这就是浅拷贝。浅拷贝之后，a1.p和a2.p都指向外挂对象 b1&lt;/p>
&lt;p>(2) 如果创建一个外挂对象b2，将 a2.p指向b2；并且将b1的值拷贝给b2，这就是深拷贝&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Shallow copy: if the field is a pointer to some object, the address of the pointer is copied rather than its contents. (浅拷贝：数据域是一个指针，只拷指针的地址，而非指针指向的内容)&lt;/p>
&lt;p>在两种情况下会出现浅拷贝&lt;/p>
&lt;p>(1) Implicit/default copy ctor (创建新对象时，调用类的&lt;strong>隐式/默认构造函数&lt;/strong>)&lt;/p>
&lt;p>(2) default assignment operator for copying = (为已有对象赋值时，使用&lt;strong>默认赋值运算符&lt;/strong>)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Employee&lt;/span> &lt;span class="n">e1&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Jack&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1999&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Gender&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">male&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Employee&lt;/span> &lt;span class="n">e2&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Anna&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nl">Gender&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">female&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Employee&lt;/span> &lt;span class="n">e3&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="n">e1&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">//cp ctor，执行一对一成员拷贝
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>上面的代码执行之后，e3.birthday指针指向了 e1.birthday所指向的那个Date对象&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Deep copy: Copy the contents that pointed by the pointer (深拷贝：拷贝指针指向的内容)&lt;/p>
&lt;p>如何深拷贝&lt;/p>
&lt;p>(1) &lt;strong>自行编写拷贝构造函数&lt;/strong>，不使用编译器隐式生成的（默认）拷贝构造函数&lt;/p>
&lt;p>(2) &lt;strong>重载赋值运算符&lt;/strong>，不使用编译器隐式生成的（默认）赋值运算符函数&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Employee&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Employee(const Employee &amp;amp;e) = default; //浅拷贝ctor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Employee&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Employee&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">){&lt;/span> &lt;span class="c1">//深拷贝ctor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">birthdate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">birthdate&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Employee&lt;/span> &lt;span class="n">e1&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Jack&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1999&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Gender&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">male&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Employee&lt;/span> &lt;span class="n">e2&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Anna&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">),,&lt;/span> &lt;span class="nl">Gender&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">female&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Employee&lt;/span> &lt;span class="n">e3&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="n">e1&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">//cp ctor 深拷贝
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="anonymous-object">Anonymous Object
&lt;/h4>&lt;p>匿名对象&lt;/p>
&lt;p>Occasionally, you may create an object and use it only once. (有时需要创建一个只用一次的对象)&lt;/p>
&lt;p>An object without name is called anonymous objects. (这种不命名的对象叫做匿名对象)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Circle&lt;/span> &lt;span class="n">c1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">auto&lt;/span> &lt;span class="n">c2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mf">2.2&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">// 用匿名对象做拷贝列表初始化
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Circle&lt;/span> &lt;span class="n">c3&lt;/span>&lt;span class="p">{};&lt;/span> &lt;span class="c1">// 直接列表初始化,调默认Ctor
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mf">3.3&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">// 用匿名对象赋值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;Area is &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mf">4.2&lt;/span>&lt;span class="p">}.&lt;/span>&lt;span class="n">getArea&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;Area is &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">getArea&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 不推荐
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;Area is &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">getArea&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 不推荐
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="local-class--nested-class">Local class &amp;amp; Nested class
&lt;/h4>&lt;p>局部类和嵌套类&lt;/p>
&lt;p>Local class : a class declared inside a function (局部类是在一个函数中声明的类)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">class&lt;/span> &lt;span class="nc">C&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// C及其对象只在f()中可用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// 成员函数必须在C中实现
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* 访问f()的成员受限 ……. */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">C&lt;/span> &lt;span class="n">c1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Nested class: a class declared in another enclosing class (嵌套类是在另一个类中声明的类)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">E&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">class&lt;/span> &lt;span class="nc">N&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// N及其对象可访问E的成员
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* 声明N的成员 ……. */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">C&lt;/span> &lt;span class="n">c1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="object-pointerdynamic-object">Object Pointer&amp;amp;Dynamic Object
&lt;/h4>&lt;p>对象指针与动态对象&lt;/p>
&lt;p>Object pointers can be assigned new object names(对象指针可以指向新的对象名)&lt;/p>
&lt;p>&lt;strong>Arrow operator&lt;/strong> -&amp;gt; : Using pointer to access object members (箭头运算符 -&amp;gt; ：用指针访问对象成员)&lt;/p>
&lt;p>Object declared in a function is created in the stack.(在函数中声明的对象都在&lt;strong>栈&lt;/strong>上创建)； When the function returns, the object is destroyed (&lt;strong>函数返回，则对象被销毁&lt;/strong>).&lt;/p>
&lt;p>To retain the object, you may create it dynamically on the heap using the new operator. (为&lt;strong>保留对象&lt;/strong>，你可以用new运算符在堆上创建它)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Circle&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">pCircle1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{};&lt;/span> &lt;span class="c1">//用无参构造函数创建对象
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ClassName&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">variable&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">ClassName&lt;/span>&lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Circle&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">pCircle2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mf">5.9&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">//用有参构造函数创建对象
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//程序结束时，动态对象会被销毁，或者
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">delete&lt;/span> &lt;span class="n">pObject&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//用delete显式销毁
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="array-of-objects">Array of objects
&lt;/h4>&lt;p>对象数组&lt;/p>
&lt;p>(1) 声明方式1&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Circle&lt;/span> &lt;span class="n">ca1&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(2) 声明方式2&lt;/p>
&lt;p>用匿名对象构成的列表初始化数组&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Circle&lt;/span> &lt;span class="n">ca2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// 注意：不可以写成： auto ca2[3]= 因为声明数组时不能用auto
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Circle&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(3) 声明方式3&lt;/p>
&lt;p>用C++11列表初始化，列表成员为隐式构造的匿名对象&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Circle&lt;/span> &lt;span class="n">ca3&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mf">3.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{},&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Circle&lt;/span> &lt;span class="n">ca4&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mf">3.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{},&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(4) 声明方式4&lt;/p>
&lt;p>用new在&lt;strong>堆区&lt;/strong>生成对象数组&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span> &lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Circle&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]{&lt;/span> &lt;span class="mf">3.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{},&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">delete&lt;/span> &lt;span class="p">[]&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">delete&lt;/span> &lt;span class="p">[]&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="objects--function">Objects &amp;amp; Function
&lt;/h4>&lt;h6 id="objects-as-function-arguments">Objects as Function Arguments
&lt;/h6>&lt;ul>
&lt;li>值传递：无法改变成员值&lt;/li>
&lt;li>引用传递&lt;/li>
&lt;li>指针传递&lt;/li>
&lt;/ul>
&lt;p>一般来说，&lt;strong>能用引用尽量不用指针&lt;/strong>。引用更加直观，更少出现意外的疏忽导致的错误。&lt;/p>
&lt;p>指针可以有二重、三重之分，比引用更加灵活。有些情况下，例如使用 new 运算符，只能用指针。&lt;/p>
&lt;h6 id="objects-as-function-return-value">Objects as Function Return Value
&lt;/h6>&lt;ul>
&lt;li>
&lt;p>指针作为返回类型&lt;/p>
&lt;ul>
&lt;li>
&lt;p>evil way&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// class Object { ... };
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Object&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">f&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="cm">/*函数形参*/&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Object&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">o&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Object&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// 这是“邪恶”的用法，不要这样做
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// main() {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Object&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">o&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="cm">/*实参*/&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="cm">/*实参*/&lt;/span> &lt;span class="p">)&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">memberFunction&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 记得要delete o
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>可行&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// class Object { ... };
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Object&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">f&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="n">Object&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="cm">/*其它形参*/&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// main() {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Object&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">o&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="cm">/*实参*/&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 不应该delete o
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>引用作为返回类型（提高效率）&lt;/p>
&lt;ul>
&lt;li>
&lt;p>evil way&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// class Object { ... };
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Object&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="cm">/*函数形参*/&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Object&lt;/span> &lt;span class="n">o&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//这是邪恶的用法
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>可行1&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// class Object { ... };
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">X&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Object&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Object&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="cm">/*实参*/&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>可行2&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// class Object { ... };
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Object&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="n">Object&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="cm">/*其它形参*/&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// main() {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">o&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="cm">/*实参*/&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="cm">/*实参*/&lt;/span> &lt;span class="p">).&lt;/span>&lt;span class="n">memberFunction&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="成员作用域和this指针">成员作用域和this指针
&lt;/h4>&lt;p>The data members are accessible to all constructors and functions in the class. (数据成员可被类内所有函数访问)&lt;/p>
&lt;p>Data fields and functions can be declared in any order in a class. (数据域与函数可按任意顺序声明)&lt;/p>
&lt;p>If a local variable has the same name as a data field: (若成员函数中的局部变量与某数据域同名)&lt;/p>
&lt;p>(1) the local variable takes precedence ( 局部变量优先级高：就近原则)&lt;/p>
&lt;p>(2) the data field with the same name is hidden. ( 同名数据域在函数中被屏蔽)&lt;/p>
&lt;p>How do you reference a class’s hidden data field in a function? (如何在函数内访问类中被屏蔽的数据域)？ 可以使用 this 关键字&lt;/p>
&lt;p>This 关键字的特性&lt;/p>
&lt;p>(1) a special built-in pointer ( 特殊的内建指针)&lt;/p>
&lt;p>(2) references to the calling object. ( &lt;strong>引用当前函数的调用对象&lt;/strong>)&lt;/p>
&lt;h4 id="default-member-initializers">Default Member Initializers
&lt;/h4>&lt;p>就地初始化&lt;/p>
&lt;p>In C++03, only static const members of integral types could be initialized in-class (在C++03标准中，只有静态常量整型成员才能在类中就地初始化)&lt;/p>
&lt;p>C++11 was to allow a non-static data member to be initialized where it is declared in its class (C++11标准中，非静态成员可以在它声明的时候初始化)&lt;/p>
&lt;p>数组必须声明长度&lt;/p>
&lt;h4 id="constructor-initializer-lists">Constructor Initializer Lists
&lt;/h4>&lt;p>构造函数初始化列表&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="err">在构造函数中用初始化列表初始化数据域&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nf">ClassName&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">parameterList&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span> &lt;span class="n">dataField1&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">value1&lt;/span>&lt;span class="p">},&lt;/span> &lt;span class="n">dataField2&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">value2&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Something to do
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A data field is an object type (Object in Object / Embedded Object) (类的数据域是一个对象类型，被称为对象中的对象，或者内嵌对象)&lt;/p>
&lt;p>The embedded object must be constructed before the body of ctor is executed (内嵌对象必须在被嵌对象的构造函数体执行前就构造完成)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Time&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* Code omitted */&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Action&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Action&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">hour&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">minute&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">second&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hour&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">minute&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">second&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//time对象应该在构造函数体之前构造完成
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Time&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Action&lt;/span> &lt;span class="nf">a&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">59&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If object type members/embedded objects are not initialized explicitly (若对象类型成员/内嵌对象成员没有被显式初始化)&lt;/p>
&lt;p>(1) the default constructor of the embedded object is automatically invoked. ( 该内嵌对象的无参构造函数会被自动调用)&lt;/p>
&lt;p>(2) If a default constructor of the embedded object does not exist, a compilation error will be reported. ( 若内嵌对象没有无参构造函数，则编译器报错)&lt;/p>
&lt;h4 id="order-of-member-initialization">Order of Member Initialization
&lt;/h4>&lt;p>Default Member Initialization (就地初始化)&lt;/p>
&lt;p>Constructor Initialization List (构造函数初始化列表)&lt;/p>
&lt;p>Assign Values to the members in Ctor Body (在构造函数体中为成员赋值)。注意，这个不是初始化，而是赋值。&lt;/p>
&lt;p>执行次序： 就地初始化 &amp;gt; Ctor 初始化列表 &amp;gt; 在Ctor 函数体中为成员赋值&lt;/p>
&lt;p>哪个起作用（初始化/赋值优先级）： 在Ctor 函数体中为成员赋值 &amp;gt; Ctor 初始化列表 &amp;gt; 就地初始化&lt;/p>
&lt;h4 id="delegation-constructor">Delegation Constructor
&lt;/h4>&lt;p>代理构造：One ctor can call another ctor (一个构造函数可以调用另外的构造函数)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">){}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">){}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">num1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">num2&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">average&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">num2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">num1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">num2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">average&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>上面例子中，构造函数的调用次序:&lt;/p>
&lt;p>A() &amp;gt; A(int) &amp;gt; A(int, int)&lt;/p>
&lt;h4 id="static-members">Static Members
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>&lt;strong>声明&lt;/strong>：Inside a class definition, &amp;ldquo;static&amp;rdquo; declares members that are not bound to class instances
在类定义中，关键字 static 声明不绑定到类实例的成员( 该成员无需创建对象即可访问)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>定义&lt;/strong>：&lt;/p>
&lt;p>(1) 声明为“constexpr”类型的静态数据成员必须 在类中声明 并初始化。自C++17 起，可不在类外定义&lt;/p>
&lt;p>(2) 声明为“inline”(C++17 起) 或者 “const int” 类型的静态数据成员可以 在类中声明 并初始化；&lt;/p>
&lt;p>(3) 其它须在类外定义并初始化，且不带static 关键字&lt;/p>
&lt;p>静态数据成员的定义规则复杂，在类外定义，大部分情况下不会出错&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>静态数据成员具有静态存储期(static storage duration)或者C++11线程存储期特性&lt;/p>
&lt;p>(1) Only one instance of the object exists ( 只存在对象的一个实例)&lt;/p>
&lt;p>(2) 静态存储器对象未明确初始化时会被自动“零初始化(Zero-Initialization)”&lt;/p>
&lt;h4 id="accessibility">Accessibility
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>private&lt;/p>
&lt;p>Private members can only be accessed from the inside of the class (私有成员只能在类内的函数访问)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>protected: A protected data field or a protected function in a base class can be accessed by name in its derived classes (保护属性的数据或函数可被派生类成员访问)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>public: Public members can be accessed from any other classes. (公有成员可被任何其他类访问)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h6 id="与继承结合">与继承结合
&lt;/h6>&lt;ul>
&lt;li>
&lt;p>公有继承&lt;/p>
&lt;p>(1) 基类成员 在派生类中的访问属性不变。&lt;/p>
&lt;p>(2) 派生类的成员函数 可以访问基类的&lt;strong>公有&lt;/strong>成员和&lt;strong>保护&lt;/strong>成员，不能访问基类的私有成员;&lt;/p>
&lt;p>(3) 派生类以外的其它函数 可以通过派生类的对象，访问从基类继承的&lt;strong>公有&lt;/strong>成员, 但不能访问从基类继承的保护成员和私有成员。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>保护继承&lt;/p>
&lt;p>) 基类成员 公有成员和保护成员变成protected，私有成员不变。&lt;/p>
&lt;p>(2) 派生类的成员函数 可以访问基类的&lt;strong>公有&lt;/strong>成员和&lt;strong>保护&lt;/strong>成员，不能访问基类的私有成员;&lt;/p>
&lt;p>(3) 派生类以外的其它函数 不能通过派生类的对象，访问从基类继承的任何成员。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>私有继承&lt;/p>
&lt;p>(1) 基类成员 在派生类中都变成 private。&lt;/p>
&lt;p>(2) 派生类的成员函数 可以访问基类的&lt;strong>公有&lt;/strong>成员和&lt;strong>保护&lt;/strong>成员，不能访问基类的私有成员;&lt;/p>
&lt;p>(3) 派生类以外的其它函数 不能通过派生类的对象，访问从基类继承的任何成员。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="abstract-class">Abstract Class
&lt;/h4>&lt;p>Sometimes a base class is so abstract that it cannot have any specific instances. Such a class is referred to as an abstract class (类太抽象以至于无法实例化就叫做抽象类)&lt;/p>
&lt;p>the class which contains abstract functions (包含抽象函数的类被称为抽象类)&lt;/p>
&lt;p>&lt;strong>Abstract Functions / Pure Virtual Function (抽象函数/纯虚函数)&lt;/strong>&lt;/p>
&lt;p>抽象函数(abstract functions)要求子类实现它&lt;/p>
&lt;p>virtual double getArea() = 0;&lt;/p>
&lt;h4 id="dynamic-cast">Dynamic Cast
&lt;/h4>&lt;p>动态类型转换&lt;/p>
&lt;p>dynamic_cast 运算符&lt;/p>
&lt;p>(1) 沿继承层级向上、向下及侧向转换到类的指针和引用&lt;/p>
&lt;p>(2) 转指针：失败返回nullptr&lt;/p>
&lt;p>(3) 转引用：失败抛异常&lt;/p>
&lt;h4 id="typeid">typeid
&lt;/h4>&lt;p>typeid operator (typeid运算符)&lt;/p>
&lt;p>typeid is used to obtain the information about the class of the object (typeid用于获取对象所属的类的信息)&lt;/p>
&lt;p>(1) typeid returns a reference to an object of class type_info. (typeid运算符返回一个type_info对象的引用)&lt;/p>
&lt;p>(2) typeid(AType).name() 返回实现定义的，含有类型名称的C风格字符串(char *)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;typeinfo&amp;gt;&lt;/span>&lt;span class="cp"> &lt;/span>&lt;span class="c1">//使用typeid，需要包含此头文件
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">A&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ……
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">auto&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">t1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">typeid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">t1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;a has type &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">t1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="继承">继承
&lt;/h2>&lt;p>C++11引入&lt;em>final&lt;/em>特殊标识符，可以使得类不能被继承&lt;/p>
&lt;p>C++11:派生类&lt;strong>不继承&lt;/strong>的特殊函数&lt;/p>
&lt;p>(1) 析构函数&lt;/p>
&lt;p>(2) 友元函数&lt;/p>
&lt;p>继承基类构造函数&lt;/p>
&lt;p>(1) using A::A; 继承所有基类ctor&lt;/p>
&lt;p>(2) 不能仅继承指定的某个基类ctor&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">A&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// 等价于 class A { public:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">B&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">A&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// C++11
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">using&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 继承基类所有构造函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">// 就地初始化
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">B&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 调A(int i)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="constructor-chaining-构造函数链">constructor chaining (构造函数链)
&lt;/h4>&lt;p>Constructing an instance of a class invokes all the base class along the inheritance chain. (构造类实例会沿着继承链调用所有的基类ctor)&lt;/p>
&lt;p>调用次序: base first, derive next (父先子后)&lt;/p>
&lt;h4 id="destructor-chaining-析构函数链">destructor chaining (析构函数链)
&lt;/h4>&lt;p>Conversely, the destructors are automatically invoked in reverse order(dtor与ctor正好相反)&lt;/p>
&lt;p>调用次序: derive first, base next (子先父后)&lt;/p>
&lt;h4 id="name-hiding-in-inheritance">Name Hiding in Inheritance
&lt;/h4>&lt;p>继承中的名字隐藏&lt;/p>
&lt;p>Names in inner scopes hide names in outer scopes. (内部作用域的名字隐藏外部作用域的(同名)名字)&lt;/p>
&lt;p>(1) The derived class acts as an inner scope (派生类视作内部作用域)&lt;/p>
&lt;p>(2) The base class as an outer scope(基类视作外部作用域)&lt;/p>
&lt;p>why?&lt;/p>
&lt;p>(1) To avoid certain potentially dangerous behavior (避免某些潜在的危险行为)&lt;/p>
&lt;p>(2) Each class starts with a &amp;ldquo;clean sheet&amp;rdquo; with respect to each method name it declares (每个类在创建时，它的函数名都是写在一张干净的白纸上面，不会被基类函数名干扰)&lt;/p>
&lt;p>&lt;strong>using-declaration&lt;/strong> : introduce base class members into derived class definitions (using 声明语句可以将基类成员引入到派生类定义中)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">P&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">C&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="k">public&lt;/span> &lt;span class="n">P&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">using&lt;/span> &lt;span class="n">P&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//此处不带小括号
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">C&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="多态">多态
&lt;/h2>&lt;p>截止目前：多态性有两种表现的方式&lt;/p>
&lt;ul>
&lt;li>重载多态&lt;/li>
&lt;li>子类型多态：不同的对象调用同名重定义函数，表现出不同的行为&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>联编(Binding):&lt;/strong> 确定具有多态性的语句调用哪个函数的过程&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Static Binding (静态联编)&lt;/p>
&lt;p>在程序编译时(Compile-time)确定调用哪个函数&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Dynamic Binding (动态联编)&lt;/p>
&lt;p>在程序运行时(Run-time)，才能够确定调用哪个函数&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="run-time-polymorphism">Run-time Polymorphism
&lt;/h4>&lt;p>用动态联编实现的多态，也称为运行时多态(Run-time Polymorphism)。&lt;/p>
&lt;p>实现运行时多态有两个要素：&lt;/p>
&lt;p>(1) virtual function (虚函数)&lt;/p>
&lt;p>(2) Override (覆写) : redefining a virtual function in a derived class. (在派生类中重定义一个虚函数)&lt;/p>
&lt;p>&lt;strong>同名虚函数的调用&lt;/strong>&lt;/p>
&lt;p>(1) 不由指针类型决定；&lt;/p>
&lt;p>(2) 而由指针所指的【实际对象】的类型决定&lt;/p>
&lt;p>(3) 运行时，检查指针所指对象类型&lt;/p>
&lt;p>&lt;strong>用途&lt;/strong>：可以用父类指针访问子类对象成员&lt;/p>
&lt;p>If a function is defined virtual in a base class, it is automatically virtual in all its derived classes. (基类定义了虚同名函数，那么派生类中的同名函数自动变为虚函数)&lt;/p>
&lt;p>类中保存着一个Virtual function table (虚函数表)&lt;/p>
&lt;p>Run-time binding (运行时联编/动态联编)&lt;/p>
&lt;p>More overhead in run-time than non-virtual function (比非虚函数开销大)&lt;/p>
&lt;p>基类与派生类中有同名函数&lt;/p>
&lt;p>(1) 通过派生类对象访问同名函数，是静态联编&lt;/p>
&lt;p>(2) 通过基类对象的指针访问同名函数，是静态联编&lt;/p>
&lt;p>(3) 通过基类对象的指针或引用访问同名虚函数，是动态联编&lt;/p>
&lt;h4 id="override-and-final">override and final
&lt;/h4>&lt;p>C++11引入override标识符，指定一个虚函数覆写另一个虚函数。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">foo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">bar&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">B&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">A&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="n">foo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="k">override&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// 错误： B::foo 不覆写 A::foo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="c1">// （签名不匹配）
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">foo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">override&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// OK ： B::foo 覆写 A::foo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">bar&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">override&lt;/span> &lt;span class="p">{}&lt;/span> &lt;span class="c1">// 错误： A::bar 非虚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">B&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">foo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">override&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="c1">// 错误： override只能放到类内使用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>C++11引入final特殊标识符，指定派生类不能覆写虚函数&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">Base&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">foo&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">A&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">Base&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">foo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">final&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// A::foo 被覆写且是最终覆写
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">bar&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">final&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 错误：非虚函数不能被覆写或是 final
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">B&lt;/span> &lt;span class="k">final&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">A&lt;/span> &lt;span class="c1">// struct B 为 final，不能被继承
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">foo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">override&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 错误： foo 不能被覆写，因为它在 A 中是 final
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>struct可与class互换；差别在于struct的默认访问属性是public&lt;/p>
&lt;h2 id="structured-binding-declarationc17">Structured Binding Declaration（c++17）
&lt;/h2>&lt;p>结构化绑定声明&lt;/p>
&lt;h4 id="for-array">for Array
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>cv-auto &amp;amp;/&amp;amp;&amp;amp;(可选) [标识符列表] = 表达式;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>cv-auto &amp;amp;/&amp;amp;&amp;amp;(可选) [标识符列表] { 表达式 };&lt;/p>
&lt;/li>
&lt;li>
&lt;p>cv-auto &amp;amp;/&amp;amp;&amp;amp;(可选) [标识符列表] ( 表达式 );&lt;/p>
&lt;p>cv-auto: 可能由const/volatile修饰的auto关键字&lt;/p>
&lt;p>&amp;amp;/&amp;amp;&amp;amp; 左值引用或者右值引用&lt;/p>
&lt;p>标识符列表：逗号分隔的标识符&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">priArr&lt;/span> &lt;span class="p">[]&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">42&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">21&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ai/bi/ci 的基本类型都是int，只是cv标识或引用标识不同
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">auto&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">a1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">priArr&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// a1 是 priArr[0] 的拷贝，a2, a3类推
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="k">auto&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">b1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">priArr&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// b1 是 priArr[0] 的只读拷贝，b2, b3类推
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">auto&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">c1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">priArr&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">// c1 是 priArr[0] 的引用，c2, c3类推
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">c3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// priArr[2]的值变为14
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span> &lt;span class="n">stdArr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="sc">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="sc">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="sc">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">auto&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">d1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">stdArr&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="for-object-member">for Object member
&lt;/h4>&lt;p>若初始化表达式为类/结构体类型，则标识符列表中的名字绑定到类/结构体的非静态数据成员上&lt;/p>
&lt;ol>
&lt;li>
&lt;pre>&lt;code> 数据成员必须为公有成员
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;pre>&lt;code> 标识符数量必须等于数据成员的数量
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;pre>&lt;code> 标识符类型与数据成员类型一致
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ol>
&lt;h2 id="string-literals">String Literals
&lt;/h2>&lt;h4 id="c11-raw-string-literals">C++11 Raw String Literals
&lt;/h4>&lt;p>R &amp;ldquo;&lt;em>delimiter( raw_characters )delimiter&lt;/em>&amp;rdquo;&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">s3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="s">&amp;#34;NoUse(Hello &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">World&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">NoUse&lt;/span>&lt;span class="s">&amp;#34;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">s1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="s">&amp;#34;(Hello&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">World&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="s">&amp;#34;;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="c14-string-literals">C++14: String Literals
&lt;/h4>&lt;p>C++14将运算符 &amp;ldquo;&amp;ldquo;s 进行了重载，赋予了它新的含义，使得用这种运算符括起来的字符串字面量，自动变成了一个 std::string 类型的对象。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span> &lt;span class="n">hello&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Hello!&amp;#34;&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// hello is of std::string type
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span> &lt;span class="n">hello&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Hello!&amp;#34;&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">// equals to the above
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span> &lt;span class="n">hello&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Hello!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// hello is of const char* type
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="array类">array类
&lt;/h2>&lt;h4 id="c-style-array-c-raw-array也叫做c原生数组">C Style Array (C++ raw array，也叫做C++原生数组)
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">[&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>arr 可能会退化为指针：void f(int a[]) { std::cout &amp;laquo; sizeof(a)/sizeof(a[0]); }&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>
&lt;p>arr 不知道自己的大小： sizeof(arr)/sizeof(arr[0])&lt;/p>
&lt;/li>
&lt;li>
&lt;p>两个数组之间无法直接赋值: array1 = array2;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>不能自动推导类型：auto a1[] = {1,2,3};&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="c-style-array">C++ Style Array
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>是一个容器类，所以有迭代器（可以认为是一种用于访问成员的高级指针）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>可直接赋值&lt;/p>
&lt;/li>
&lt;li>
&lt;p>知道自己大小：size()&lt;/p>
&lt;/li>
&lt;li>
&lt;p>能和另一个数组交换内容：swap()&lt;/p>
&lt;/li>
&lt;li>
&lt;p>能以指定值填充自己: fill()&lt;/p>
&lt;/li>
&lt;li>
&lt;p>取某个位置的元素( 做越界检查) ：at()&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>C++数组类是一个模板类，可以容纳任何类型的数据&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;array&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span> &lt;span class="err">数组&lt;/span> &lt;span class="err">类型&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">数组大小&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="err">数组名字&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span> &lt;span class="err">数组&lt;/span> &lt;span class="err">类型&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">数组大小&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="err">数组&lt;/span> &lt;span class="err">名字&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="err">值&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">值&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">…&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>限制与C风格数组相同&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="sc">&amp;#39;H&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="sc">&amp;#39;e&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="sc">&amp;#39;l&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="sc">&amp;#39;l&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="sc">&amp;#39;o&amp;#39;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>C++17 Type Deduction for std::array (std::array的类型推导)&lt;/p>
&lt;p>C++17引入了一种新特性，对类模板的参数进行推导&lt;/p>
&lt;p>示例：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span> &lt;span class="n">a1&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">// 推导出 std::array&amp;lt;int, 3&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span> &lt;span class="n">a2&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="sc">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">// 推导出 std::array&amp;lt;char, 4&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="constant-expressions">Constant Expressions
&lt;/h2>&lt;p>Constant expression is an expression that can be evaluated at compile time. (常量表达式是编译期可以计算值的一个表达式)&lt;/p>
&lt;p>// 例如：C++ 数组的大小要求是编译期的一个常量（原生数组以及std::array）&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">n&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error: n is not a constant expression
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">cn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cn&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// OK: cn is a constant expression
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>const 修饰的对象未必是编译期常量&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">rcn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// rcn is runtime constant, compiler does
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// NOT know its value at compile-time
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rcn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error: rcn is read-only
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="n">rcn&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error: rcn is NOT known at compile-time
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>C++11 constexpr: 编译期常量表达式说明符&lt;/strong>&lt;/p>
&lt;p>constexpr specifier declares that it is possible to evaluate the value of the function or variable at compile time. (constexpr说明符声明可在编译时计算函数或变量的值)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">constexpr&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// c++11 引入 constexpr
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// c++14才允许constexpr函数中有分支循环等
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">rcm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// rcm是运行期常量
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">cm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 编译期常量，等价于: constexpr int cm = 4;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">a1&lt;/span>&lt;span class="p">[&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="n">rcm&lt;/span>&lt;span class="p">)];&lt;/span> &lt;span class="c1">// 错误：m &amp;amp; rcm 不是编译期常量
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cm&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// OK: cm 和 5 是编译期常量
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>const vs constexpr&lt;/strong>&lt;/p>
&lt;p>&lt;strong>const&lt;/strong> ： 告知程序员，const 修饰的内容是不会被修改的。主要目的是帮程序员避免bug 。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">s1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// C语言允许，但C++编译出错
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">*&lt;/span>&lt;span class="n">s1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="err">’&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// C语言中，语法正确，但运行时会出错
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">s2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;World&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// C++ 要求加const
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">*&lt;/span>&lt;span class="n">s2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// C++编译器报错
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>constexpr&lt;/strong> ：用在所有被要求使用“constant expression”的地方（就是constexpr 修饰的东西可以在编译期计算得到值），主要目的是让编译器能够&lt;strong>优化代码提升性能&lt;/strong> 。&lt;/p>
&lt;h2 id="assert">assert
&lt;/h2>&lt;p>assert:为c语言的宏（Macro）&lt;/p>
&lt;p>用法：&lt;/p>
&lt;p>包含头文件 &lt;cassert> 以调试模式编译程序&lt;/p>
&lt;p>assert( bool_expr ); // bool_expr 为假则中断程序&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">//C++17 类型参数推导
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">size_t&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">assert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//断言：i必须小于3，否则失败
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="assert依赖于ndebug-宏">assert()依赖于NDEBUG 宏
&lt;/h4>&lt;p>NDEBUG这个宏是C/C++标准规定的，所有编译器都有对它的支持。&lt;/p>
&lt;p>(1) 调试(Debug)模式编译时，编译器不会定义NDEBUG，所以assert()宏起作用。&lt;/p>
&lt;p>(2) 发行(Release)模式编译时，编译器自动定义宏NDEBUG，使assert不起作用&lt;/p>
&lt;p>如果要强制使得assert()生效或者使得assert()不生效，只要手动 #define NDEBUG 或者 #undef NDEBUG即可。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#undef NDEBUG &lt;/span>&lt;span class="c1">// 强制以debug模式使用&amp;lt;cassert&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;Enter an int: &amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">assert&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="s">&amp;#34;i must be positive&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="static_assertc11静态断言">static_assert(C++11静态断言)
&lt;/h4>&lt;p>static_assert ( bool_constexpr, message)&lt;/p>
&lt;p>(1) bool_constexpr: &lt;strong>编译期常量表达式&lt;/strong>，可转换为bool 类型，不可出现变量表达式&lt;/p>
&lt;p>(2) message: 字符串字面量 ，是断言失败时显示的警告信息。自C++17起，message是可选的&lt;/p>
&lt;h2 id="声明与定义">声明与定义
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>A declaration introduces an identifier and describes its type, be it a type, object, or function. A declaration is what the &lt;strong>compiler&lt;/strong> needs to accept references to that identifier. (“声明”是引入标识符并描述其类型，无论是类型，对象还是函数。&lt;strong>编译器&lt;/strong>需要该“声明”，以便识别在它处使用该标识符。)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">extern&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">bar&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">extern&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">g&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">double&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// extern can be omitted for function declarations
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">foo&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// no extern allowed for type declarations
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>A definition actually instantiates/implements this identifier. It&amp;rsquo;s what the &lt;strong>linker&lt;/strong> needs in order to link references to those entities (“定义”实例化/实现这个标识符。&lt;strong>链接器&lt;/strong>需要“定义”，以便将对标识符的引用链接到标识符所表示的实体)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">bar&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">g&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">lhs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">rhs&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="n">lhs&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">rhs&lt;/span>&lt;span class="p">;}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">;}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">foo&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>区别&lt;/strong>&lt;/p>
&lt;p>（1） A definition can be used in the place of a declaration ( 定义有时可取代声明，反之则不行)&lt;/p>
&lt;p>（2） An identifier can be declared more than once, but can be defined only once ( 标识符可被声明多次，但只能定义一次&lt;/p>
&lt;p>（3） 定义通常伴随着编译器为标识符分配内存&lt;/p>
&lt;p>&lt;strong>总结&lt;/strong>&lt;/p>
&lt;p>(1) Declaration: &amp;ldquo;Somewhere, there exists a foo.&amp;rdquo; ( 声明：某个地方有个foo)&lt;/p>
&lt;p>(2) Definition: &amp;ldquo;&amp;hellip;and here it is!&amp;rdquo; ( 定义：它在这儿，长成这样)&lt;/p>
&lt;h2 id="实现与声明分离seperating-declaration-from-implementation">实现与声明分离（Seperating Declaration from Implementation）
&lt;/h2>&lt;p>C++ allows you to separate class declaration from implementation. (C++中，类声明与实现可以分离)&lt;/p>
&lt;p>(1) .h: 类声明，描述类的结构&lt;/p>
&lt;p>(2) .cpp: 类实现，描述类方法的实现&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">FunctionType&lt;/span> &lt;span class="n">ClassName&lt;/span> &lt;span class="o">::&lt;/span> &lt;span class="n">FunctionName&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Arguments&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//… }
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>其中，:: 这个运算符被称为binary scope resolution operator（二元作用域解析运算符），简称“域分隔符”&lt;/p>
&lt;p>When a function is implemented inside a class declaration, it automatically becomes an inline function. (当函数在类声明中实现，它自动成为内联函数)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">default&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//C++11
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">double&lt;/span> &lt;span class="nf">f1&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// f1自动称为内联函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">double&lt;/span> &lt;span class="nf">f2&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">f2&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// f2不是内联函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">default&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//C++11
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">double&lt;/span> &lt;span class="nf">f1&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">double&lt;/span> &lt;span class="nf">f2&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">f2&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">inline&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">A&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">f1&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// f1是内联函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="避免头文件被多次包含">避免头文件被多次包含
&lt;/h2>&lt;ul>
&lt;li>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#ifndef MY_HEADER_FILE_H
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#define MY_HEADER_FILE_H
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1">//CONTENT
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="cp">#endif
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#pragma once &lt;/span>&lt;span class="c1">//c++03,c90
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">_Pragma&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;once&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="c1">//c++11,c99
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>实际上为运算符&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="文件系统">文件系统
&lt;/h2>&lt;p>About std::filesystem(std::filesystem简介)&lt;/p>
&lt;p>C++17 std::filesystem provides facilities for performing operations on file systems and their components, such as paths, regular files, and directories。（标准库的filesystem提供在文件系统与其组件，例如路径、常规文件与目录上进行操作的方法）&lt;/p>
&lt;ul>
&lt;li>
&lt;p>File(文件)：持有数据的文件系统对象，能被写入或读取。文件有名称和属性，属性之一是文件类型&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Path(路径)：标识文件所处位置的一系列元素，可能包含文件名&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">namespace&lt;/span> &lt;span class="n">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">filesystem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fs&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">path&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="s">&amp;#34;CheckPath.cpp&amp;#34;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>Absolute Path (platform dependent) (绝对路径)：An absolute path contains a file name with its complete path and drive letter.(包含完整的路径和驱动器符号)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Relative Path (相对路径)&lt;/p>
&lt;p>Contains NO drive letter or leading &amp;ldquo;/&amp;rdquo; (不包含驱动器及开头的/符号)&lt;/p>
&lt;p>The file stores in the path Relative to &amp;ldquo;Current Path&amp;rdquo; (文件存在相对于“当前路径”的位置)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>OS Type&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Absolute path&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Directory path&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Windows(case insensitive)&lt;/td>
&lt;td>&lt;strong>c:\example\scores.txt&lt;/strong>&lt;/td>
&lt;td>c:\example&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Unix/Linux(case sensitive)&lt;/td>
&lt;td>&lt;strong>/home/cyd/scores.txt&lt;/strong>&lt;/td>
&lt;td>/home/cyd&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ol start="3">
&lt;li>Differences between Windows and Linux(两种操作系统的不同)&lt;/li>
&lt;/ol>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;strong>Windows&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Linux&lt;/strong>&lt;/th>
&lt;th>&lt;strong>C++&lt;/strong>&lt;/th>
&lt;th>&lt;strong>java&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>行结束字符&lt;/td>
&lt;td>\r\n&lt;/td>
&lt;td>\n&lt;/td>
&lt;td>-&lt;/td>
&lt;td>System.getProperty(&amp;ldquo;line.separator&amp;rdquo;);&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>路径名分隔符&lt;/td>
&lt;td>&amp;lsquo;\&amp;rsquo;&lt;/td>
&lt;td>&amp;lsquo;/&amp;rsquo;&lt;/td>
&lt;td>std::filesystem::path::preferred_separator&lt;/td>
&lt;td>java.io.File.separator&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>路径名&lt;/td>
&lt;td>a:\b\c 或\host\b\c&lt;/td>
&lt;td>/a/b/c&lt;/td>
&lt;td>std::filesystem::path&lt;/td>
&lt;td>-&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// The directory separator for Windows is a backslash (\), which needs special treat
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">namespace&lt;/span> &lt;span class="n">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">filesystem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fs&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">path&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;d:&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s">cpp&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s">hi.txt&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 字符串中的反斜杠要被转义
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fs&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">path&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;d:/cpp/hi.txt&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Windows也支持正斜杠
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fs&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">path&lt;/span> &lt;span class="n">p3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="s">&amp;#34;(d:\cpp\hi.txt)&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c1">// 使用原始字符串字面量
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="path类">Path类
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>Members functions of path class(path类的成员函数)&lt;/p>
&lt;p>&lt;strong>构造&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>path(string)&lt;/p>
&lt;p>构造函数&lt;/p>
&lt;/li>
&lt;li>
&lt;p>assign(string): path&amp;amp;&lt;/p>
&lt;p>为路径对象赋值&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>连接&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>append(type p): path&amp;amp;&lt;/p>
&lt;p>将p追加到路径后。type是string、path或const char*。等价于 /= 运算符；自动添加目录分隔符&lt;/p>
&lt;/li>
&lt;li>
&lt;p>concat(type p): path&amp;amp;&lt;/p>
&lt;p>将p追加到路径后。type是string、path或const char*。等价于+=运算符；不自动添加目录分隔符&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>修改器&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>clear(): void&lt;/p>
&lt;p>清空存储的路径名&lt;/p>
&lt;/li>
&lt;li>
&lt;p>remove_filename(): path&amp;amp;&lt;/p>
&lt;p>从给定的路径中移除文件名&lt;/p>
&lt;/li>
&lt;li>
&lt;p>replace_filename(const path&amp;amp; replacement): path&amp;amp;&lt;/p>
&lt;p>以 replacement 替换文件名&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>分解&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>root_name(): path&lt;/p>
&lt;p>返回通用格式路径的根名&lt;/p>
&lt;/li>
&lt;li>
&lt;p>root_directory(): path&lt;/p>
&lt;p>返回通用格式路径的根目录&lt;/p>
&lt;/li>
&lt;li>
&lt;p>root_path(): path&lt;/p>
&lt;p>返回路径的根路径，等价于 root_name() / root_directory()，即“路径的根名 / 路径的根目录”&lt;/p>
&lt;/li>
&lt;li>
&lt;p>relative_path(): path&lt;/p>
&lt;p>返回相对于 root-path 的路径&lt;/p>
&lt;/li>
&lt;li>
&lt;p>parent_path(): path&lt;/p>
&lt;p>返回到父目录的路径&lt;/p>
&lt;/li>
&lt;li>
&lt;p>filename(): path&lt;/p>
&lt;p>返回路径中包含的文件名&lt;/p>
&lt;/li>
&lt;li>
&lt;p>stem(): path&lt;/p>
&lt;p>返回路径中包含的文件名，不包括文件的扩展名&lt;/p>
&lt;/li>
&lt;li>
&lt;p>extension(): path&lt;/p>
&lt;p>返回路径中包含的文件名的扩展名&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>查询&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>empty(): bool&lt;/p>
&lt;p>检查路径是否为空&lt;/p>
&lt;/li>
&lt;li>
&lt;p>has_xxx(): bool&lt;/p>
&lt;p>其中“xxx”是上面“分解”类别中的函数名。这些函数检查路径是否含有相应路径元素&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Non-member functions (非成员函数)&lt;/p>
&lt;ul>
&lt;li>
&lt;p>operator/( const path&amp;amp; lhs, const path&amp;amp; rhs )&lt;/p>
&lt;p>以偏好目录分隔符连接二个路径成分 lhs 和 rhs。比如 path p{&amp;ldquo;C:&amp;rdquo;}; p = p / &amp;ldquo;Users&amp;rdquo; / &amp;ldquo;batman&amp;rdquo;;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>operator &amp;laquo;, &amp;raquo; (path p)&lt;/p>
&lt;p>进行路径 p 上的流输入或输出&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>文件类型&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>s_regular_file( const path&amp;amp; p ): bool&lt;/p>
&lt;p>检查路径是否是常规文件&lt;/p>
&lt;/li>
&lt;li>
&lt;p>is_directory( const path&amp;amp; p ): bool&lt;/p>
&lt;p>检查路径是否是目录&lt;/p>
&lt;/li>
&lt;li>
&lt;p>is_empty( const path&amp;amp; p ): bool&lt;/p>
&lt;p>检查给定路径是否指代一个空文件或目录&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>查询&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>current_path(): path&lt;/p>
&lt;p>返回当前工作目录的绝对路径（类似linux指令 pwd）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>current_path( const path&amp;amp; p ): void&lt;/p>
&lt;p>更改当前路径为p （类似linux指令 cd）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>file_size( const path&amp;amp; p ): uintmax_t&lt;/p>
&lt;p>对于常规文件 p ，返回其大小；尝试确定目录(以及其他非常规文件)的大小的结果是由编译器决定的&lt;/p>
&lt;/li>
&lt;li>
&lt;p>space(const path&amp;amp; p): space_info&lt;/p>
&lt;p>返回路径名 p 定位于其上的文件系统信息。space_info中有三个成员：capacity ——文件系统的总大小(字节)，free ——文件系统的空闲空间(字节)，available ——普通进程可用的空闲空间（小于或等于 free ）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>status(const path&amp;amp; p): file_status&lt;/p>
&lt;p>返回 p 所标识的文件系统对象的类型与属性。返回的file_status是一个类，其中包含文件的类型(type)和权限(permissions)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>修改&lt;/p>
&lt;ul>
&lt;li>
&lt;p>remove(const path&amp;amp; p): bool&lt;/p>
&lt;p>删除路径 p 所标识的文件或空目录&lt;/p>
&lt;/li>
&lt;li>
&lt;p>remove_all(const path&amp;amp; p): uintmax_t&lt;/p>
&lt;p>递归删除 p 的内容（若它是目录）及其子目录的内容，然后删除 p 自身，返回被删文件及目录数量&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rename(const path&amp;amp; old_p,const path&amp;amp; new_p): void&lt;/p>
&lt;p>移动或重命名 old_p 所标识的文件系统对象到 new_p(类似linux指令mv)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>copy( const path&amp;amp; from, const path&amp;amp; to ): void&lt;/p>
&lt;p>复制文件与目录。另外一个函数 bool copy_file(from, to) 拷贝单个文件&lt;/p>
&lt;/li>
&lt;li>
&lt;p>create_directory( const path&amp;amp; p ): bool&lt;/p>
&lt;p>创建目录 p （父目录必须已经存在）,若 p 已经存在，则函数无操作&lt;/p>
&lt;/li>
&lt;li>
&lt;p>create_directories( const path&amp;amp; p ): bool&lt;/p>
&lt;p>创建目录 p （父目录不一定存在）,若 p 已经存在，则函数无操作&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="comparision-of-file-manipulation-between-c-and-c-文件操作对比">Comparision of File Manipulation between C and C++ (文件操作对比)
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;th>C++&lt;/th>
&lt;th>C&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;strong>file input&lt;/strong>&lt;/td>
&lt;td>ifstream &lt;em>(i: input; f:file)&lt;/em>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Header File (头文件)&lt;/strong>&lt;/td>
&lt;td>&lt;strong>file output&lt;/strong>&lt;/td>
&lt;td>ofstream &lt;em>(o: ouput; f:file)&lt;/em>&lt;/td>
&lt;td>stdio.h&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;strong>file input &amp;amp; output&lt;/strong>&lt;/td>
&lt;td>fstream&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;strong>read from file (读文件)&lt;/strong>&lt;/td>
&lt;td>&amp;raquo;;get(); get(char); get(char*);getline();read(char*,streamsize);&lt;/td>
&lt;td>fscanf();fgets(char*, size_t , FILE*);fread(void *&lt;em>ptr&lt;/em>, &lt;em>size&lt;/em>, &lt;em>nitems&lt;/em>, FILE *&lt;em>stream&lt;/em>);&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Read/Write (读写操作)&lt;/strong>&lt;/td>
&lt;td>&lt;strong>write to file (写文件)&lt;/strong>&lt;/td>
&lt;td>&amp;laquo;;put(char), put(int);write (const char*, streamsize);flush()&lt;/td>
&lt;td>fprintf();fwrite(const void *&lt;em>ptr&lt;/em>, &lt;em>size&lt;/em>, &lt;em>nitems&lt;/em>, FILE &lt;em>&lt;em>stream&lt;/em>);fputs(const char&lt;/em>, FILE *);&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;strong>Status test (状态测试)&lt;/strong>&lt;/td>
&lt;td>eof(); bad(); good(); fail()&lt;/td>
&lt;td>feof(); ferror();&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="hierarchy-of-c-io-stream-classesc-io流类层次">Hierarchy of C++ I/O Stream Classes(C++ I/O流类层次)
&lt;/h4>&lt;p>&lt;img src="https://edu-image.nosdn.127.net/8C0A3ED498876420B3B389880C16AB06.jpg?imageView&amp;amp;thumbnail=890x0&amp;amp;quality=100"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>C++的流类主要有五类：&lt;/p>
&lt;ol>
&lt;li>
&lt;pre>&lt;code> 流基类（ios_base和ios）
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;pre>&lt;code> 标准输入输出流类（istream/ostream/iostream）
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;pre>&lt;code> 字符串流类（istringstream/ostringstream）
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;pre>&lt;code> 文件流类（ifstream/ofstream/fstream）
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;pre>&lt;code> 缓冲区类（streambuf/stringbuf/filebuf）
&lt;/code>&lt;/pre>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>标准输入输出流对象 cin 和 cout 分别是类 istream 和 ostream 的实例&lt;/strong>&lt;/p>
&lt;h4 id="输出至文件">&lt;strong>输出至文件&lt;/strong>
&lt;/h4>&lt;p>&lt;img src="https://edu-image.nosdn.127.net/25E9455E1328577B96EF36ED9E09C3E7.jpg?imageView&amp;amp;thumbnail=890x0&amp;amp;quality=100"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h4 id="自文件读入">自文件读入
&lt;/h4>&lt;p>&lt;img src="https://edu-image.nosdn.127.net/A08D7DA2B4D44442E89724B4256254CB.jpg?imageView&amp;amp;thumbnail=890x0&amp;amp;quality=100"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>To read data correctly, you need to know exactly how data is stored.(若想正确读出数据，必须确切了解数据的存储格式)&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Testing if a file is successfully opened (检测文件是否成功打开)&lt;/p>
&lt;ul>
&lt;li>Errors may occur (可能出现错误):
&lt;ul>
&lt;li>the file does not exist when reading a file (读文件时文件不存在)&lt;/li>
&lt;li>the media is ReadOnly when writing a file (e.g. write to a CD) (写文件时介质只读)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>To detect if a file is successfully opened: (检测文件是否正确打开的方法)&lt;/li>
&lt;/ul>
&lt;p>invoke fail() immediately after open(). (open()之后马上调用fail()函数), if fail() returns true, the file is not opened (does not exist). (fail()返回true, 文件未打开)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ofstream&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;scores.txt&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">fail&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="s">&amp;#34;(Can&amp;#39;t open file &amp;#34;&lt;/span>&lt;span class="n">scores&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">txt&lt;/span>&lt;span class="s">&amp;#34;!)&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>Testing End of File (检测是否已到文件末尾)&lt;/p>
&lt;p>Use eof() function to detect the end of file (用eof()函数检查是否是文件末尾)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ifstream&lt;/span> &lt;span class="nf">in&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;scores.txt&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">eof&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="k">static_cast&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="functions-for-io-stream">Functions for I/O stream
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>getline()&lt;/p>
&lt;p>member function getline(char* buf, int size, char delimiter)&lt;/p>
&lt;p>non-member function std::getline(istream&amp;amp; is, string&amp;amp; str, char delimiter)&lt;/p>
&lt;p>When using (&amp;raquo;), data are delimited by whitespace. (&amp;raquo;运算符用空格分隔数据)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">constexpr&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">SIZE&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">40&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="n">SIZE&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">eof&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="c1">// not end of file
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">[&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="n">SIZE&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;#&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">[&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">name2&lt;/span>&lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">input&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">eof&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">getline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">name2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;#&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>get() and put()&lt;/p>
&lt;p>Two other useful functions are get and put.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>get: read a character&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">istream&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">istream&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">get&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">is&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>put:write a character.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ostream&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">put&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">char&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>flush()&lt;/p>
&lt;p>Flush output stream buffer (将输出流缓存中的数据写入目标文件)&lt;/p>
&lt;p>ostream&amp;amp; flush();&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">flush&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// 其它输出流对象也可以调用 flush()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">flush&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 与endl类似作为manipulator的调用方式
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="格式化输出">格式化输出
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>setw manipulator(“设置域宽”控制符)&lt;/p>
&lt;p>要包含头文件 &lt;iomanip>&lt;/p>
&lt;p>setw(n) 设置域宽，即数据所占的总字符数&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">setw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="sc">&amp;#39;a&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//_ _a
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>setw()控制符只对其后输出的第一个数据有效，其他控制符则对其后的所有输入输出产生影响。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">setw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="sc">&amp;#39;a&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="sc">&amp;#39;b&amp;#39;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//_ _ _ _ab
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>setw()的默认为setw(0)，按实际输出&lt;/p>
&lt;p>如果输出的数值占用的宽度超过setw(int n)设置的宽度，则按实际宽度输出。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>setprecision manipulator(“设置浮点精度”控制符)&lt;/p>
&lt;p>setprecision(int n)&lt;/p>
&lt;p>(1) 控制显示浮点数的有效位&lt;/p>
&lt;p>(2) n代表数字总位数&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iomanip&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">17&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mf">7.0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">setprecision&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">setprecision&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">setprecision&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">setprecision&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">setprecision&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">setprecision&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>setfill manipulator(“设置填充字符”控制符)&lt;/p>
&lt;p>setfill(c)&lt;/p>
&lt;p>设置填充字符，即“&amp;laquo;&amp;ldquo;符号后面的数据长度小于域宽时，使用什么字符进行填充&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">setfill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;*&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">setw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="sc">&amp;#39;a&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//****a
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>控制符&lt;/strong>&lt;/th>
&lt;th>&lt;strong>用途&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>setw(width)&lt;/td>
&lt;td>设置输出字段的宽度(仅对其后第一个输出有效)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>setprecision(n)&lt;/td>
&lt;td>设置浮点数的输/入出精度(总有效数字个数等于n)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>fixed&lt;/td>
&lt;td>将浮点数以定点数形式输入/出(小数点后有效数字个数等于setprecision指定的n)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>showpoint&lt;/td>
&lt;td>将浮点数以带小数点和结尾0的形式输入/出，即便该浮点数没有小数部分&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>left&lt;/td>
&lt;td>输出内容左对齐&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>right&lt;/td>
&lt;td>输出内容右对齐&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>hexfloat/defaultfloat&lt;/td>
&lt;td>C++11新增；前者以定点科学记数法的形式输出十六进制浮点数，后者还原默认浮点格式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>get_money(money)put_money(money)&lt;/td>
&lt;td>C++11新增；从流中读取货币值，或者将货币值输出到流。支持不同语言和地区的货币格式https://en.cppreference.com/w/cpp/io/manip/get_moneyhttps://en.cppreference.com/w/cpp/io/manip/put_money&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>get_time(tm, format)put_time(tm,format)&lt;/td>
&lt;td>C++11新增；从流中读取日期时间值，或者将日期时间值输出到流。https://en.cppreference.com/w/cpp/io/manip/get_timehttps://en.cppreference.com/w/cpp/io/manip/put_time&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The stream manipulator also works to format output to a file(流控制符同样可以用于文件输入/输出)&lt;/p>
&lt;h4 id="file-open-mode">File Open Mode
&lt;/h4>&lt;p>When opening an &lt;em>fstream&lt;/em> object, a &amp;ldquo;file open mode&amp;rdquo; should be specified(创建fstream对象时，应指定文件打开模式)。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>Mode(模式)&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Description(描述)&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>ios::in&lt;/td>
&lt;td>打开文件读数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ios::out&lt;/td>
&lt;td>打开文件写数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ios::app&lt;/td>
&lt;td>把输出追加到文件末尾。app = append&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ios::ate&lt;/td>
&lt;td>打开文件，把文件光标移到末尾。ate = at end&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ios::trunc&lt;/td>
&lt;td>若文件存在则舍弃其内容。这是ios::out的默认行为。trunc = truncate&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ios::binary&lt;/td>
&lt;td>打开文件以二进制模式读写&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">fstream&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">ios&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">app&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">ios&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">binary&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h6 id="open-mode">Open Mode
&lt;/h6>&lt;p>Combine several modes (几种模式可以组合在一起)&lt;/p>
&lt;p>using the | operator (bitwise inclusive OR) (用“位或”运算符)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// std::ios_base::openmode 被ios继承
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">typedef&lt;/span> &lt;span class="cm">/*implementation defined*/&lt;/span> &lt;span class="n">openmode&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">static&lt;/span> &lt;span class="k">constexpr&lt;/span> &lt;span class="n">openmode&lt;/span> &lt;span class="n">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="cm">/*implementation defined*/&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="binary-io">Binary IO
&lt;/h4>&lt;p>TEXT file vs BINARY file (not technically precise) (文本文件与二进制文件)&lt;/p>
&lt;p>(1) Both stores as a sequence of bits (in binary format) (都按二进制格式存储比特序列)&lt;/p>
&lt;p>(2) text file : interpreted as a sequence of characters (解释为一系列字符)&lt;/p>
&lt;p>(3) binary file : interpreted as a sequence of bits. (解释为一系列比特)&lt;/p>
&lt;p>Text I/O is built upon binary I/O to provide a level of abstraction for character encoding and decoding. (文本模式的读写是建立在二进制模式读写的基础上的，只不过是将二进制信息进行了字符编解码)&lt;/p>
&lt;p>By default, a file is opened in text mode.(文件默认以文本模式打开)&lt;/p>
&lt;p>open a file using the binary mode ios::binary.(用ios::binary以二进制模式打开文件)&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;strong>Text I/O (文本模式)&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Binary I/O function:(二进制模式)&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>读&lt;/td>
&lt;td>operator &amp;raquo;; get(); getline();&lt;/td>
&lt;td>read();&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>写&lt;/td>
&lt;td>operator &amp;laquo;; put();&lt;/td>
&lt;td>write();&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h5 id="the-write-function-write函数">The write Function (write函数)
&lt;/h5>&lt;p>ostream&amp;amp; write( const char* s, std::streamsize count )&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">fstream&lt;/span> &lt;span class="nf">fs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;GreatWall.dat&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ios&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">binary&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">ios&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">trunc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;ShanHaiGuan&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">JuYongGuan&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>将非字符数据写入文件&lt;/p>
&lt;p>(1) Convert any data into a sequence of bytes (byte stream) (先将数据转换为字节序列，即字节流)&lt;/p>
&lt;p>(2) Write the sequence of bytes to file with write() (再用write函数将字节序列写入文件)&lt;/p>
&lt;p>&lt;strong>How to convert any data into byte stream? (如何将信息转换为字节流)&lt;/strong>&lt;/p>
&lt;p>2.1. reinterpret_cast&lt;/p>
&lt;p>该运算符有两种用途：&lt;/p>
&lt;p>(1) cast the address of a type to another type (将一种类型的地址转为另一种类型的地址)&lt;/p>
&lt;p>(2) cast the address to a number, i.e. integer (将地址转换为数值，比如转换为整数)&lt;/p>
&lt;p>&lt;strong>语法&lt;/strong>：&lt;/p>
&lt;p>&lt;strong>reinterpret_cast&lt;dataType>(address)&lt;/strong>&lt;/p>
&lt;p>address is the starting address of the data (address是待转换的数据的起始地址)&lt;/p>
&lt;p>dataType is the data type you are converting to. (dataType是要转至的目标类型)&lt;/p>
&lt;p>&lt;strong>For binary I/O, dataType is char &lt;em>. (对于二进制I/O来说，dataType是 char&lt;/em>)&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">long&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">21&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">42&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">63&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">str&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">reinterpret_cast&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">*&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// variable address
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">reinterpret_cast&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">*&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// array address
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">p3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">reinterpret_cast&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">*&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// object address
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="the-read-function-read成员函数">The read Function (read成员函数)
&lt;/h5>&lt;p>istream&amp;amp; read ( char* s, std::streamsize count );&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 读字符串
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fstream&lt;/span> &lt;span class="nf">bio&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;GreatWall.dat&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ios&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">in&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">ios&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">binary&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">char&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">bio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;\0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">bio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 读其它类型数据（整数），需要使用 reinterpret_cast
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">fstream&lt;/span> &lt;span class="nf">bio&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;temp.dat&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ios&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">in&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">ios&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">binary&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">bio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">reinterpret_cast&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span> &lt;span class="o">*&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="file-positioner">File Positioner
&lt;/h4>&lt;p>文件位置指示器&lt;/p>
&lt;p>A file consists of a sequence of bytes.(文件由字节序列构成)&lt;/p>
&lt;p>File positioner is a special marker that is positioned at one of these bytes. (一个特殊标记指向其中一个字节)&lt;/p>
&lt;p>A read or write operation takes place at the location of the file positioner. (读写操作都是从文件位置指示器所标记的位置开始)&lt;/p>
&lt;p>When a file is opened, the fp is set at the beginning. (打开文件，fp指向文件头)&lt;/p>
&lt;p>When you read or write data to the file, the file pointer moves forward to the next data item. (读写文件时，文件位置指示器会向后移动到下一个数据项)&lt;/p>
&lt;h4 id="random-acess">Random Acess
&lt;/h4>&lt;p>Random Access means one can read/write anywhere inside a file(随机访问意味着可以读写文件的任意位置)&lt;/p>
&lt;p>How?&lt;/p>
&lt;p>We are able to know where the file positioner is. (我们能知道文件定位器在什么位置)&lt;/p>
&lt;p>We are able to move the file positioner inside the file (我们能在文件中移动文件定位器)&lt;/p>
&lt;p>Maybe we need two file positioners : one for reading, another for writing&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>·&lt;/strong>&lt;/th>
&lt;th>&lt;strong>For reading (读文件时用)&lt;/strong>&lt;/th>
&lt;th>&lt;strong>For writing(写文件时用)&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>获知文件定位器指到哪里&lt;/td>
&lt;td>&lt;em>tellg();&lt;/em> tell是获知，g是get表示读文件&lt;/td>
&lt;td>&lt;em>tellp();&lt;/em> tell是获知，p是put表示写文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>移动文件定位器到指定位置&lt;/td>
&lt;td>&lt;em>seekg();&lt;/em> seek是寻找，g是get表示读文件&lt;/td>
&lt;td>&lt;em>seekp();&lt;/em> seek是寻找，p是put表示写文件&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>xxx_stream&amp;amp; seekg/seekp( pos_type pos );&lt;/p>
&lt;p>xxx_stream&amp;amp; seekg/seekp( off_type off, std::ios_base::seekdir dir);&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>seekdir&lt;/strong> &lt;strong>文件定位方向类型&lt;/strong>&lt;/th>
&lt;th>&lt;strong>解释&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>std::ios_base::beg&lt;/td>
&lt;td>流的开始；beg = begin&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>std::ios_base::end&lt;/td>
&lt;td>流的结尾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>std::ios_base::cur&lt;/td>
&lt;td>流位置指示器的当前位置；cur = current&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>例子&lt;/strong>&lt;/th>
&lt;th>&lt;strong>解释&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>seekg(42L);&lt;/td>
&lt;td>将文件位置指示器移动到文件的第42字节处&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>seekg(10L, std::ios::beg);&lt;/td>
&lt;td>将文件位置指示器移动到从文件开头算起的第10字节处&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>seekp(-20L, std::ios::end);&lt;/td>
&lt;td>将文件位置指示器移动到从文件末尾开始，倒数第20字节处&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>seekp(-36L, std::ios::cur);&lt;/td>
&lt;td>将文件位置指示器移动到从当前位置开始，倒数第36字节处&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="left-value-pure-right-value-and-expiring-value">Left Value, Pure Right Value and eXpiring Value
&lt;/h2>&lt;h4 id="c03-lvalue-and-rvalue-c03的左值和右值">C++03 lvalue and rvalue (C++03的左值和右值)
&lt;/h4>&lt;p>通俗理解&lt;/p>
&lt;p>(1) 能放在等号左边的是lvalue&lt;/p>
&lt;p>(2) 只能放在等号右边的是rvalue&lt;/p>
&lt;p>(3) lvalue可以作为rvalue使用&lt;/p>
&lt;h4 id="c11-left-value">C++11: Left Value
&lt;/h4>&lt;p>An lvalue designates a function or an object, which is an expression whose address can be taken (左值指定了一个&lt;strong>函数或者对象&lt;/strong>，它是一个可以取地址的表达式)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">lv1&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">42&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// Object
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">lv2&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="n">lv1&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// Lvalue reference to Object
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">lv3&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">lv1&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// Pointer to Object
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">lv4&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">lv1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="c1">// Function returning Lvalue Reference
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="c11-pure-right-value">C++11: Pure Right Value
&lt;/h4>&lt;p>prvalue(Pure Right Value，纯右值)：是不和对象相关联的值(字面量)或者其求值结果是&lt;strong>字面量&lt;/strong>或者一个匿名的&lt;strong>临时对象&lt;/strong>&lt;/p>
&lt;p>(1) 除字符串字面量以外的字面量，比如 32, &amp;lsquo;a&amp;rsquo;&lt;/p>
&lt;p>(2) 返回非引用类型的函数调用 int f() { return 1;}&lt;/p>
&lt;p>(3) 后置自增/自减表达式i++/i&amp;ndash;&lt;/p>
&lt;p>(4) 算术/逻辑/关系表达式（a+b、a&amp;amp;b、a&amp;laquo;b）（a&amp;amp;&amp;amp;b、a||b、~a）（a==b、a&amp;gt;=b、a&amp;lt;b）&lt;/p>
&lt;p>(5) 取地址（&amp;amp;x）&lt;/p>
&lt;p>&lt;strong>左值可以当成右值使用&lt;/strong>&lt;/p>
&lt;h4 id="c11-expiring-value">C++11: eXpiring Value
&lt;/h4>&lt;p>xvalue(eXpiring Value，将亡值)：将亡值也指定了一个对象，是一个将&lt;strong>纯右值转换为右值引用&lt;/strong>的表达式&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">prv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="c1">// pure rvalue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">lvr5&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">21&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// 常量左值引用可引用纯右值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">lvr6&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">22&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// 错！非常量左值引用不可引用纯右值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">rvr1&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="mi">22&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// 右值引用可以引用纯右值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">lvr7&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="n">prv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// 错！非常量左值引用不可引用纯右值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">rvr2&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="n">prv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// 右值引用普通函数返回值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rvr1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">rvr2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 右值引用做左值使用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="运算符重载">运算符重载
&lt;/h2>&lt;p>不可重载的运算符&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Operator&lt;/th>
&lt;th>Name&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>.&lt;/td>
&lt;td>&lt;strong>类属关系运算符&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>.*&lt;/td>
&lt;td>&lt;strong>成员指针运算符&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>::&lt;/td>
&lt;td>&lt;strong>作用域运算符&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>? :&lt;/td>
&lt;td>&lt;strong>条件运算符&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>##&lt;/td>
&lt;td>&lt;strong>编译预处理符号&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>Restrictions for operator overloading (运算符重载的限制)&lt;/strong>&lt;/p>
&lt;p>(1) Precedence and Associativity are unchangeable (优先级和结合性不变)&lt;/p>
&lt;p>(2) NOT allowing to create new operator (不可创造新的运算符)&lt;/p>
&lt;p>重载的运算符必须和用户定义的class类型一起使用&lt;/p>
&lt;p>重载的运算符的参数至少应有一个是类对象(或类对象的引用)&lt;/p>
&lt;p>&lt;img src="https://edu-image.nosdn.127.net/26D6D0D7CCEA9856BC70B29511F82886.jpg?imageView&amp;amp;thumbnail=890x0&amp;amp;quality=100"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h3 id="运算符函数的调用形式">运算符函数的调用形式
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>表达式&lt;/th>
&lt;th>作为成员函数&lt;/th>
&lt;th>作为非成员函数&lt;/th>
&lt;th>示例&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>@a&lt;/td>
&lt;td>(a).operator@ ( )&lt;/td>
&lt;td>operator@ (a)&lt;/td>
&lt;td>调用 &lt;a class="link" href="https://zh.cppreference.com/w/cpp/io/cin" target="_blank" rel="noopener"
>std::cin&lt;/a>.operator!()&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>a@b&lt;/td>
&lt;td>(a).operator@ (b)&lt;/td>
&lt;td>operator@ (a, b)&lt;/td>
&lt;td>&lt;a class="link" href="https://zh.cppreference.com/w/cpp/io/cout" target="_blank" rel="noopener"
>std::cout&lt;/a> &amp;laquo; 42 调用 &lt;a class="link" href="https://zh.cppreference.com/w/cpp/io/cout" target="_blank" rel="noopener"
>std::cout&lt;/a>.operator&amp;laquo;(42)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>a=b&lt;/td>
&lt;td>(a).operator= (b)&lt;/td>
&lt;td>不能是非成员&lt;/td>
&lt;td>&lt;a class="link" href="https://zh.cppreference.com/w/cpp/string/basic_string" target="_blank" rel="noopener"
>std::string&lt;/a> s; s = &amp;ldquo;abc&amp;rdquo;; 调用 s.operator=(&amp;ldquo;abc&amp;rdquo;)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>a(b&amp;hellip;)&lt;/td>
&lt;td>(a).operator()(b&amp;hellip;)&lt;/td>
&lt;td>不能是非成员&lt;/td>
&lt;td>&lt;a class="link" href="https://zh.cppreference.com/w/cpp/numeric/random/random_device" target="_blank" rel="noopener"
>std::random_device&lt;/a> r; auto n = r(); 调用 r.operator()()&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>a[b]&lt;/td>
&lt;td>(a).operator&lt;a class="link" href="b" >&lt;/a>&lt;/td>
&lt;td>不能是非成员&lt;/td>
&lt;td>&lt;a class="link" href="https://zh.cppreference.com/w/cpp/container/map" target="_blank" rel="noopener"
>std::map&lt;/a>&amp;lt;int, int&amp;gt; m; m[1] = 2; 调用 m.operator&lt;a class="link" href="1" >&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>a-&amp;gt;&lt;/td>
&lt;td>(a).operator-&amp;gt; ( )&lt;/td>
&lt;td>不能是非成员&lt;/td>
&lt;td>auto p = &lt;a class="link" href="https://zh.cppreference.com/w/cpp/memory/unique_ptr/make_unique" target="_blank" rel="noopener"
>std::make_unique&lt;/a>&lt;S>(); p-&amp;gt;bar() 调用 p.operator-&amp;gt;()&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>a@&lt;/td>
&lt;td>(a).operator@ (0)&lt;/td>
&lt;td>operator@ (a, 0)&lt;/td>
&lt;td>&lt;a class="link" href="https://zh.cppreference.com/w/cpp/container/vector" target="_blank" rel="noopener"
>std::vector&lt;/a>&lt;int>::iterator i = v.begin(); i++ 调用 i.operator++(0)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>此表中，&lt;strong>@&lt;/strong> 是表示所有匹配运算符的占位符：@a 为所有前缀运算符，a@ 为除 -&amp;gt; 以外的所有后缀运算符，a@b 为除 = 以外的所有其他运算符&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="二元">二元
&lt;/h3>&lt;p>复合二元运算符&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vec2D&lt;/span> &lt;span class="n">Vec2D&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="k">operator&lt;/span> &lt;span class="o">+&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Vec2D&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">secondVec2D&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="k">this&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">secondVec2D&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vec2D&lt;/span> &lt;span class="n">Vec2D&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Vec2D&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">secondVec2D&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//prvalue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">double&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">secondVec2D&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getX&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">double&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">secondVec2D&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nf">Vec2D&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//临时的匿名对象
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>How to make v2[] an Lvalue? (如何使r2[]成为左值)&lt;/p>
&lt;p>declare the [] operator to return a reference (使[]返回一个引用)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">Vec2D&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="k">operator&lt;/span>&lt;span class="p">[](&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//lvalue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">index&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">x_&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//x_ can be modified
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...... Now, the Vec2D class is mutable.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="一元">一元
&lt;/h3>&lt;p>当编译器遇到 @obj; 时，&lt;/p>
&lt;p>若operator @是在obj的类中的成员，则调用&lt;/p>
&lt;p>obj.operator @()&lt;/p>
&lt;p>若operator @是obj的类的 friend 函数，则调用&lt;/p>
&lt;p>operator @(obj)&lt;/p>
&lt;h4 id="-">-
&lt;/h4>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vec2D&lt;/span> &lt;span class="n">Vec2D&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="k">operator&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="c1">//无参数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nf">Vec2D&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">x_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">y_&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 返回匿名临时对象
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="自增自减">自增自减
&lt;/h4>&lt;p>前置++/&amp;ndash;重载无参数，返回引用类型&lt;/p>
&lt;p>后置++/&amp;ndash;重载带参数&amp;ndash;&amp;ldquo;dummy&amp;quot;参数 仅作占位&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>运算符名&lt;/strong>&lt;/th>
&lt;th>&lt;strong>语法&lt;/strong>&lt;/th>
&lt;th>&lt;strong>可重载&lt;/strong>&lt;/th>
&lt;th>&lt;strong>原型示例（对于类&lt;/strong> &lt;strong>class T&lt;/strong>**）**&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>类内定义&lt;/td>
&lt;td>类外定义&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>前自增&lt;/strong>&lt;/td>
&lt;td>++a&lt;/td>
&lt;td>是&lt;/td>
&lt;td>T&amp;amp; T::operator++();&lt;/td>
&lt;td>T&amp;amp; operator++(T&amp;amp; a);&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>前自减&lt;/strong>&lt;/td>
&lt;td>&amp;ndash;a&lt;/td>
&lt;td>是&lt;/td>
&lt;td>T&amp;amp; T::operator&amp;ndash;();&lt;/td>
&lt;td>T&amp;amp; operator&amp;ndash;(T&amp;amp; a);&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>后自增&lt;/strong>&lt;/td>
&lt;td>a++&lt;/td>
&lt;td>是&lt;/td>
&lt;td>T T::operator++(int &lt;em>dummy&lt;/em>);&lt;/td>
&lt;td>T operator++(T&amp;amp; a, int &lt;em>dummy&lt;/em>);&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>后自减&lt;/strong>&lt;/td>
&lt;td>a&amp;ndash;&lt;/td>
&lt;td>是&lt;/td>
&lt;td>T T::operator&amp;ndash;(int &lt;em>dummy&lt;/em>);&lt;/td>
&lt;td>T operator&amp;ndash;(T&amp;amp; a, int &lt;em>dummy&lt;/em>);&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="流运算符">流运算符
&lt;/h3>&lt;p>运算符重载为类成员函数后,当调用该运算符时,左操作数必须是该类的实例。若&amp;laquo;和&amp;raquo;重载为成员函数，则只能用 v1&amp;laquo;cout;&lt;/p>
&lt;p>因此 &amp;laquo; (&amp;raquo;) should be overloaded as &amp;ldquo;friend function&amp;rdquo; (只能重载为友元函数)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Vec2D&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//重载为成员函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ostream&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="k">operator&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ostream&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">stream&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">istream&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="k">operator&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">istream&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">stream&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vec2D&lt;/span> &lt;span class="n">v1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">v1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">cout&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//Vec2D对象只能作为第一个操作数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">Vec2D&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//重载为友元函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">friend&lt;/span> &lt;span class="n">ostream&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="k">operator&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ostream&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">stream&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Vec2D&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">friend&lt;/span> &lt;span class="n">istream&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="k">operator&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">istream&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">stream&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Vec2D&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vec2D&lt;/span> &lt;span class="n">v1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">v1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="对象转换运算符">对象转换运算符
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vec2D&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="k">operator&lt;/span> &lt;span class="kt">double&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="c1">//无返回值类型
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nf">magnitude&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vec2D&lt;/span> &lt;span class="nf">v1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span> &lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">v1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mf">5.1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// d: 10.1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">double&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">static_cast&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// e: 5.0
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="赋值运算符">赋值运算符
&lt;/h3>&lt;p>By default, the = operator performs a memberwise copy from one object to the other. (默认情况下，赋值运算符执行对象成员的一对一拷贝)&lt;/p>
&lt;p>To change the way the default assignment operator = works, you need to overload the = operator. (重载赋值运算符，会改变其默认工作方式)&lt;/p>
&lt;p>一般情况下，如果拷贝构造函数需要执行深拷贝，那么赋值运算符需要重载&lt;/p>
&lt;h2 id="异常处理">异常处理
&lt;/h2>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Code&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="k">try&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="n">an&lt;/span> &lt;span class="nf">exception&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">with&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="n">statement&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">or&lt;/span> &lt;span class="n">from&lt;/span> &lt;span class="n">function&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">More&lt;/span> &lt;span class="n">code&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="k">try&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">type&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Code&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">process&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">exception&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">quotient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">number1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">number2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">number2&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="n">number1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">number1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">number2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">quotient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;除数为0！&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="异常匹配与异常类">异常匹配与异常类
&lt;/h4>&lt;p>catch ( ExceptionType&amp;amp; parameter ) { /* 处理异常 */ }&lt;/p>
&lt;p>若try{}中所抛异常类型与catch()的参数类型(ExceptionType)匹配，则进入catch块&lt;/p>
&lt;p>若对异常对象的内容不感兴趣，可省略catch参数，只保留类型&lt;/p>
&lt;p>&lt;strong>Base Class of Exception in Standard Library(标准库中的异常基类)&lt;/strong>&lt;/p>
&lt;p>#include &lt;exception>&lt;/p>
&lt;p>Class exception&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">exception&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// 构造函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">virtual&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">what&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">//返回解释性字符串
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>what()返回的指针指向拥有解释信息的空终止字符串的指针。该指针保证在获取它的异常对象被销毁前，或在调用该异常对象的非静态成员函数前合法&lt;/p>
&lt;p>&lt;img src="https://edu-image.nosdn.127.net/FC0524938D6AAFD2AA605AA2137C8880.jpg?imageView&amp;amp;thumbnail=890x0&amp;amp;quality=100"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h4 id="c11-noexcept">c++11 noexcept
&lt;/h4>&lt;p>C++03将throw(ExceptionType)放到函数后面，说明函数会抛出什么类型的异常，也被称为“异常规约”&lt;/p>
&lt;p>java用 throws关键字做同样的事情&lt;/p>
&lt;p>C++11后基本没人用“异常规约”&lt;/p>
&lt;p>C++11使用noexcept指明函数是否抛出异常&lt;/p>
&lt;ul>
&lt;li>
&lt;p>若函数不抛异常，则可做编译优化&lt;/p>
&lt;/li>
&lt;li>
&lt;p>即便函数抛异常，也不再说明所抛异常类型(简化)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>noexcept不能用于区分重载函数 (对比：函数名后面的const可区分重载)&lt;/p>
&lt;h4 id="重抛异常">重抛异常
&lt;/h4>&lt;h4 id="when-to-rethrow-an-exception">When to &lt;strong>rethrow&lt;/strong> an exception?
&lt;/h4>&lt;p>(1) if the handler cannot process the exception (当它无法处理该异常)&lt;/p>
&lt;p>(2) the handler simply wants to let its caller be notified (或想通知它的调用者发生了一个异常)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// statements;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">TheException&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ex&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Do something;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">throw&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="模板">模板
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>Programming(编程): Writing a program that creates, transforms, filters, aggregates and otherwise manipulates data. (写一个程序去处理数据)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Metaprogramming(元编程): Writing a program that creates, transforms, filters, aggregates and otherwise manipulates programs.(写个程序去处理程序)&lt;/p>
&lt;p>C++ implements MetaProgramming with &amp;ldquo;template&amp;rdquo; to produce template instance, i.e. programs, in compiling time. (C++用&lt;strong>模板&lt;/strong>实现元编程，由编译器在编译期根据模板生成模板实例，也就是程序)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Generic Programming(泛型编程): Writing a program that creates, transforms, filters, aggregates and otherwise manipulates data, but makes only the minimum assumptions about the structure of the data, thus maximizing reuse across a wide range of datatypes.(写个程序去处理数据，但是只对数据的结构做最小假设以使该程序能重用于处理广泛的数据类型)&lt;/p>
&lt;p>Generic programming in C++ (i.e. &lt;strong>compile-time polymorphism&lt;/strong>) is accomplished by metaprogramming (i.e. code generation from templated code).(C++的泛型编程，即&lt;strong>编译时多态&lt;/strong>，是藉由元编程实现的，也就是由代码模板生成代码)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="template">Template
&lt;/h3>&lt;p>模板&lt;/p>
&lt;p>&lt;img src="https://edu-image.nosdn.127.net/6624DA8B3BC36817154DD38DF7F70F44.jpg?imageView&amp;amp;thumbnail=890x0&amp;amp;quality=100"
loading="lazy"
alt="img"
>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="k">typename&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">typename&lt;/span> &lt;span class="n">S&lt;/span> &lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">auto&lt;/span> &lt;span class="n">add&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">S&lt;/span> &lt;span class="n">x2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//C++14
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">x2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A function template is just a blueprint, not a type, or a function. (函数模板只是蓝图，本身不是不是类型、函数)&lt;/p>
&lt;p>编译器扫描代码，遇到模版定义时，并不立即产生代码&lt;/p>
&lt;p>The template arguments must be determined so that the compiler can generate an actual function (确定模板实参后，编译器生成实际函数代码)&lt;/p>
&lt;p>两种实例化方法 (确定模板实参的方法)&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Explicit instantiation (显式实例化)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="k">typename&lt;/span> &lt;span class="n">T&lt;/span> &lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="n">T&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="sc">&amp;#39;\n&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 实例化，编译器生成代码
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// void f(double s) { // T: double
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// std::cout &amp;lt;&amp;lt; s &amp;lt;&amp;lt; &amp;#39;\n&amp;#39;;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 实例化 f&amp;lt;char&amp;gt;(char) ，推导出模板实参
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 实例化 f&amp;lt;int&amp;gt;(int) ，推导出模板实参
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>Implicit instantiation (隐式实例化)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">typename&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="sc">&amp;#39;\n&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 实例化并调用 f&amp;lt;double&amp;gt;(double)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 实例化并调用 f&amp;lt;char&amp;gt;(char)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 实例化并调用 f&amp;lt;int&amp;gt;(int)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">ptr&lt;/span>&lt;span class="p">)(&lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 实例化 f&amp;lt;string&amp;gt;(string)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>A function instantiated from a function template is called an instantiated function. A class instantiated from a class template is called an instantiated class.(由函数模板实例化得到的函数叫做“实例函数”，由类模板实例化得到的类叫做“实例类”)&lt;/p>
&lt;h3 id="default-type-parameter-默认类型参数">Default type parameter (默认类型参数)
&lt;/h3>&lt;p>You can assign a default type for a type parameter in a class template. (可以为类模板的类型参数指定一个默认类型)&lt;/p>
&lt;p>template&lt;typename T = int>&lt;/p>
&lt;p>You can only use default type in class templates, &lt;strong>NOT&lt;/strong> in function templates&lt;/p>
&lt;h3 id="non-type-parameters-非类型参数">Non-type Parameters (非类型参数)
&lt;/h3>&lt;p>Using nontype parameters in a template prefix. (在模板前缀中使用非类型参数)&lt;/p>
&lt;p>When instantiating a template, the nontype argument should be an object(实例化模板时，非类型实参应该是&lt;strong>对象&lt;/strong>)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">typename&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">capacity&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Stack&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">T&lt;/span> &lt;span class="n">elements&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">capacity&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Stack&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">charStack&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//对象作为非类型参数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">template&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">typename&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Color&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Label&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">……&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Color&lt;/span> &lt;span class="nf">color&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Label&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="templates-and-inheritance">Templates and inheritance
&lt;/h3>&lt;p>模板与继承&lt;/p>
&lt;p>A non-template class can be derived from a class template specialization(普通类可从类模板&lt;strong>实例&lt;/strong>继承).&lt;/p>
&lt;p>A class template can be derived from a nontemplate class.(模板可从普通类继承)&lt;/p>
&lt;p>A class template can be derived from a class template.(类模板可继承类模板)&lt;/p>
&lt;p>template&lt;typename T> class T1;&lt;/p>
&lt;p>template&lt;typename T> class T2;&lt;/p>
&lt;p>class C;&lt;/p>
&lt;h2 id="stlstandard-template-library">STL(Standard Template Library)
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>containers&lt;/p>
&lt;p>store a collection of data, often referred to as elements&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Sequence container(顺序容器)&lt;/p>
&lt;p>represents &lt;strong>linear&lt;/strong> data structures&lt;/p>
&lt;p>vector,list,deque&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Associative containers（关联容器）&lt;/p>
&lt;p>&lt;strong>non-linear&lt;/strong> containers that can locate elements stored in the container quickly&lt;/p>
&lt;p>set,multiset,map and multimap&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>关联容器和顺序容器统称为一级容器&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Container adapters(容器适配器)&lt;/p>
&lt;p>&lt;strong>constrained versions&lt;/strong> of sequence containers, aiming at handling special cases&lt;/p>
&lt;p>stack,queue, and priority_queue&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Iterators&lt;/p>
&lt;p>facilitate &lt;strong>traversing&lt;/strong> through the elements in a container&lt;/p>
&lt;p>a generalization of pointers&lt;/p>
&lt;p>used extensively in the first-class containers for accessing and manipulating the elements(用于访问和处理一级容器中的元素)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Algorithm&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Function Objects&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Memory Allocation&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="iterator">Iterator
&lt;/h3>&lt;p>&lt;img src="https://img.gejiba.com/images/449192c22ffba9b55343590c5b4513de.png"
loading="lazy"
alt="449192c22ffba9b55343590c5b4513de.png"
>
&lt;img src="https://img.gejiba.com/images/e3ed25cd470f85a4102057c2da9eb05c.png"
loading="lazy"
alt="e3ed25cd470f85a4102057c2da9eb05c.png"
>
&lt;img src="https://img.gejiba.com/images/403cc08a2b568f5d4a751ada9c918696.png"
loading="lazy"
alt="403cc08a2b568f5d4a751ada9c918696.png"
>&lt;/p>
&lt;h2 id="规范">规范
&lt;/h2>&lt;ul>
&lt;li>The prefix is should be used for boolean variables and methods.&lt;/li>
&lt;li>Type conversions must always be done explicitly. Never rely on implicit type conversion.&lt;/li>
&lt;li>Named constants (including enumeration values) must be all uppercase using underscore to separate words.&lt;/li>
&lt;li>Names representing types must be in mixed case starting with upper case.&lt;/li>
&lt;li>If the parameter of a member function has the same name as a private class variable, then the parameter should have underscore suffix.&lt;/li>
&lt;li>Class variables should never be declared public.&lt;/li>
&lt;/ul></description></item><item><title>【CPP】W3C C++</title><link>https://dyhes.github.io/p/cppw3c-c-/</link><pubDate>Tue, 01 Dec 2020 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/cppw3c-c-/</guid><description>&lt;h2 id="introduction">Introduction
&lt;/h2>&lt;p>C++ is a cross-platform language that can be used to create high-performance applications.&lt;/p>
&lt;p>C++ was developed by Bjarne Stroustrup, as an extension to the &lt;a class="link" href="https://www.w3schools.com/c/index.php" target="_blank" rel="noopener"
>C language&lt;/a>.&lt;/p>
&lt;p>C++ gives programmers a &lt;strong>high level of control&lt;/strong> over system resources and memory.&lt;/p>
&lt;p>The language was updated &lt;strong>4 major times&lt;/strong> in 2011, 2014, 2017, and 2020 to C++11, C++14, C++17, C++20.&lt;/p>
&lt;p>To start using C++, you need two things:&lt;/p>
&lt;ul>
&lt;li>A text editor, like Notepad, to write C++ code&lt;/li>
&lt;li>A compiler, like GCC, to translate the C++ code into a language that the computer will understand&lt;/li>
&lt;/ul>
&lt;h2 id="const">Const
&lt;/h2>&lt;p>the &lt;code>const&lt;/code> keyword will declare the variable as &amp;ldquo;constant&amp;rdquo;, which means &lt;strong>unchangeable and read-only&lt;/strong>)&lt;/p>
&lt;h2 id="basic-data-type">Basic Data Type
&lt;/h2>&lt;p>The data type specifies the size and type of information the variable will store:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Data Type&lt;/th>
&lt;th style="text-align: left">Size&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>boolean&lt;/code>&lt;/td>
&lt;td style="text-align: left">1 byte&lt;/td>
&lt;td style="text-align: left">Stores true or false values&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>char&lt;/code>&lt;/td>
&lt;td style="text-align: left">1 byte&lt;/td>
&lt;td style="text-align: left">Stores a single character/letter/number, or ASCII values&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>int&lt;/code>&lt;/td>
&lt;td style="text-align: left">2 or 4 bytes&lt;/td>
&lt;td style="text-align: left">Stores whole numbers, without decimals&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>float&lt;/code>&lt;/td>
&lt;td style="text-align: left">4 bytes&lt;/td>
&lt;td style="text-align: left">Stores fractional numbers, containing one or more decimals. Sufficient for storing 7 decimal digits&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>double&lt;/code>&lt;/td>
&lt;td style="text-align: left">8 bytes&lt;/td>
&lt;td style="text-align: left">Stores fractional numbers, containing one or more decimals. Sufficient for storing 15 decimal digits&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="strings">Strings
&lt;/h2>&lt;p>A &lt;code>string&lt;/code> variable contains a collection of characters surrounded by double quotes&lt;/p>
&lt;p>o use strings, you must include an additional header file in the source code, the &lt;code>&amp;lt;string&amp;gt;&lt;/code> library&lt;/p>
&lt;p>It is possible to use the extraction operator &lt;code>&amp;gt;&amp;gt;&lt;/code> on &lt;code>cin&lt;/code> to display a string entered by a user. However, &lt;code>cin&lt;/code> considers a space (whitespace, tabs, etc) as a terminating character, which means that it can only display a single word . That&amp;rsquo;s why, when working with strings, we often use the &lt;code>getline()&lt;/code> function to read a line of text. It takes &lt;code>cin&lt;/code> as the first parameter, and the string variable as second.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">getline&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cin&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">fullName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>