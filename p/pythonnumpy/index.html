<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Introduction NumPy short for &ldquo;Numerical Python&rdquo; is a Python library, which is used for working with arrays.\nIn Python we have lists that serve the purpose of arrays, but they are slow to process.\nNumPy aims to provide an array object that is up to 50x faster than traditional Python lists. ( NumPy arrays are stored at one continuous place in memory unlike lists, so processes can access and manipulate them very efficiently. )\n"><title>【Python】Numpy</title>
<link rel=canonical href=https://dyhes.github.io/p/pythonnumpy/><link rel=stylesheet href=/scss/style.min.6aa4d43a5cae1c51ef34b3f851ae7421f4b2f2d13827e2d975acbeb4f13c8710.css><meta property='og:title' content="【Python】Numpy"><meta property='og:description' content="Introduction NumPy short for &ldquo;Numerical Python&rdquo; is a Python library, which is used for working with arrays.\nIn Python we have lists that serve the purpose of arrays, but they are slow to process.\nNumPy aims to provide an array object that is up to 50x faster than traditional Python lists. ( NumPy arrays are stored at one continuous place in memory unlike lists, so processes can access and manipulate them very efficiently. )\n"><meta property='og:url' content='https://dyhes.github.io/p/pythonnumpy/'><meta property='og:site_name' content='飞鸿踏雪泥'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='AI'><meta property='article:published_time' content='2021-01-13T00:00:00+00:00'><meta property='article:modified_time' content='2021-01-13T00:00:00+00:00'><meta name=twitter:title content="【Python】Numpy"><meta name=twitter:description content="Introduction NumPy short for &ldquo;Numerical Python&rdquo; is a Python library, which is used for working with arrays.\nIn Python we have lists that serve the purpose of arrays, but they are slow to process.\nNumPy aims to provide an array object that is up to 50x faster than traditional Python lists. ( NumPy arrays are stored at one continuous place in memory unlike lists, so processes can access and manipulate them very efficiently. )\n"><link rel="shortcut icon" href=/github.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu17834253352308399148.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>飞鸿踏雪泥</a></h1><h2 class=site-description>没有记录，就没有发生</h2></div></header><ol class=menu-social><li><a href=https://github.com/dyhes target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:dyheslin@gmail.com target=_blank title=Gmail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-gmail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M16 20h3a1 1 0 001-1V5a1 1 0 00-1-1h-3v16z"/><path d="M5 20h3V4H5A1 1 0 004 5v14a1 1 0 001 1z"/><path d="M16 4l-4 4-4-4"/><path d="M4 6.5l8 7.5 8-7.5"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/categories/><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Categories</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#introduction>Introduction</a></li><li><a href=#creacte-ndarray-object>Creacte <code>ndarray</code> Object</a></li><li><a href=#access>Access</a></li><li><a href=#slicing>Slicing</a></li><li><a href=#data-types>Data Types</a><ol><li><a href=#converting-data-type>Converting Data Type</a></li></ol></li><li><a href=#copy-and-view>Copy and View</a></li><li><a href=#shape>Shape</a><ol><li><a href=#reshape>Reshape</a><ol><li><a href=#flattening>Flattening</a></li></ol></li></ol></li><li><a href=#iterating>Iterating</a><ol><li><a href=#with-different-data-types>With Different Data Types</a></li><li><a href=#with-different-step-size>With Different Step Size</a></li></ol></li><li><a href=#join>Join</a></li><li><a href=#split>Split</a></li><li><a href=#search>Search</a></li><li><a href=#filter>Filter</a></li><li><a href=#random>Random</a><ol><li><a href=#pseudo-random-and-true-random>Pseudo Random and True Random</a></li><li><a href=#seaborn>Seaborn</a></li></ol></li><li><a href=#data-distribution>Data Distribution</a><ol><li><a href=#permutations>Permutations</a></li></ol></li><li><a href=#numpy-ufuncs>Numpy ufuncs</a><ol><li><a href=#create>create</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/nutrition/ style=background-color:#93b5cf;color:>积雪粮
</a><a href=/categories/temple/ style=background-color:#69a794;color:>白玉京</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/pythonnumpy/>【Python】Numpy</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jan 13, 2021</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>9 minute read</time></div></footer></div></header><section class=article-content><h2 id=introduction>Introduction</h2><p>NumPy short for &ldquo;Numerical Python&rdquo; is a Python library, which is used for working with arrays.</p><p>In Python we have lists that serve the purpose of arrays, but they are slow to process.</p><p>NumPy aims to provide an array object that is <strong>up to 50x faster</strong> than traditional Python lists. ( NumPy arrays are stored at one continuous place in memory unlike lists, so processes can access and manipulate them very efficiently. )</p><p>The array object in NumPy is called <code>ndarray</code>, it provides a lot of supporting functions that make working with <code>ndarray</code> very easy.</p><h2 id=creacte-ndarray-object>Creacte <code>ndarray</code> Object</h2><p>To create an <code>ndarray</code>, we can pass a list, tuple or any array-like object into the <code>array()</code> method, and it will be converted into an <code>ndarray</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span>
</span></span></code></pre></div><p>A dimension in arrays is one level of array depth (nested arrays).</p><blockquote><p>NumPy has a whole sub module dedicated towards matrix operations called <code>numpy.mat</code></p></blockquote><p>NumPy Arrays provides the <code>ndim</code> attribute whicht is an integer that tells us how many dimensions the array have.</p><h2 id=access>Access</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>arr</span><span class=p>[</span><span class=n>d1</span><span class=p>,</span><span class=n>d2</span><span class=p>,</span><span class=n>d3</span><span class=o>...</span><span class=p>]</span>
</span></span></code></pre></div><h2 id=slicing>Slicing</h2><ul><li><code>[start:end]</code>.</li><li><code>[start:end:step]</code></li></ul><p>If we don&rsquo;t pass start its considered 0</p><p>If we don&rsquo;t pass end its considered length of array in that dimension</p><p>If we don&rsquo;t pass step its considered 1</p><blockquote><p>The result <em>includes</em> the start index, but <em>excludes</em> the end index.</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#slicing 2-D Arrays</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>:</span><span class=mi>4</span><span class=p>])</span>
</span></span></code></pre></div><h2 id=data-types>Data Types</h2><p>NumPy has some extra data types, and refer to data types with one character, like <code>i</code> for integers, <code>u</code> for unsigned integers etc.</p><p>Below is a list of all data types in NumPy and the characters used to represent them.</p><ul><li><code>i</code> - integer</li><li><code>b</code> - boolean</li><li><code>u</code> - unsigned integer</li><li><code>f</code> - float</li><li><code>c</code> - complex float</li><li><code>m</code> - timedelta</li><li><code>M</code> - datetime</li><li><code>O</code> - object</li><li><code>S</code> - string</li><li><code>U</code> - unicode string</li><li><code>V</code> - fixed chunk of memory for other type ( void )</li></ul><p>The NumPy array object has a property called <code>dtype</code> that returns the data type of the array.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=o>.</span><span class=n>dtype</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## int64</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;S&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>If a type is given in which elements can&rsquo;t be casted then NumPy will raise a ValueError.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>],</span> <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;i&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## ValueError</span>
</span></span></code></pre></div><h3 id=converting-data-type>Converting Data Type</h3><p>The best way to change the data type of an existing array, is to make a copy of the array with the <code>astype()</code> method.</p><p>The <code>astype()</code> function creates a copy of the array, and allows you to specify the data type as a parameter.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.1</span><span class=p>,</span> <span class=mf>2.1</span><span class=p>,</span> <span class=mf>3.1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>newarr</span> <span class=o>=</span> <span class=n>arr</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=s1>&#39;i&#39;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=copy-and-view>Copy and View</h2><p>The main difference between a copy and a view of an array is that the copy is a <strong>new array</strong>, and the view is <strong>just a view of the original array</strong>.</p><p>The copy <em>owns</em> the data and any changes made to the copy will not affect original array, and any changes made to the original array will not affect the copy.</p><p>The view <em>does not own</em> the data and any changes made to the view will affect the original array, and any changes made to the original array will affect the view.</p><p>Every NumPy array has the attribute <code>base</code> that returns <code>None</code> if the array owns the data.</p><p>Otherwise, the <code>base</code> attribute refers to the original object.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>arr</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=n>arr</span><span class=o>.</span><span class=n>view</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>base</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## none</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>y</span><span class=o>.</span><span class=n>base</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>## arr</span>
</span></span></code></pre></div><h2 id=shape>Shape</h2><p>The shape of an array is the number of elements in each dimension.</p><p>NumPy arrays have an attribute called <code>shape</code> that returns a <strong>tuple</strong> with each index having the number of corresponding elements.</p><h3 id=reshape>Reshape</h3><p>By reshaping we can add or remove dimensions or change number of elements in each dimension.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>12</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>newarr</span> <span class=o>=</span> <span class=n>arr</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>newarr</span> <span class=o>=</span> <span class=n>arr</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>We can reshape an 8 elements 1D array into 4 elements in 2 rows 2D array but we cannot reshape it into a 3 elements 3 rows 2D array as that would require 3x3 = 9 elements.</p></blockquote><p>the returned array is a <strong>view</strong></p><p>You are allowed to have one &ldquo;unknown&rdquo; dimension.</p><p>Meaning that you do not have to specify an exact number for one of the dimensions in the reshape method.</p><p>Pass <code>-1</code> as the value, and NumPy will calculate this number for you.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>newarr</span> <span class=o>=</span> <span class=n>arr</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p><strong>Note:</strong> We can not pass <code>-1</code> to more than one dimension.</p></blockquote><h4 id=flattening>Flattening</h4><p>Flattening array means converting a multidimensional array into a 1D array.</p><p>We can use <code>reshape(-1)</code> to do this.</p><blockquote><p><strong>Note:</strong> There are a lot of functions for changing the shapes of arrays in numpy <code>flatten</code>, <code>ravel</code> and also for rearranging the elements <code>rot90</code>, <code>flip</code>, <code>fliplr</code>, <code>flipud</code> etc.</p></blockquote><h2 id=iterating>Iterating</h2><p>The function <code>nditer()</code> is a helping function that can be used from very basic to very advanced iterations. It solves some basic issues which we face in iteration.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>np</span><span class=o>.</span><span class=n>nditer</span><span class=p>(</span><span class=n>arr</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=with-different-data-types>With Different Data Types</h3><p>We can use <code>op_dtypes</code> argument and pass it the expected datatype to change the datatype of elements while iterating.</p><p>NumPy does not change the data type of the element in-place (where the element is in array) so it needs some other space to perform this action, that extra space is called buffer, and in order to enable it in <code>nditer()</code> we pass <code>flags=['buffered']</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>np</span><span class=o>.</span><span class=n>nditer</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span> <span class=n>flags</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;buffered&#39;</span><span class=p>],</span> <span class=n>op_dtypes</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;S&#39;</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=with-different-step-size>With Different Step Size</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>np</span><span class=o>.</span><span class=n>nditer</span><span class=p>(</span><span class=n>arr</span><span class=p>[:,</span> <span class=p>::</span><span class=mi>2</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>  <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=join>Join</h2><p>In SQL we join tables based on a key, whereas in NumPy we join arrays by axes.</p><p>We pass a sequence of arrays that we want to join to the <code>concatenate()</code> function, along with the axis. If axis is not explicitly passed, it is taken as 0.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr1</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arr2</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>concatenate</span><span class=p>((</span><span class=n>arr1</span><span class=p>,</span> <span class=n>arr2</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#along the row</span>
</span></span><span class=line><span class=cl><span class=n>arr1</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arr2</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>concatenate</span><span class=p>((</span><span class=n>arr1</span><span class=p>,</span> <span class=n>arr2</span><span class=p>),</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>#[[1 2 5 6]</span>
</span></span><span class=line><span class=cl><span class=c1>## [3 4 7 8]]</span>
</span></span></code></pre></div><h2 id=split>Split</h2><p>Splitting is reverse operation of Joining.</p><p>Joining merges multiple arrays into one and Splitting breaks one array into multiple.</p><p>We use <code>array_split()</code> for splitting arrays, we pass it the array we want to split and the number of splits.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>newarr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array_split</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>The return value is an array containing three arrays.</p></blockquote><p>If the array has less elements than required, it will adjust from the end accordingly.</p><blockquote><p>We also have the method <code>split()</code> available but it will not adjust the elements when elements are less in source array for splitting like in example above, <code>array_split()</code> worked properly but <code>split()</code> would fail.</p></blockquote><h2 id=search>Search</h2><p>You can search an array for a certain value, and return the indexes that get a match.</p><p>To search an array, use the <code>where()</code> method.</p><h2 id=filter>Filter</h2><p>Getting some elements out of an existing array and creating a new array out of them is called <em>filtering</em>.</p><p>In NumPy, you filter an array using a <em>boolean index list</em>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>41</span><span class=p>,</span> <span class=mi>42</span><span class=p>,</span> <span class=mi>43</span><span class=p>,</span> <span class=mi>44</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=p>[</span><span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>newarr</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=n>x</span><span class=p>]</span>
</span></span></code></pre></div><p>We can directly substitute the array instead of the iterable variable in our condition and it will work just as we expect it to.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>41</span><span class=p>,</span> <span class=mi>42</span><span class=p>,</span> <span class=mi>43</span><span class=p>,</span> <span class=mi>44</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>filter_arr</span> <span class=o>=</span> <span class=n>arr</span> <span class=o>&gt;</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>newarr</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=n>filter_arr</span><span class=p>]</span>
</span></span></code></pre></div><h2 id=random>Random</h2><p>Random number <strong>does NOT</strong> mean a different number every time. Random means something that <strong>can not be predicted logically</strong>.</p><h3 id=pseudo-random-and-true-random>Pseudo Random and True Random</h3><p>Random numbers generated through a generation algorithm are called <em>pseudo random</em>.</p><p>In order to generate a truly random number on our computers we need to get the random data from some outside source. This outside source is generally our keystrokes, mouse movements, data on network etc.</p><p>We do not need truly random numbers, unless its related to security (e.g. encryption keys) or the basis of application is the randomness (e.g. Digital roulette wheels).</p><p>NumPy offers the <code>random</code> module to work with random numbers.</p><p>The random module&rsquo;s <code>rand()</code> method returns a random float between 0 and 1.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>numpy</span> <span class=kn>import</span> <span class=n>random</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## Generate a random integer from 0 to 100</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
</span></span></code></pre></div><p>The <code>randint()</code> method takes a <code>size</code> parameter where you can specify the shape of an array.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span><span class=o>=</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span>
</span></span></code></pre></div><p>The <code>rand()</code> method also allows you to specify the shape of the array.</p><p>The <code>choice()</code> method allows you to generate a random value based on an array of values.</p><p>The <code>choice()</code> method takes an array as a parameter and randomly returns one of the values.</p><h3 id=seaborn>Seaborn</h3><p>Seaborn is a library that uses Matplotlib underneath to plot graphs. It will be used to visualize random distributions.</p><h2 id=data-distribution>Data Distribution</h2><p>Data Distribution is a list of all possible values, and how often each value occurs.</p><p>Such lists are important when working with statistics and data science.</p><p>The random module offer methods that returns randomly generated data distributions.</p><p>We can generate random numbers based on defined probabilities using the <code>choice()</code> method of the <code>random</code> module.</p><p>The <code>choice()</code> method allows us to specify the probability for each value.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>choice</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>9</span><span class=p>],</span> <span class=n>p</span><span class=o>=</span><span class=p>[</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>,</span> <span class=mf>0.6</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>],</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
</span></span></code></pre></div><h3 id=permutations>Permutations</h3><p>A permutation refers to an arrangement of elements. e.g. [3, 2, 1] is a permutation of [1, 2, 3] and vice-versa.</p><p>The NumPy Random module provides two methods for this: <code>shuffle()</code> and <code>permutation()</code>.</p><ul><li>The <code>shuffle()</code> method makes changes to the original array.</li><li>The <code>permutation()</code> method <em>returns</em> a re-arranged array (and leaves the original array un-changed).</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>random</span><span class=o>.</span><span class=n>shuffle</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>newarr</span><span class=o>=</span><span class=n>random</span><span class=o>.</span><span class=n>permutation</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=numpy-ufuncs>Numpy ufuncs</h2><p>ufuncs stands for &ldquo;<strong>Universal Functions</strong>&rdquo; and they are NumPy functions that operates on the <code>ndarray</code> object.</p><p>ufuncs are used to implement <em><strong>vectorization</strong></em> (Converting iterative statements into a vector based operation ) in NumPy which is way faster than iterating over elements.</p><p>ufuncs also take additional arguments, like:</p><ul><li><p><code>where</code> boolean array or condition defining where the operations should take place.</p></li><li><p><code>dtype</code> defining the return type of elements.</p></li><li><p><code>out</code> output array where the return value should be copied.</p></li></ul><h3 id=create>create</h3><p>To create you own ufunc, you have to <strong>define a normal function</strong>, like you do with normal functions in Python, then you <strong>add it to your NumPy ufunc library</strong> with the <code>frompyfunc()</code> method.</p><p>The <code>frompyfunc()</code> method takes the following arguments:</p><ol><li><code>function</code> - the name of the function.</li><li><code>inputs</code> - the number of input arguments (arrays).</li><li><code>outputs</code> - the number of output arrays.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>myadd</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>x</span><span class=o>+</span><span class=n>y</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myadd</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>frompyfunc</span><span class=p>(</span><span class=n>myadd</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><p>A ufunc should return <code>&lt;class 'numpy.ufunc'></code>.</p><p>If it is not a ufunc, it will return another type, like this built-in NumPy function for joining two or more arrays <code>&lt;class'builtin_function_or_method'></code></p><p>To test if the function is a ufunc in an if statement, use the <code>numpy.ufunc</code> value</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=nb>type</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>add</span><span class=p>)</span> <span class=o>==</span> <span class=n>np</span><span class=o>.</span><span class=n>ufunc</span>
</span></span></code></pre></div></section><footer class=article-footer><section class=article-tags><a href=/tags/ai/>AI</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Jan 13, 2021 00:00 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/pythonmatplotlib/><div class=article-details><h2 class=article-title>【Python】Matplotlib</h2></div></a></article><article><a href=/p/pythonpandas/><div class=article-details><h2 class=article-title>【Python】Pandas</h2></div></a></article><article><a href=/p/python%E8%AF%AD%E6%B3%95/><div class=article-details><h2 class=article-title>【Python】语法</h2></div></a></article><article class=has-image><a href=/p/javaenum/><div class=article-image><img src=/covers/cover19.png loading=lazy data-key data-hash=/covers/cover19.png></div><div class=article-details><h2 class=article-title>【Java】Enum</h2></div></a></article><article class=has-image><a href=/p/javadates-and-times/><div class=article-image><img src=/covers/cover19.png loading=lazy data-key data-hash=/covers/cover19.png></div><div class=article-details><h2 class=article-title>【Java】Dates and Times</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 飞鸿踏雪泥</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>