<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="视图模式 Android Studio支持以多种方式查看Android项目，可点击左上角的下拉菜单在各视图模式之间进行切换。\n开发中最常用的是两个视图：\n（1）Android：一般开发时使用这 个视图，它帮助隐藏和折叠了一些 开发很少用到的文件和文件夹。\n（2）Project：与真实的文件管理器 中看到的文件和文件夹内容一致。\n总体结构 AndroidManifest.xml：用于设置 Android应用的各种配置参数。 Java:程序员为Activity/Fragment所写的代 码放在java文件夹下的相应包文件夹中 Android Studio使用Gradle构建项目， 这些文件中最重要的就是项目与模块所 关联的build.gradle文件。 控件 整个App界面是一个Activity， 其中包容有其他UI控件\n一个Activity代表一个单独的用户可见的界面，由各种可视化控件所构成。\nView 所有的Android控件都派生自View\nViewGroup 能够包容其他Android控件的控件，称为“容器” 控件，派生自ViewGroup\nLayout 一种特殊的“容器”控件， 本身不可见，其职责是排 列它所包容的控件。\nApp中的UI界面与功能代码是分离的\nKotlin/Java代码 （.java/.kt），完成 交互和数据处理功能。\n布局文件（.xml）确定 Activity的界面呈现\n步骤 使用xml定义UI布局文件，其中需要通过代码访问的控件需要给 定一个Id。 .在onCreate()方法中setContentView(布局文件），指定Activity使用 此特定的界面布局。 使用findViewById()方法获取特定控件的引用 调整控件的属性、给其特定事件添加响应代码 消除findViewById:\n视图绑定 （View Binding）\n数据绑定库 （Data Binding Library）\nLog类 当Android App运行时，可以使用Log类，在Logcat面板输出信息\nLog.v(String tag, String msg)；（VERBOSE） Log.d(String tag, String msg)；（DEBUG） Log.i(String tag, String msg)；（INFO） Log.w(String tag, String msg)；（WARN） Log.e(String tag, String msg)；（ERROR） compared with Timber 它会自动检测它所处的类，使用类名作为TAG，从而省去了自定 义TAG的麻烦，但在需要时你也可以人工指定TAG名称。\n"><title>【Android】金旭亮-Android应用开发</title>
<link rel=canonical href=https://dyhes.github.io/p/android%E9%87%91%E6%97%AD%E4%BA%AE-android%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/><link rel=stylesheet href=/scss/style.min.6aa4d43a5cae1c51ef34b3f851ae7421f4b2f2d13827e2d975acbeb4f13c8710.css><meta property='og:title' content="【Android】金旭亮-Android应用开发"><meta property='og:description' content="视图模式 Android Studio支持以多种方式查看Android项目，可点击左上角的下拉菜单在各视图模式之间进行切换。\n开发中最常用的是两个视图：\n（1）Android：一般开发时使用这 个视图，它帮助隐藏和折叠了一些 开发很少用到的文件和文件夹。\n（2）Project：与真实的文件管理器 中看到的文件和文件夹内容一致。\n总体结构 AndroidManifest.xml：用于设置 Android应用的各种配置参数。 Java:程序员为Activity/Fragment所写的代 码放在java文件夹下的相应包文件夹中 Android Studio使用Gradle构建项目， 这些文件中最重要的就是项目与模块所 关联的build.gradle文件。 控件 整个App界面是一个Activity， 其中包容有其他UI控件\n一个Activity代表一个单独的用户可见的界面，由各种可视化控件所构成。\nView 所有的Android控件都派生自View\nViewGroup 能够包容其他Android控件的控件，称为“容器” 控件，派生自ViewGroup\nLayout 一种特殊的“容器”控件， 本身不可见，其职责是排 列它所包容的控件。\nApp中的UI界面与功能代码是分离的\nKotlin/Java代码 （.java/.kt），完成 交互和数据处理功能。\n布局文件（.xml）确定 Activity的界面呈现\n步骤 使用xml定义UI布局文件，其中需要通过代码访问的控件需要给 定一个Id。 .在onCreate()方法中setContentView(布局文件），指定Activity使用 此特定的界面布局。 使用findViewById()方法获取特定控件的引用 调整控件的属性、给其特定事件添加响应代码 消除findViewById:\n视图绑定 （View Binding）\n数据绑定库 （Data Binding Library）\nLog类 当Android App运行时，可以使用Log类，在Logcat面板输出信息\nLog.v(String tag, String msg)；（VERBOSE） Log.d(String tag, String msg)；（DEBUG） Log.i(String tag, String msg)；（INFO） Log.w(String tag, String msg)；（WARN） Log.e(String tag, String msg)；（ERROR） compared with Timber 它会自动检测它所处的类，使用类名作为TAG，从而省去了自定 义TAG的麻烦，但在需要时你也可以人工指定TAG名称。\n"><meta property='og:url' content='https://dyhes.github.io/p/android%E9%87%91%E6%97%AD%E4%BA%AE-android%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/'><meta property='og:site_name' content='飞鸿踏雪泥'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Android'><meta property='article:published_time' content='2021-11-16T00:00:00+00:00'><meta property='article:modified_time' content='2021-11-16T00:00:00+00:00'><meta name=twitter:title content="【Android】金旭亮-Android应用开发"><meta name=twitter:description content="视图模式 Android Studio支持以多种方式查看Android项目，可点击左上角的下拉菜单在各视图模式之间进行切换。\n开发中最常用的是两个视图：\n（1）Android：一般开发时使用这 个视图，它帮助隐藏和折叠了一些 开发很少用到的文件和文件夹。\n（2）Project：与真实的文件管理器 中看到的文件和文件夹内容一致。\n总体结构 AndroidManifest.xml：用于设置 Android应用的各种配置参数。 Java:程序员为Activity/Fragment所写的代 码放在java文件夹下的相应包文件夹中 Android Studio使用Gradle构建项目， 这些文件中最重要的就是项目与模块所 关联的build.gradle文件。 控件 整个App界面是一个Activity， 其中包容有其他UI控件\n一个Activity代表一个单独的用户可见的界面，由各种可视化控件所构成。\nView 所有的Android控件都派生自View\nViewGroup 能够包容其他Android控件的控件，称为“容器” 控件，派生自ViewGroup\nLayout 一种特殊的“容器”控件， 本身不可见，其职责是排 列它所包容的控件。\nApp中的UI界面与功能代码是分离的\nKotlin/Java代码 （.java/.kt），完成 交互和数据处理功能。\n布局文件（.xml）确定 Activity的界面呈现\n步骤 使用xml定义UI布局文件，其中需要通过代码访问的控件需要给 定一个Id。 .在onCreate()方法中setContentView(布局文件），指定Activity使用 此特定的界面布局。 使用findViewById()方法获取特定控件的引用 调整控件的属性、给其特定事件添加响应代码 消除findViewById:\n视图绑定 （View Binding）\n数据绑定库 （Data Binding Library）\nLog类 当Android App运行时，可以使用Log类，在Logcat面板输出信息\nLog.v(String tag, String msg)；（VERBOSE） Log.d(String tag, String msg)；（DEBUG） Log.i(String tag, String msg)；（INFO） Log.w(String tag, String msg)；（WARN） Log.e(String tag, String msg)；（ERROR） compared with Timber 它会自动检测它所处的类，使用类名作为TAG，从而省去了自定 义TAG的麻烦，但在需要时你也可以人工指定TAG名称。\n"><link rel="shortcut icon" href=/github.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu17834253352308399148.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>飞鸿踏雪泥</a></h1><h2 class=site-description>没有记录，就没有发生</h2></div></header><ol class=menu-social><li><a href=https://github.com/dyhes target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:dyheslin@gmail.com target=_blank title=Gmail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-gmail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M16 20h3a1 1 0 001-1V5a1 1 0 00-1-1h-3v16z"/><path d="M5 20h3V4H5A1 1 0 004 5v14a1 1 0 001 1z"/><path d="M16 4l-4 4-4-4"/><path d="M4 6.5l8 7.5 8-7.5"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/categories/><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Categories</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#视图模式>视图模式</a></li><li><a href=#总体结构>总体结构</a></li><li><a href=#控件>控件</a><ol><li><a href=#view>View</a></li><li><a href=#viewgroup>ViewGroup</a></li><li><a href=#layout>Layout</a></li></ol></li><li><a href=#步骤>步骤</a></li><li><a href=#log类>Log类</a><ol><li><a href=#compared-with-timber>compared with Timber</a></li></ol></li><li><a href=#显示信息>显示信息</a><ol><li><a href=#toast>Toast</a></li><li><a href=#对话框>对话框</a></li></ol></li><li><a href=#图片>图片</a></li><li><a href=#菜单>菜单</a><ol><li><a href=#context-menu>context menu</a></li></ol></li><li><a href=#用户输入>用户输入</a></li><li><a href=#布局>布局</a><ol><li><a href=#viewgroup-1>ViewGroup</a></li><li><a href=#box-model>Box Model</a></li><li><a href=#度量>度量</a></li><li><a href=#颜色>颜色</a><ol><li></li></ol></li><li><a href=#布局控件>布局控件</a><ol><li></li></ol></li></ol></li><li><a href=#constraintlayout>ConstraintLayout</a></li><li><a href=#activity生命周期>Activity生命周期</a><ol><li><a href=#创建activity>创建activity</a></li><li><a href=#activity信息交流>activity信息交流</a></li></ol></li><li><a href=#back-stack>Back Stack</a><ol><li><a href=#task>Task</a></li><li><a href=#activity启动模式>activity启动模式</a></li></ol></li><li><a href=#intent>Intent</a><ol><li><a href=#intent-filter>Intent Filter</a></li><li><a href=#类型>类型</a></li></ol></li><li><a href=#fragment>Fragment</a><ol><li><ol><li><a href=#规范>规范</a></li></ol></li><li><a href=#状态>状态</a></li><li><a href=#信息交流>信息交流</a></li></ol></li><li><a href=#jetpack>Jetpack</a><ol><li><a href=#构成>构成</a></li></ol></li><li><a href=#lifecycles>Lifecycles</a></li><li><a href=#viewmodel>ViewModel</a></li><li><a href=#架构>架构</a></li><li><a href=#viewpage>ViewPage</a></li><li><a href=#进程与线程>进程与线程</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/nutrition/ style=background-color:#93b5cf;color:>积雪粮</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/android%E9%87%91%E6%97%AD%E4%BA%AE-android%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/>【Android】金旭亮-Android应用开发</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Nov 16, 2021</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>2 minute read</time></div></footer></div></header><section class=article-content><h2 id=视图模式>视图模式</h2><p>Android Studio支持以多种方式查看Android项目，可点击左上角的下拉菜单在各视图模式之间进行切换。</p><p>开发中最常用的是两个视图：</p><p>（1）Android：一般开发时使用这 个视图，它帮助隐藏和折叠了一些 开发很少用到的文件和文件夹。</p><p>（2）Project：与真实的文件管理器 中看到的文件和文件夹内容一致。</p><h2 id=总体结构>总体结构</h2><ul><li>AndroidManifest.xml：用于设置 Android应用的各种配置参数。</li><li>Java:程序员为Activity/Fragment所写的代 码放在java文件夹下的相应包文件夹中</li><li>Android Studio使用Gradle构建项目， 这些文件中最重要的就是项目与模块所 关联的build.gradle文件。</li></ul><h2 id=控件>控件</h2><p>整个App界面是一个Activity， 其中包容有其他UI控件</p><p>一个Activity代表一个单独的用户可见的界面，由各种可视化控件所构成。</p><h3 id=view>View</h3><p>所有的Android控件都派生自View</p><h3 id=viewgroup>ViewGroup</h3><p>能够包容其他Android控件的控件，称为“容器” 控件，派生自ViewGroup</p><h3 id=layout>Layout</h3><p>一种特殊的“容器”控件， 本身不可见，其职责是排 列它所包容的控件。</p><p>App中的UI界面与功能代码是分离的</p><p>Kotlin/Java代码 （.java/.kt），完成 交互和数据处理功能。</p><p>布局文件（.xml）确定 Activity的界面呈现</p><h2 id=步骤>步骤</h2><ul><li>使用xml定义UI布局文件，其中需要通过代码访问的控件需要给 定一个Id。</li><li>.在onCreate()方法中setContentView(布局文件），指定Activity使用 此特定的界面布局。</li><li>使用findViewById()方法获取特定控件的引用</li><li>调整控件的属性、给其特定事件添加响应代码</li></ul><blockquote><p>消除findViewById:</p><p>视图绑定 （View Binding）</p><p>数据绑定库 （Data Binding Library）</p></blockquote><h2 id=log类>Log类</h2><p>当Android App运行时，可以使用Log类，在Logcat面板输出信息</p><ol><li>Log.v(String tag, String msg)；（VERBOSE）</li><li>Log.d(String tag, String msg)；（DEBUG）</li><li>Log.i(String tag, String msg)；（INFO）</li><li>Log.w(String tag, String msg)；（WARN）</li><li>Log.e(String tag, String msg)；（ERROR）</li></ol><h3 id=compared-with-timber>compared with Timber</h3><p>它会自动检测它所处的类，使用类名作为TAG，从而省去了自定 义TAG的麻烦，但在需要时你也可以人工指定TAG名称。</p><p>当使用Release模式发布App时，它会自动地Disable掉，无需 人工处理。</p><h2 id=显示信息>显示信息</h2><h3 id=toast>Toast</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Toast</span><span class=p>.</span><span class=na>makeText</span><span class=p>(</span><span class=n>Context对象</span><span class=p>,</span><span class=w> </span><span class=s>&#34;要显示的信息&#34;</span><span class=p>,</span><span class=n>Toast</span><span class=p>.</span><span class=na>LENGTH_LONG</span><span class=p>).</span><span class=na>show</span><span class=p>()</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>有许多的Android函数都需要有一个Context对象作为参数。</p><p>使用Context对象，你就可以获取Android操作系统的当前状态信息，访问到Android操作系统的各种组件，调用它的服务。</p><p>Android应用中常见的界面组件——Activity和Fragment（后 面课程介绍），都派生自Context类，所以，它们都可以看成是一个Context对象。当你在编程中发现某个方法需要有一个 Context对象时，直接将一个Activity或Fragment对象的引用传给它就好了，也可以通过“控件变量名.context”得到一 个Context对象。</p></blockquote><h3 id=对话框>对话框</h3><p>Dialog</p><h2 id=图片>图片</h2><p>Android项目的drawable文件夹用于保存App中用到的图片或图标。可以从网上找到各种图片（.jpg或.png），直接将其复制到此文件夹中，即可供App所使用。</p><p>复制到drawable文件夹下的图片，拥有一 个（资源）标识值，其格式为： 放在drawable中的图片文件，其名字中不要有汉字或空格等字 符，应该采用全英文小写字母作为文件名。</p><p>R.drawable.图片文件名</p><p>Android Studio中可以创建 两种类型的图片资源，一种 称为“Image Asset”，是 基于像素的位图，另一种是 “Vector Asset”，是一种 矢量图形。</p><ul><li><p>位图图形即常见的“数码相 片”，扩展名通常为“.jpg” 或“.png”，当放大到一定程度时，可以明显地看到其中的像素色块。</p></li><li><p>矢量图形是使用数学方式描述的，可以随意地放大和缩小，清晰度不会改变，在 Android中，这种图像资源的扩展名为".xml"</p></li></ul><h2 id=菜单>菜单</h2><ul><li><p>在res/menu中编写菜单资源文件</p></li><li><p>在Activity中重写<strong>onCreateOptionsMenu</strong> 和<strong>onOptionsItemSelected</strong>两个方法</p></li></ul><h3 id=context-menu>context menu</h3><p>调用registerForContextMenu()方 法为某个view注册上下文菜单，其参 数就是那个长按弹出上下文菜单的控 件，此方法一般在onCreate里面调用</p><h2 id=用户输入>用户输入</h2><p>EditText是Android App中让用户输入信息 的主要控件之一。</p><p>为了规范用户的输入信息， EditText提供 了InputType属性，用于过滤掉不合法的输 入字符，只有符合输入类型要求的字符，才 允许接收并显示出来。</p><p>可以给EditText提供一个实现了TextWatcher接口的对象，在里面写代码实现特定的监控功能。</p><h2 id=布局>布局</h2><p>使用XML定义App界面并非唯一的方式，可以使用代码完成相同的功能：</p><p>事实上，用XML定义的界面，最后也是要转换为代码来实现布局的</p><blockquote><p>实际开发中，应该使用XML为设计UI的主要方式，代码作为辅助手段。 但现在Google正在研发一种称为Compose的技术，完全使用kotlin取代 XML来定义界面，非常值得关注，它很可能代表了技术的发展方向</p></blockquote><p><img src=C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415103836954.png loading=lazy alt=image-20220415103836954></p><h3 id=viewgroup-1>ViewGroup</h3><p>View有一个特殊的子类，称为ViewGroup。ViewGroup提供了<strong>对其子组件的管理功能</strong>，包括布局、动画等。ViewGroup的子组件可以是View也可以是ViewGroup。常用的布局控件（比如LinearLayout）都是ViewGroup的子类。</p><h3 id=box-model>Box Model</h3><p>• View支持padding，但是不支持margin。</p><p>• ViewGroup支持padding和margin</p><p>Android控件所占的具体位置，是由其父控件（主要就是布局控件）通过layout_width和layout_height等相关布局属性在App运行时“动态” 计算出来的，上述两个属性可以取的值有三种：</p><ul><li>固定值：比如100dp</li><li>wrap_content：数值依控件所显示的具体内容而定</li><li>match_parent：与其父控件的数值相匹配（一致）</li></ul><h3 id=度量>度量</h3><p>采用设备无关的像素（dp：Density-independent Pixel），能够让图像在不同分辨率的屏幕上都显示出一样的大小。</p><p>布局通常使用dp作为单位，而字体尺寸则使用sp（Scalable pixels） 作为单位，这两者基本上是一样的，只不过sp会保留用户的设置（比如 用户可以选择使用大字体来显示App上的文本）</p><h3 id=颜色>颜色</h3><p>Android系统有12种已经定义好的颜色，具体的类型定义在Color类中。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>textView</span><span class=p>.</span><span class=na>setTextColor</span><span class=p>(</span><span class=n>Color</span><span class=p>.</span><span class=na>RED</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>在布局文件中设置颜色需要在色值前面加“#”，如 android:textColor="#000000"。 也可以通过Color.rgb(int red, int green, int blue) 和Color.argb(int alpha, int red, int green, int blue)这两种方法指定颜色，后者可以同时指定“透明度”。 在代码中设置颜色可以直接填八位的十六进制数值，如 setTextColor(0xff00ff000)</p><h5 id=colorsxml>colors.xml</h5><p>res/values目录下有个colors.xml文件，可用于定义颜色常量。</p><ul><li>如果要在布局、样式等XML文件中使用颜色常量，可以使用“@color/ 颜色常量名”的方式</li><li>如果要在代码中使用XML颜色常量，在Activity中可通过这行代码获取： getResources().getColor(R.color.颜色常量名)。</li></ul><h3 id=布局控件>布局控件</h3><p>早期的Andorid提供了很多种布局控件， 不少都被废弃了，就当前的学习者来 说，只需要掌握<strong>LinearLayout、 FrameLayout、ConstraintLayout</strong> 这三种控件就足以应付大多数Android 应用开发场景</p><ul><li><p>LinearLayout:</p><p>LinearLayout是一种Android中最常 用的布局，它将自己包含的子元素按 照一个特定的方向进行排列。</p><p>排列方向有两种：水平和垂直</p></li><li><p>FrameLayout:</p><p>所有的子控件都被放置在FrameLayout区域最左上 的区域。而且无法为这些控件指定一个精确的位置， 但可以通过layout_gravity指定放置区域。</p><p>如果一个FrameLayout里边有多个子控件，不做任 何调整的话，那么后边的子控件的显示会重叠在前一个控件上。</p></li><li><p>ConstraintLayout:</p><p>Very important</p></li></ul><p>扁平的控件层次结构优于多层 的控件层次结构。</p><p>因此，为了能提升Android应用界面的绘制速度，现在推荐使用 “扁平化”的ConstraintLayout来设计那些比较复杂的原先必须 使用“多层嵌套”才能实现的用户界面。</p><h5 id=layout_gravity和gravity>layout_gravity和gravity</h5><p>layout_gravity设定该控件与上级 级控件的对齐方式，而gravity设定 布局内部子控件对齐与排列方式。</p><p>使用layout_gravity，通常 要求控件的尺寸是 &ldquo;wrap_content&rdquo;，而要使用 gravity，控件的尺寸通常 是"match_parent"</p><h5 id=weightsum和layout_weight>weightSum和layout_weight</h5><p>“指定所有子控件weight 之和”。 • 子控件的layout_weight值设定其在 weightSum中所占的份额。</p><p>也可以不指定weightSum，直接按照子 控件的layout_weight值“协商”瓜分 可用的空间，值大的，占据更大的空间。</p><h2 id=constraintlayout>ConstraintLayout</h2><p>在build.gradle中添加以下依赖：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gradle data-lang=gradle><span class=line><span class=cl><span class=n>dependencies</span> <span class=o>{</span>
</span></span><span class=line><span class=cl><span class=n>implementation</span> <span class=s1>&#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>Android内置的控件，比如TextView，可以直接在XML中使用其 类名。另外，其属性名前通常有“android:”前缀，表明它是 系统内置的控件，随着用户手机操作系统而一同安装，App可以 直接使用它们。</p><p>ConstraintLayout是一个外部库（library）控件，并不是 Android的有机组成部分。它本身必须被打包到Apk中，与应用一起 安装。它的属性以app:开头</p><h2 id=activity生命周期>Activity生命周期</h2><p>状态：</p><ul><li><p>Initialized</p></li><li><p>Created</p></li><li><p>Started</p></li><li><p>Resumed</p></li><li><p>Destroyed</p></li></ul><p>在Android 中，Activity 的生命周期交给操作系统统一管理。</p><p>在android.app.Activity 类中，Android 定义了一系列与生命周期相 关的方法，这些方法将被系统在合适的时机回调，我们可以根据 需要“覆盖（或重写，override）”特定的方法。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Activity</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onCreate</span><span class=p>(</span><span class=n>Bundle</span><span class=w> </span><span class=n>savedInstanceState</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onStart</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onResume</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onPause</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onStop</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>protected</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>onDestroy</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p><img src=C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415145259260.png loading=lazy alt=image-20220415145259260></p><p>调用Activity的finish()方法可以通知Android销毁Activity对 象并将它从Back Stack（回退堆栈）中移除，这时，onDestory() 方法会被调用，可以在此方法中“清理必要的资源”</p><h3 id=创建activity>创建activity</h3><ul><li>为新Activity创建一个布局文件，设计好其布局。</li><li>在App的清单文件中注册这个Activity。</li><li>创建一个Intent实例，调用startActivity(intent)方法，即可启动并显示这个Activity。</li><li>创建一个Activity类，并且在Activity的onCreate()方法中将布局文件与Activity关联起来</li></ul><h3 id=activity信息交流>activity信息交流</h3><ul><li>Intent提供了putExtra()系列 方法将信息放到Bundle中</li><li>可以使用getXXExtra()系列 方法取出信息</li></ul><p>如果是离散的基础数据类型（比如Int和String）信息，直接调用putXXX系 列方法存入</p><p>如果是一个对象，需要进行特殊的处理，让其实现Parcelable接口，并 附加@Parcelize注解</p><p>随着技术的不断演进，特别是Android Jetpack相关组件的推出，现在更推荐 采用“单Activity多Fragment”的方式</p><h2 id=back-stack>Back Stack</h2><p>用户使用App的过程可以看成是多个Activity顺序显示 的过程，用户可以随时使用“Back”键回退回前一 个Activity。但这里有一个问题，那就是Android有可 能会销毁掉不在前台的Activity，所以，Android引入 了一个Task的机制解决这个问题。Activity可以被销 毁，但它的相关信息仍然放在Task中，依据这些信息 Android就可以重新创建并显示“前一个”Activity。</p><ul><li>位于Task栈顶的Activity称为“前台Activity”，用户可以看到它，并且能与它交互。</li><li>其余的Activity称为“后台Activity”，用户看不到它，只有它上面的Activity被移除之后，它成为栈顶，才能被用户看到。</li></ul><p>由于用户影响Task栈的最常见也是最主要的方式是使用手机的“Back”按键，所以，Task栈通常被称为“回退堆栈（Back Stack）”或“返回栈”。
当系统资源紧张时，Android可以销毁掉一些“后台Activity</p><h3 id=task>Task</h3><p>Android操作系统允许用户打开多个App，每个打开的App都对应着一个Task。</p><ul><li><p>当前正在与用户交互的App所对应着的Task，称为“前台Task”</p></li><li><p>其他的App对应的Task，称为“后台Task”</p></li></ul><h3 id=activity启动模式>activity启动模式</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;activity</span> <span class=na>android:name=</span><span class=s>&#34;.MainActivity&#34;</span>
</span></span><span class=line><span class=cl><span class=na>android:launchMode=</span><span class=s>&#34;standard&#34;</span><span class=nt>/&gt;</span>
</span></span></code></pre></div><ul><li>standard：这是默认模式，每次激活Activity时都会创建Activity实例，并放入Back Stack中。</li><li>singleTop：如果在栈顶已有一个实例，则重用此实例，并调用此实例的onNewIntent 方法。否则，创建新的实例并放入栈顶（即使栈中已经存在该Activity的实例，只要不在栈顶，都会创建实例）</li><li>singleTask: 这种模式的Activity在一个Task中只能有一个实例存在。当需要启 动一个SingleTask模式的Activity时，如果所有前台后台Task中都没 有它的实例，系统就会创建它并将它压入当前Task的堆栈中。如果另外的Task中已存在该Activity 的实例，则系 统会通过调用这一Activity的 onNewIntent() 方法将 intent 转送给它，而不是创建新实例</li><li>singleInstance：在一个新栈中创建实例，并让多个应用共享该实例。一 旦该模式的Activity的实例已经存在，任何应用在激活该Activity时，都会重 用该栈中的实例（并会自动调用其onNewIntent 方法）。</li></ul><h2 id=intent>Intent</h2><p>Android平台采用“松散协同配合”的理念进行设计，淡化了进程的概念。
Android应用可以使用多个不同来源的可重用组件以聚合的方式构建（比如在你的应用中直接集成Android系统提供的拍照程序完成照像功能）。</p><p>为了让这些组件能相互沟通和协作，Android引入了“Intent”这一特殊的组件当作“信使”，完成组件间相互通信的工作。</p><p><img src=C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415155533031.png loading=lazy alt=image-20220415155533031></p><h3 id=intent-filter>Intent Filter</h3><p>每个Activity都可以指定一个或多个Intent Filter，以便告诉系统该 Activity 可以响应什么类型的Intent</p><h3 id=类型>类型</h3><ul><li><p>显式（Explicit）Intent</p><p>直接启动特定的Activtity，只需要两个参数：context和要启动的Activity的类型，通常用于在同一个App内切换显示Activity</p></li><li><p>隐式（implicit）Intent</p><p>告诉Android“你想干什么”，由Android帮助你筛选启动特定的Activtity，至少需要两个参数：一个是Action，另一个是Data URI，还可以附加有其他的参数（比如Category，Extra等）</p></li></ul><h2 id=fragment>Fragment</h2><p>将复杂的Activity进行分解，使Android App应用更为模块化。</p><p>可使用代码方便地进行控制，因此可以构建出高度灵活的UI。
它是许多其它Android技术的基础，比如一些控件（ViewPages）就使用Fragment作为其界面元素，Jetpack架构组件（比如导航）也是以Fragment作为基本构建单元的。</p><p>Fragment由两部分组成：一个是布局文件，另一个是派生 自Fragment的自定义类，至少要重写onCreateView方法。</p><h4 id=规范>规范</h4><p>Fragment类名称通常采用驼峰命名法，以“Fragment”结束： 例如：SignInFragment</p><p>相应的XML文件应该遵守以下命名规范： fragment_&lt;FRAGMENT_NAME>.xml例如：fragment_sign_in.xml</p><h3 id=状态>状态</h3><p>Resumed：处于可见状态，能接收用户响应</p><p>Started：处于可见状态，但不能接收用户响应</p><p>Created：处于不可见状态</p><p><img src=C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415162002907.png loading=lazy alt=image-20220415162002907></p><h3 id=信息交流>信息交流</h3><ul><li><p>from Activity</p><ul><li><p>直接（不推荐）</p><p>Activity可以通过FragmentManager的findFragmentByTag等方法获取 特定Fragment对象的引用，然后直接访问Fragment类所定义的公有属性或 方法，即可向这一Fragment对象传送特定的信息。</p></li><li><p>Arguments实现（推荐）</p><p>为了解决Activity向Fragment传送信息比较麻烦且易出错的问题， Android为Fragment提供了一个名为arguments的Bundle对象，使用它 来传送信息，就不会出错。</p></li><li><p>工厂方法</p></li></ul></li></ul><ul><li><p>to Activity</p><ol><li><p>定义一个专用接口，此接口中所定义方法的参数代表Fragment需要传给Activity的信息；</p></li><li><p>在Fragment内部定义一个类型为这个接口的属性；</p></li><li><p>Activity实现这个接口，并在App运行创建Fragment时，将自身引用传给Fragment；</p></li><li><p>Fragment在适合的时机，回调Activity实现的接口方法。</p></li></ol></li><li><p>与Fragment</p></li></ul><h2 id=jetpack>Jetpack</h2><h3 id=构成>构成</h3><ul><li>基础组件</li><li>架构组件</li><li>行为组件</li><li>界面组件</li></ul><p><img src=C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415163749383.png loading=lazy alt=image-20220415163749383></p><p>由于Android Jetpack提供了现成的ViewModel、DataBinding等组件， 所以，MVVM就成为了推荐的Android App UI层设计模式</p><p><img src=C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415164658083.png loading=lazy alt=image-20220415164658083></p><h2 id=lifecycles>Lifecycles</h2><p><img src=C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415165548612.png loading=lazy alt=image-20220415165548612></p><h2 id=viewmodel>ViewModel</h2><p>ViewModel是一个类，它包容那 些Activity/Fragment需要显示 的数据</p><h2 id=架构>架构</h2><p><img src=C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220415173711644.png loading=lazy alt=image-20220415173711644></p><h2 id=viewpage>ViewPage</h2><p>ViewPage主要用于实现界面的切换</p><h2 id=进程与线程>进程与线程</h2><p>郑乐祺：注册/登录</p><p>李赛伽：校园论坛+学生事务</p><p>余力：校园监测</p><p>林宏鹏：主页+教务管理</p></section><footer class=article-footer><section class=article-tags><a href=/tags/android/>Android</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Nov 16, 2021 00:00 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/mac.db_store-file/><div class=article-image><img src=/covers/cover20.jpg loading=lazy data-key data-hash=/covers/cover20.jpg></div><div class=article-details><h2 class=article-title>【Mac】.DB_Store file</h2></div></a></article><article><a href=/p/androidjetpack-compose/><div class=article-details><h2 class=article-title>【Android】Jetpack Compose</h2></div></a></article><article><a href=/p/openharmonybasics/><div class=article-details><h2 class=article-title>【OpenHarmony】Basics</h2></div></a></article><article><a href=/p/base64encoding/><div class=article-details><h2 class=article-title>【Base64】Encoding</h2></div></a></article><article><a href=/p/node.env/><div class=article-details><h2 class=article-title>【Node】.env</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 飞鸿踏雪泥</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>