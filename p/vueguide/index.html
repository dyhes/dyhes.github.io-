<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Create an Application Every Vue application starts by creating a new application instance with the createApp function.\nThe object we are passing into createApp is in fact a component. Every app requires a &ldquo;root component&rdquo; that can contain other components as its children.\nAn application instance won&rsquo;t render anything until its .mount() method is called. It expects a &ldquo;container&rdquo; argument, which can either be an actual DOM element or a selector string\n"><title>【Vue】Guide</title>
<link rel=canonical href=https://dyhes.github.io/p/vueguide/><link rel=stylesheet href=/scss/style.min.6aa4d43a5cae1c51ef34b3f851ae7421f4b2f2d13827e2d975acbeb4f13c8710.css><meta property='og:title' content="【Vue】Guide"><meta property='og:description' content="Create an Application Every Vue application starts by creating a new application instance with the createApp function.\nThe object we are passing into createApp is in fact a component. Every app requires a &ldquo;root component&rdquo; that can contain other components as its children.\nAn application instance won&rsquo;t render anything until its .mount() method is called. It expects a &ldquo;container&rdquo; argument, which can either be an actual DOM element or a selector string\n"><meta property='og:url' content='https://dyhes.github.io/p/vueguide/'><meta property='og:site_name' content='飞鸿踏雪泥'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Vue'><meta property='article:published_time' content='2021-05-08T00:00:00+00:00'><meta property='article:modified_time' content='2021-05-08T00:00:00+00:00'><meta name=twitter:title content="【Vue】Guide"><meta name=twitter:description content="Create an Application Every Vue application starts by creating a new application instance with the createApp function.\nThe object we are passing into createApp is in fact a component. Every app requires a &ldquo;root component&rdquo; that can contain other components as its children.\nAn application instance won&rsquo;t render anything until its .mount() method is called. It expects a &ldquo;container&rdquo; argument, which can either be an actual DOM element or a selector string\n"><link rel="shortcut icon" href=/github.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu17834253352308399148.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>飞鸿踏雪泥</a></h1><h2 class=site-description>没有记录，就没有发生</h2></div></header><ol class=menu-social><li><a href=https://github.com/dyhes target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:dyheslin@gmail.com target=_blank title=Gmail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-gmail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M16 20h3a1 1 0 001-1V5a1 1 0 00-1-1h-3v16z"/><path d="M5 20h3V4H5A1 1 0 004 5v14a1 1 0 001 1z"/><path d="M16 4l-4 4-4-4"/><path d="M4 6.5l8 7.5 8-7.5"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/categories/><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Categories</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#create-an-application>Create an Application</a></li><li><a href=#template-syntax>Template Syntax</a><ol><li><a href=#dynamically-binding-multiple-attributes>dynamically binding multiple attributes</a></li><li><a href=#directives>Directives</a><ol><li><a href=#dynamic-arguments>Dynamic arguments</a></li></ol></li><li><a href=#modifiers>Modifiers</a></li></ol></li><li><a href=#reactivity>Reactivity</a><ol><li><a href=#reactive-proxy>Reactive Proxy</a></li><li><a href=#ref>Ref</a></li></ol></li><li><a href=#computed-properties>Computed Properties</a><ol><li><a href=#setter>setter</a></li></ol></li><li><a href=#class-and-style-bindings>Class and Style Bindings</a><ol><li><a href=#with-components>With Components</a></li></ol></li><li><a href=#conditional-rendering>Conditional Rendering</a></li><li><a href=#list-rendering>List Rendering</a><ol><li><a href=#with-components-1>with Components</a></li><li><a href=#array-change>Array Change</a></li></ol></li><li><a href=#event-handling>Event Handling</a><ol><li><a href=#event-modifiers>Event Modifiers</a></li><li><a href=#key-modifiers>Key Modifiers</a><ol><li><a href=#key-aliases>key aliases</a></li><li><a href=#system-modifier-keys>System Modifier Keys</a></li></ol></li><li><a href=#mouse-button-modifiers>Mouse Button Modifiers</a></li></ol></li><li><a href=#form-input-bindings>Form Input Bindings</a></li><li><a href=#lifecycle-hooks>Lifecycle Hooks</a></li><li><a href=#watchs>Watchs</a><ol><li><a href=#watcheffect>watchEffect</a></li></ol></li><li><a href=#template-refs>Template Refs</a></li><li><a href=#components>Components</a><ol><li><a href=#registration>Registration</a><ol><li><a href=#global-registration>Global Registration</a></li><li><a href=#local-registration>Local Registration</a></li></ol></li><li><a href=#props>Props</a></li><li><a href=#events>Events</a><ol><li><a href=#emit>$emit()</a></li><li><a href=#defineemits><code>defineEmits</code></a></li></ol></li><li><a href=#fallthrough-attributes>Fallthrough Attributes</a><ol><li><a href=#useattrs><code>useAttrs</code></a></li></ol></li><li><a href=#providerinject>Provider/inject</a><ol><li><a href=#prop-drilling>Prop Drilling</a></li><li><a href=#provide>Provide</a></li><li><a href=#inject>Inject</a></li></ol></li><li><a href=#async-components>Async Components</a><ol><li><a href=#loading-and-error-states>Loading and Error States</a></li></ol></li></ol></li><li><a href=#reusability>Reusability</a><ol><li><a href=#composables>Composables</a></li><li><a href=#custom-directives>Custom Directives</a><ol><li><a href=#shorthand>shorthand</a></li></ol></li><li><a href=#plugins>Plugins</a></li></ol></li><li><a href=#built-in>Built-in</a><ol><li><a href=#transition>Transition</a></li><li><a href=#transitiongroup>TransitionGroup</a></li><li><a href=#keepalive>KeepAlive</a></li><li><a href=#teleport>Teleport</a></li><li><a href=#suspense>Suspense</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/nutrition/ style=background-color:#93b5cf;color:>积雪粮
</a><a href=/categories/temple/ style=background-color:#69a794;color:>白玉京</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/vueguide/>【Vue】Guide</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>May 08, 2021</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>25 minute read</time></div></footer></div></header><section class=article-content><h2 id=create-an-application>Create an Application</h2><p>Every Vue application starts by creating a new <strong>application instance</strong> with the <a class=link href=https://vuejs.org/api/application.html#createapp target=_blank rel=noopener><code>createApp</code></a> function.</p><p>The object we are passing into <code>createApp</code> is in fact a component. Every app requires a &ldquo;root component&rdquo; that can contain other components as its children.</p><p>An application instance won&rsquo;t render anything until its <code>.mount()</code> method is called. It expects a &ldquo;container&rdquo; argument, which can either be an actual DOM element or a selector string</p><p>You are not limited to a single application instance on the same page. The <code>createApp</code> API allows multiple Vue applications to co-exist on the same page, each with its own scope for configuration and global assets</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app1</span> <span class=o>=</span> <span class=nx>createApp</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* ... */</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=nx>app1</span><span class=p>.</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#container-1&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app2</span> <span class=o>=</span> <span class=nx>createApp</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* ... */</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=nx>app2</span><span class=p>.</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#container-2&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>If you are using Vue to enhance server-rendered HTML and only need Vue to control specific parts of a large page, avoid mounting a single Vue application instance on the entire page. Instead, create multiple small application instances and mount them on the elements they are responsible for.</p><h2 id=template-syntax>Template Syntax</h2><p>The double mustaches interprets the data as plain text, not HTML. In order to output real HTML, you will need to use the <a class=link href=https://vuejs.org/api/built-in-directives.html#v-html target=_blank rel=noopener><code>v-html</code> directive</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span><span class=nx>Using</span> <span class=nx>text</span> <span class=nx>interpolation</span><span class=o>:</span> <span class=p>{{</span> <span class=nx>rawHtml</span> <span class=p>}}&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span><span class=nx>Using</span> <span class=nx>v</span><span class=o>-</span><span class=nx>html</span> <span class=nx>directive</span><span class=o>:</span> <span class=p>&lt;</span><span class=nt>span</span> <span class=nt>v-html</span><span class=o>=</span><span class=s>&#34;rawHtml&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=dynamically-binding-multiple-attributes>dynamically binding multiple attributes</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>objectOfAttrs</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;container&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=kr>class</span><span class=o>:</span> <span class=s1>&#39;wrapper&#39;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=nt>v-bind</span><span class=o>=</span><span class=s>&#34;objectOfAttrs&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=o>:</span><span class=err>=&#34;</span><span class=na>objectOfAttrs</span><span class=err>&#34;</span><span class=p>&gt;</span><span class=k>for</span> <span class=kr>short</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=directives>Directives</h3><p>Directives are special attributes with the <code>v-</code> prefix. Vue provides a number of <a class=link href=https://vuejs.org/api/built-in-directives.html target=_blank rel=noopener>built-in directives</a></p><p>It is also possible to use a JavaScript expression in a directive argument by wrapping it with square brackets.</p><h4 id=dynamic-arguments>Dynamic arguments</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=na>v</span><span class=nt>-bind:[attributeName]</span><span class=o>=</span><span class=s>&#34;url&#34;</span><span class=p>&gt;</span> <span class=p>...</span> <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>shorthand</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=nt>:[attributeName]</span><span class=o>=</span><span class=s>&#34;url&#34;</span><span class=p>&gt;</span> <span class=p>...</span> <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>Dynamic arguments are expected to evaluate to a string, with the exception of <code>null</code>. The special value <code>null</code> can be used to explicitly remove the binding. Any other non-string value will trigger a warning.</p><h3 id=modifiers>Modifiers</h3><p>Modifiers are special postfixes denoted by a dot, which indicate that a directive should be bound in some special way. For example, the <code>.prevent</code> modifier tells the <code>v-on</code> directive to call <code>event.preventDefault()</code> on the triggered event.</p><p><img src=https://vuejs.org/assets/directive.69c37117.png loading=lazy alt="directive syntax graph"></p><h2 id=reactivity>Reactivity</h2><p>We can create a reactive object or array with the <a class=link href=https://vuejs.org/api/reactivity-core.html#reactive target=_blank rel=noopener><code>reactive()</code></a>, and non-object by the <code>ref()</code>.</p><p>When you mutate reactive state, the DOM is updated automatically. However, it should be noted that the DOM updates are not applied synchronously. Instead, Vue buffers them until the &ldquo;next tick&rdquo; in the update cycle to ensure that each component needs to update only once no matter how many state changes you have made.</p><p>To wait for the DOM update to complete after a state change, you can use the <a class=link href=https://vuejs.org/api/general.html#nexttick target=_blank rel=noopener>nextTick()</a> global API</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>nextTick</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>increment</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>count</span><span class=p>.</span><span class=nx>value</span><span class=o>++</span>
</span></span><span class=line><span class=cl>  <span class=nx>nextTick</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// access updated DOM
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=reactive-proxy>Reactive Proxy</h3><p>It is important to note that the returned value from <code>reactive()</code> is a <a class=link href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy target=_blank rel=noopener>Proxy</a> of the original object, which is not equal to the original object.</p><p>Only the proxy is reactive - mutating the original object will not trigger updates.</p><p>To ensure consistent access to the proxy, calling <code>reactive()</code> on the same object always returns <strong>the same proxy</strong>, and calling <code>reactive()</code> on an existing proxy also returns <strong>that</strong> <strong>same proxy</strong></p><h3 id=ref>Ref</h3><p>The <code>reactive()</code> API has two limitations:</p><ul><li>It only works for object types</li><li>we couldn&rsquo;t pass it around without losing reactivity.</li></ul><p><code>ref()</code> allows us to create a &ldquo;reference&rdquo; to any value and pass it around without losing reactivity.</p><p>When refs are accessed as <strong>top-level properties</strong> in the template, they are automatically &ldquo;unwrapped&rdquo; so there is no need to use <code>.value</code>.</p><h2 id=computed-properties>Computed Properties</h2><p>For complex logic that includes reactive data, it is recommended to use a <strong>computed property</strong>.</p><p>The <code>computed()</code> function expects to be passed a getter function, and the returned value is a <strong>computed ref</strong>.</p><p>A computed property automatically tracks its reactive dependencies.</p><p>Instead of a computed property, we can define the same function as a method. For the end result, the two approaches are indeed <strong>exactly the same</strong>. However, the difference is that <strong>computed properties are cached based on their reactive dependencies.</strong> A computed property will only re-evaluate when <strong>some of its reactive dependencies have changed</strong>. This means as long as <code>author.books</code> has not changed, multiple access to <code>publishedBooksMessage</code> will immediately return the previously computed result without having to run the getter function again. In comparison, a method invocation will <strong>always</strong> run the function whenever a re-render happens.</p><p>This also means the following computed property will never update, because <code>Date.now()</code> is not a reactive dependency.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>now</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>())</span>
</span></span></code></pre></div><h3 id=setter>setter</h3><p>Computed properties are by default getter-only. If you attempt to assign a new value to a computed property, you will receive a runtime warning. In the rare cases where you need a &ldquo;writable&rdquo; computed property, you can create one by providing both a getter and a setter:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span><span class=p>,</span> <span class=nx>computed</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>firstName</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;John&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>lastName</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;Doe&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fullName</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// getter
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>get</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>firstName</span><span class=p>.</span><span class=nx>value</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> <span class=nx>lastName</span><span class=p>.</span><span class=nx>value</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// setter
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>set</span><span class=p>(</span><span class=nx>newValue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Note: we are using destructuring assignment syntax here.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>[</span><span class=nx>firstName</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span> <span class=nx>lastName</span><span class=p>.</span><span class=nx>value</span><span class=p>]</span> <span class=o>=</span> <span class=nx>newValue</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>Now when you run <code>fullName.value = 'John Doe'</code>, the setter will be invoked and <code>firstName</code> and <code>lastName</code> will be updated accordingly.</p><h2 id=class-and-style-bindings>Class and Style Bindings</h2><p>Vue provides special enhancements when <code>v-bind</code> is used with <code>class</code> and <code>style</code>. In addition to strings, the expressions can also evaluate to objects or arrays.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=o>:</span><span class=na>class</span><span class=o>=</span><span class=s>&#34;{ active: isActive }&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>The above syntax means the presence of the <code>active</code> class will be determined by the <a class=link href=https://developer.mozilla.org/en-US/docs/Glossary/Truthy target=_blank rel=noopener>truthiness</a> of the data property <code>isActive</code>. We can also bind to a <a class=link href=https://vuejs.org/guide/essentials/computed.html target=_blank rel=noopener>computed property</a> that returns an object.</p><p>We can bind <code>:class</code> to an array to apply a list of classes</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=o>:</span><span class=na>class</span><span class=o>=</span><span class=s>&#34;[isActive ? activeClass : &#39;&#39;, errorClass]&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=o>:</span><span class=na>class</span><span class=o>=</span><span class=s>&#34;[{ active: isActive }, errorClass]&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=with-components>With Components</h3><p>When you use the <code>class</code> attribute on a component with a <strong>single root element</strong>, those classes will be added to the component&rsquo;s root element, and merged with any existing class already on it.</p><p>If your component has <strong>multiple root elements</strong>, you would need to define which element will receive this class. You can do this using the <code>$attrs</code> component property</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>p</span> <span class=nt>:class</span><span class=o>=</span><span class=s>&#34;$attrs.class&#34;</span><span class=p>&gt;</span><span class=nx>Hi</span><span class=o>!</span><span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span><span class=nx>This</span> <span class=nx>is</span> <span class=nx>a</span> <span class=nx>child</span> <span class=nx>component</span><span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span></code></pre></div><h2 id=conditional-rendering>Conditional Rendering</h2><p><code>v-if</code>,<code>v-else-if</code> and <code>v-else</code> can be used to attain conditional rendering and they also work for <code>&lt;template></code>.</p><p>The difference is that an element with <code>v-show</code> will always be rendered and remain in the DOM; <code>v-show</code> only toggles the <code>display</code> CSS property of the element.</p><p><code>v-show</code> doesn&rsquo;t support the <code>&lt;template></code> element, nor does it work with <code>v-else</code>.</p><p>Generally speaking, <code>v-if</code> has higher toggle costs while <code>v-show</code> has higher initial render costs. So prefer <code>v-show</code> if you need to toggle something very often, and prefer <code>v-if</code> if the condition is unlikely to change at runtime.</p><p>It&rsquo;s <strong>not</strong> recommended to use <code>v-if</code> and <code>v-for</code> on the same element due to implicit precedence. Refer to <a class=link href=https://vuejs.org/style-guide/rules-essential.html#avoid-v-if-with-v-for target=_blank rel=noopener>style guide</a> for details.</p><p>When <code>v-if</code> and <code>v-for</code> are both used on the same element, <code>v-if</code> will be evaluated first.</p><h2 id=list-rendering>List Rendering</h2><p>For nested <code>v-for</code>, scoping also works similar to nested functions. Each <code>v-for</code> scope has access to parent scopes.</p><p>Similar to template <code>v-if</code>, you can also use a <code>&lt;template></code> tag with <code>v-for</code> to render a block of multiple elements.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;item in items&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;{{</span> <span class=nx>item</span><span class=p>.</span><span class=nx>msg</span> <span class=p>}}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;divider&#34;</span> <span class=na>role</span><span class=o>=</span><span class=s>&#34;presentation&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>When they exist on the same node, <code>v-if</code> has a higher priority than <code>v-for</code>. That means the <code>v-if</code> condition will not have access to variables from the scope of the <code>v-for</code></p><p>This can be fixed by moving <code>v-for</code> to a wrapping <code>&lt;template></code> tag (which is also more explicit):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;todo in todos&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span> <span class=nt>v-if</span><span class=o>=</span><span class=s>&#34;!todo.isComplete&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>{{</span> <span class=na>todo.name</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>To give Vue a hint so that it can track each node&rsquo;s identity, and thus reuse and reorder existing elements, you need to provide a unique <code>key</code> attribute for each item</p><p>When using <code>&lt;template v-for></code>, the <code>key</code> should be placed on the <code>&lt;template></code> container</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;todo in todos&#34; :key=&#34;todo.name&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;{{</span> <span class=nx>todo</span><span class=p>.</span><span class=nx>name</span> <span class=p>}}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=with-components-1>with Components</h3><p>You can directly use <code>v-for</code> on a component, like any normal element (don&rsquo;t forget to provide a <code>key</code>).</p><p>However, this won&rsquo;t automatically pass any data to the component, because components have isolated scopes of their own. In order to pass the iterated data into the component, we should also use props.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>my-component</span>
</span></span><span class=line><span class=cl>  <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;(item, index) in items&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>  <span class=nt>:item</span><span class=o>=</span><span class=s>&#34;item&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nt>:index</span><span class=o>=</span><span class=s>&#34;index&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nt>:key</span><span class=o>=</span><span class=s>&#34;item.id&#34;</span>
</span></span><span class=line><span class=cl><span class=p>&gt;&lt;/</span><span class=nt>my-component</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=array-change>Array Change</h3><p>Vue wraps an observed array&rsquo;s mutation methods so they will also trigger view updates. The wrapped methods are:</p><ul><li><code>push()</code></li><li><code>pop()</code></li><li><code>shift()</code></li><li><code>unshift()</code></li><li><code>splice()</code></li><li><code>sort()</code></li><li><code>reverse()</code></li></ul><p>There are also non-mutating methods, e.g. <code>filter()</code>, <code>concat()</code> and <code>slice()</code>, which do not mutate the original array but <strong>always return a new array</strong>. When working with non-mutating methods, we should replace the old array with the new one.</p><p>Be careful with <code>reverse()</code> and <code>sort()</code> in a computed property! These two methods will mutate the original array, which should be avoided in computed getters. Create a copy of the original array before calling these methods.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=o>-</span> <span class=k>return</span> <span class=nx>numbers</span><span class=p>.</span><span class=nx>reverse</span><span class=p>()</span> <span class=c1>//wrong
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>+</span> <span class=k>return</span> <span class=p>[...</span><span class=nx>numbers</span><span class=p>].</span><span class=nx>reverse</span><span class=p>()</span> <span class=c1>//true
</span></span></span></code></pre></div><h2 id=event-handling>Event Handling</h2><p>We can use the <code>v-on</code> directive, which we typically shorten to the <code>@</code> symbol, to listen to DOM events and run some JavaScript when they&rsquo;re triggered.</p><p>The handler value can be one of the following:</p><ol><li><strong>Inline handlers:</strong> Inline JavaScript to be executed when the event is triggered (similar to the native <code>onclick</code> attribute).</li><li><strong>Method handlers:</strong> A property name or path that points to a method defined on the component.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click</span><span class=s>=&#34;count++&#34;</span><span class=p>&gt;</span><span class=na>Add</span> <span class=na>1</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span><span class=nx>Count</span> <span class=nx>is</span><span class=o>:</span> <span class=p>{{</span> <span class=nx>count</span> <span class=p>}}&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>The template compiler detects method handlers by checking whether the <code>v-on</code> value string is a valid JavaScript identifier or property access path.</p><p>Sometimes we also need to access the original DOM event in an inline handler. You can pass it into a method using the special <code>$event</code> variable, or use an inline arrow function.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;warn(&#39;Form cannot be submitted yet.&#39;, $event)&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nx>Submit</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>using</span> <span class=nx>inline</span> <span class=nx>arrow</span> <span class=kd>function</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;(event) =&gt; warn(&#39;Form cannot be submitted yet.&#39;, event)&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nx>Submit</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=event-modifiers>Event Modifiers</h3><p>Recall that modifiers are directive postfixes denoted by a dot.</p><ul><li><code>.stop</code></li><li><code>.prevent</code></li><li><code>.self</code></li><li><code>.capture</code></li><li><code>.once</code></li><li><code>.passive</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>the</span> <span class=nx>click</span> <span class=nx>event</span><span class=err>&#39;</span><span class=nx>s</span> <span class=nx>propagation</span> <span class=nx>will</span> <span class=nx>be</span> <span class=nx>stopped</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=nt>@click.stop</span><span class=s>=&#34;doThis&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>the</span> <span class=nx>submit</span> <span class=nx>event</span> <span class=nx>will</span> <span class=nx>no</span> <span class=nx>longer</span> <span class=nx>reload</span> <span class=nx>the</span> <span class=nx>page</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>form</span> <span class=nt>@submit.prevent</span><span class=s>=&#34;onSubmit&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>modifiers</span> <span class=nx>can</span> <span class=nx>be</span> <span class=nx>chained</span><span class=p>,</span> <span class=nx>and</span> <span class=nx>the</span> <span class=nx>order</span> <span class=nx>matters</span><span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=nt>@click.stop.prevent</span><span class=s>=&#34;doThat&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>just</span> <span class=nx>the</span> <span class=nx>modifier</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>form</span> <span class=err>@</span><span class=na>submit.prevent</span><span class=p>&gt;&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>only</span> <span class=nx>trigger</span> <span class=nx>handler</span> <span class=k>if</span> <span class=nx>event</span><span class=p>.</span><span class=nx>target</span> <span class=nx>is</span> <span class=nx>the</span> <span class=nx>element</span> <span class=nx>itself</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>i</span><span class=p>.</span><span class=nx>e</span><span class=p>.</span> <span class=nx>not</span> <span class=nx>from</span> <span class=nx>a</span> <span class=nx>child</span> <span class=nx>element</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=nt>@click.self</span><span class=s>=&#34;doThat&#34;</span><span class=p>&gt;...&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>The <code>.capture</code>, <code>.once</code>, and <code>.passive</code> modifiers mirror the <a class=link href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters target=_blank rel=noopener>options of the native <code>addEventListener</code> method</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>use</span> <span class=nx>capture</span> <span class=nx>mode</span> <span class=nx>when</span> <span class=nx>adding</span> <span class=nx>the</span> <span class=nx>event</span> <span class=nx>listener</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>i</span><span class=p>.</span><span class=nx>e</span><span class=p>.</span> <span class=nx>an</span> <span class=nx>event</span> <span class=nx>targeting</span> <span class=nx>an</span> <span class=nx>inner</span> <span class=nx>element</span> <span class=nx>is</span> <span class=nx>handled</span> <span class=nx>here</span> <span class=nx>before</span> <span class=nx>being</span> <span class=nx>handled</span> <span class=nx>by</span> <span class=nx>that</span> <span class=nx>element</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=nt>@click.capture</span><span class=s>=&#34;doThis&#34;</span><span class=p>&gt;...&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>the</span> <span class=nx>click</span> <span class=nx>event</span> <span class=nx>will</span> <span class=nx>be</span> <span class=nx>triggered</span> <span class=nx>at</span> <span class=nx>most</span> <span class=nx>once</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=nt>@click.once</span><span class=s>=&#34;doThis&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>the</span> <span class=nx>scroll</span> <span class=nx>event</span><span class=err>&#39;</span><span class=nx>s</span> <span class=k>default</span> <span class=nx>behavior</span> <span class=p>(</span><span class=nx>scrolling</span><span class=p>)</span> <span class=nx>will</span> <span class=nx>happen</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>immediately</span><span class=p>,</span> <span class=nx>instead</span> <span class=k>of</span> <span class=nx>waiting</span> <span class=k>for</span> <span class=sb>`onScroll`</span> <span class=nx>to</span> <span class=nx>complete</span>  <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=k>in</span> <span class=k>case</span> <span class=nx>it</span> <span class=nx>contains</span> <span class=sb>`event.preventDefault()`</span>                <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=nt>@scroll.passive</span><span class=s>=&#34;onScroll&#34;</span><span class=p>&gt;...&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=key-modifiers>Key Modifiers</h3><p>You can directly use any valid key names exposed via <a class=link href=https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values target=_blank rel=noopener><code>KeyboardEvent.key</code></a> as modifiers by converting them to kebab-case.</p><h4 id=key-aliases>key aliases</h4><p>Vue provides aliases for the most commonly used keys:</p><ul><li><code>.enter</code></li><li><code>.tab</code></li><li><code>.delete</code> (captures both &ldquo;Delete&rdquo; and &ldquo;Backspace&rdquo; keys)</li><li><code>.esc</code></li><li><code>.space</code></li><li><code>.up</code></li><li><code>.down</code></li><li><code>.left</code></li><li><code>.right</code></li></ul><h4 id=system-modifier-keys>System Modifier Keys</h4><p>You can use the following modifiers to trigger mouse or keyboard event listeners only when the corresponding modifier key is pressed:</p><ul><li><code>.ctrl</code></li><li><code>.alt</code></li><li><code>.shift</code></li><li><code>.meta</code></li></ul><p>Note that modifier keys are different from regular keys and when used with <code>keyup</code> events, they have to be pressed when the event is emitted. In other words, <code>keyup.ctrl</code> will only trigger if you release a key while holding down <code>ctrl</code>. It won&rsquo;t trigger if you release the <code>ctrl</code> key alone.</p><h5 id=exact-modifier><code>.exact</code> Modifier</h5><p>The <code>.exact</code> modifier allows control of the exact combination of system modifiers needed to trigger an event.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=k>this</span> <span class=nx>will</span> <span class=nx>fire</span> <span class=nx>even</span> <span class=k>if</span> <span class=nx>Alt</span> <span class=nx>or</span> <span class=nx>Shift</span> <span class=nx>is</span> <span class=nx>also</span> <span class=nx>pressed</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click.ctrl</span><span class=s>=&#34;onClick&#34;</span><span class=p>&gt;</span><span class=nx>A</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=k>this</span> <span class=nx>will</span> <span class=nx>only</span> <span class=nx>fire</span> <span class=nx>when</span> <span class=nx>Ctrl</span> <span class=nx>and</span> <span class=nx>no</span> <span class=nx>other</span> <span class=nx>keys</span> <span class=nx>are</span> <span class=nx>pressed</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click.ctrl.exact</span><span class=s>=&#34;onCtrlClick&#34;</span><span class=p>&gt;</span><span class=nx>A</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=k>this</span> <span class=nx>will</span> <span class=nx>only</span> <span class=nx>fire</span> <span class=nx>when</span> <span class=nx>no</span> <span class=nx>system</span> <span class=nx>modifiers</span> <span class=nx>are</span> <span class=nx>pressed</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click.exact</span><span class=s>=&#34;onClick&#34;</span><span class=p>&gt;</span><span class=nx>A</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=mouse-button-modifiers>Mouse Button Modifiers</h3><ul><li><code>.left</code></li><li><code>.right</code></li><li><code>.middle</code></li></ul><p>These modifiers restrict the handler to events triggered by a specific mouse button.</p><h2 id=form-input-bindings>Form Input Bindings</h2><p><code>v-model</code> will ignore the initial <code>value</code>, <code>checked</code> or <code>selected</code> attributes found on any form elements. It will always treat the current bound JavaScript state as the source of truth. You should declare the initial value on the JavaScript side, using reactivity APIs.</p><h2 id=lifecycle-hooks>Lifecycle Hooks</h2><p>There are also other hooks which will be called at different stages of the instance&rsquo;s lifecycle, with the most commonly used being <a class=link href=https://vuejs.org/api/composition-api-lifecycle.html#onmounted target=_blank rel=noopener><code>onMounted</code></a>, <a class=link href=https://vuejs.org/api/composition-api-lifecycle.html#onupdated target=_blank rel=noopener><code>onUpdated</code></a>, and <a class=link href=https://vuejs.org/api/composition-api-lifecycle.html#onunmounted target=_blank rel=noopener><code>onUnmounted</code></a>.</p><p><img src=https://vuejs.org/assets/lifecycle.16e4c08e.png loading=lazy alt="Component lifecycle diagram"></p><h2 id=watchs>Watchs</h2><p>With Composition API, we can use the <a class=link href=https://vuejs.org/api/reactivity-core.html#watch target=_blank rel=noopener><code>watch</code> function</a> to trigger a callback whenever a piece of reactive state changes.</p><p><code>watch</code>&rsquo;s first argument can be different types of reactive &ldquo;sources&rdquo;: it can be a ref (including computed refs), a reactive object, a getter function, or an array of multiple sources.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>y</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// single ref
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>watch</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=p>(</span><span class=nx>newX</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`x is </span><span class=si>${</span><span class=nx>newX</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// getter
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>watch</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>x</span><span class=p>.</span><span class=nx>value</span> <span class=o>+</span> <span class=nx>y</span><span class=p>.</span><span class=nx>value</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nx>sum</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`sum of x + y is: </span><span class=si>${</span><span class=nx>sum</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// array of multiple sources
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>watch</span><span class=p>([</span><span class=nx>x</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>y</span><span class=p>.</span><span class=nx>value</span><span class=p>],</span> <span class=p>([</span><span class=nx>newX</span><span class=p>,</span> <span class=nx>newY</span><span class=p>])</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`x is </span><span class=si>${</span><span class=nx>newX</span><span class=si>}</span><span class=sb> and y is </span><span class=si>${</span><span class=nx>newY</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>Do note that you can&rsquo;t watch a property of a reactive object like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>obj</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({</span> <span class=nx>count</span><span class=o>:</span> <span class=mi>0</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// this won&#39;t work because we are passing a number to watch()
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>watch</span><span class=p>(</span><span class=nx>obj</span><span class=p>.</span><span class=nx>count</span><span class=p>,</span> <span class=p>(</span><span class=nx>count</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`count is: </span><span class=si>${</span><span class=nx>count</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>Instead, use a getter:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// instead, use a getter:
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>watch</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>count</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nx>count</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`count is: </span><span class=si>${</span><span class=nx>count</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><h3 id=watcheffect>watchEffect</h3><p><code>watchEffect()</code> allows us to perform a side effect immediately while automatically tracking the effect&rsquo;s reactive dependencies.</p><p><code>watch</code> and <code>watchEffect</code> both allow us to reactively perform side effects. Their main difference is the way they track their reactive dependencies:</p><ul><li><code>watch</code> only tracks the explicitly watched source. It won&rsquo;t track anything accessed inside the callback. In addition, the callback only triggers when the source has actually changed. <code>watch</code> separates dependency tracking from the side effect, giving us more precise control over when the callback should fire.</li><li><code>watchEffect</code>, on the other hand, combines dependency tracking and side effect into one phase. It automatically tracks every reactive property accessed during its synchronous execution. This is more convenient and typically results in terser code, but makes its reactive dependencies less explicit.</li></ul><p>By default, user-created watcher callbacks are called <strong>before</strong> Vue component updates. This means if you attempt to access the DOM inside a watcher callback, the DOM will be in the state before Vue has applied any updates.</p><p>If you want to access the DOM in a watcher callback <strong>after</strong> Vue has updated it, you need to specify the <code>flush: 'post'</code> option.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>watch</span><span class=p>(</span><span class=nx>source</span><span class=p>,</span> <span class=nx>callback</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>flush</span><span class=o>:</span> <span class=s1>&#39;post&#39;</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>watchEffect</span><span class=p>(</span><span class=nx>callback</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>flush</span><span class=o>:</span> <span class=s1>&#39;post&#39;</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>Post-flush <code>watchEffect()</code> also has a convenience alias, <code>watchPostEffect()</code>.</p><p>Watchers declared synchronously inside <code>setup()</code> or <code>&lt;script setup></code> are bound to the owner component instance, and will be automatically stopped when the owner component is unmounted. In most cases, you don&rsquo;t need to worry about stopping the watcher yourself.</p><p>The key here is that the watcher must be created <strong>synchronously</strong>: if the watcher is created in an async callback, it won&rsquo;t be bound to the owner component and must be stopped manually to avoid memory leaks.</p><p>To manually stop a watcher, use the returned handle function. This works for both <code>watch</code> and <code>watchEffect</code>.</p><p>Note that there should be very few cases where you need to create watchers asynchronously, and synchronous creation should be preferred whenever possible. If you need to wait for some async data, you can make your watch logic conditional instead.</p><h2 id=template-refs>Template Refs</h2><p>There may still be cases where we need direct access to the underlying DOM elements. To achieve this, we can use the special <code>ref</code> attribute:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&lt;</span><span class=nx>input</span> <span class=nx>ref</span><span class=o>=</span><span class=s2>&#34;input&#34;</span><span class=o>&gt;</span>
</span></span></code></pre></div><p><code>ref</code> is a special attribute, similar to the <code>key</code> attribute discussed in the <code>v-for</code> chapter. It allows us to obtain a direct reference to a specific DOM element or child component instance after it&rsquo;s mounted.</p><p>To obtain the reference with Composition API, we need to declare a ref with the same name</p><h2 id=components>Components</h2><h3 id=registration>Registration</h3><h4 id=global-registration>Global Registration</h4><p>We can make components available globally in the current <a class=link href=https://vuejs.org/guide/essentials/application.html target=_blank rel=noopener>Vue application</a> using the <code>app.component()</code> method.</p><p>If using SFCs, you will be registering the imported <code>.vue</code> files.</p><p>The <code>app.component()</code> method can be <strong>chained</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>app</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>component</span><span class=p>(</span><span class=s1>&#39;ComponentA&#39;</span><span class=p>,</span> <span class=nx>ComponentA</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>component</span><span class=p>(</span><span class=s1>&#39;ComponentB&#39;</span><span class=p>,</span> <span class=nx>ComponentB</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>component</span><span class=p>(</span><span class=s1>&#39;ComponentC&#39;</span><span class=p>,</span> <span class=nx>ComponentC</span><span class=p>)</span>
</span></span></code></pre></div><p>Globally registered components can be used in the template of any component within this application</p><h5 id=drawbacks>drawbacks</h5><ul><li>prevents build systems from removing unused components</li><li>makes dependency relationships less explicit in large applications</li></ul><h4 id=local-registration>Local Registration</h4><p>When using SFC with <code>&lt;script setup></code>, imported components are automatically registered locally.</p><p>Note that <strong>locally registered components are *not* also available in descendent components</strong>.</p><h3 id=props>Props</h3><p>Vue components require explicit props declaration so that Vue knows what external props passed to the component should be treated as fallthrough attributes.</p><p>In SFCs using <code>&lt;script setup></code>, props can be declared using the <code>defineProps()</code> macro.</p><h3 id=events>Events</h3><h4 id=emit>$emit()</h4><p>A component can emit custom events directly in template expressions (e.g. in a <code>v-on</code> handler) using the built-in <code>$emit</code> function.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;$emit(&#39;someEvent&#39;)&#34;</span><span class=p>&gt;</span>click me<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>The parent can then listen to it using <code>v-on</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=err>@</span><span class=na>some-event</span><span class=o>=</span><span class=s>&#34;callback&#34;</span> <span class=p>/&gt;</span>
</span></span></code></pre></div><p>Like components and props, event names provide an automatic case transformation. Like components and props, event names provide an automatic case transformation.</p><blockquote><p>Unlike native DOM events, component emitted events do <strong>not</strong> bubble. You can only listen to the events emitted by a direct child component.</p></blockquote><p>It&rsquo;s sometimes useful to emit a specific value with an event.</p><blockquote><p>All extra arguments passed to <code>$emit()</code> after the event name will be forwarded to the listener. For example, with <code>$emit('foo', 1, 2, 3)</code> the listener function will receive three arguments.</p></blockquote><h4 id=defineemits><code>defineEmits</code></h4><p>Emitted events can be explicitly declared on the component via the <a class=link href=https://vuejs.org/api/sfc-script-setup.html#defineprops-defineemits target=_blank rel=noopener><code>defineEmits()</code></a> macro.</p><h3 id=fallthrough-attributes>Fallthrough Attributes</h3><p>A &ldquo;fallthrough attribute&rdquo; is an attribute or <code>v-on</code> event listener that is passed to a component, but is not explicitly declared in the receiving component&rsquo;s <a class=link href=https://vuejs.org/guide/components/props.html target=_blank rel=noopener>props</a> or <a class=link href=https://vuejs.org/guide/components/events.html#declaring-emitted-events target=_blank rel=noopener>emits</a>. Common examples of this include <code>class</code>, <code>style</code>, and <code>id</code> attributes.</p><p>When a component renders a single root element, fallthrough attributes will be automatically added to the root element&rsquo;s attributes.</p><p>Unlike components with a single root node, components with multiple root nodes do not have an automatic attribute fallthrough behavior. If <code>$attrs</code> are not bound explicitly, a runtime warning will be issued.</p><h4 id=useattrs><code>useAttrs</code></h4><p>If needed, you can access a component&rsquo;s fallthrough attributes in <code>&lt;script setup></code> using the <code>useAttrs()</code> API:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&lt;</span><span class=nx>script</span> <span class=nx>setup</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useAttrs</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>attrs</span> <span class=o>=</span> <span class=nx>useAttrs</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=err>/script&gt;</span>
</span></span></code></pre></div><h3 id=providerinject>Provider/inject</h3><h4 id=prop-drilling>Prop Drilling</h4><p><img src=https://vuejs.org/assets/prop-drilling.11201220.png loading=lazy alt="prop drilling diagram"></p><p>We can solve props drilling with <code>provide</code> and <code>inject</code>. A parent component can serve as a <strong>dependency provider</strong> for all its descendants. Any component in the descendant tree, regardless of how deep it is, can <strong>inject</strong> dependencies provided by components up in its parent chain.</p><p><img src=https://vuejs.org/assets/provide-inject.3e0505e4.png loading=lazy alt="Provide/inject scheme"></p><h4 id=provide>Provide</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>provide</span><span class=p>(</span><span class=cm>/* key */</span> <span class=s1>&#39;message&#39;</span><span class=p>,</span> <span class=cm>/* value */</span> <span class=s1>&#39;hello!&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>The <code>provide()</code> function accepts two arguments. The first argument is called the <strong>injection key</strong>, which can be a string or a <code>Symbol</code>. The injection key is used by descendent components to lookup the desired value to inject. A single component can call <code>provide()</code> multiple times with different injection keys to provide different values.</p><p>The second argument is the provided value. The value can be of any type, including reactive state such as refs.</p><h4 id=inject>Inject</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>message</span> <span class=o>=</span> <span class=nx>inject</span><span class=p>(</span><span class=s1>&#39;message&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>To inject data provided by an ancestor component, use the <a class=link href=https://vuejs.org/api/composition-api-dependency-injection.html#inject target=_blank rel=noopener><code>inject()</code></a> function.</p><p>If the provided value is a ref, it will be injected as-is and will <strong>not</strong> be automatically unwrapped. This allows the injector component to <strong>retain the reactivity connection</strong> to the provider component.</p><p>By default, <code>inject</code> assumes that the injected key is provided somewhere in the parent chain. In the case where the key is not provided, there will be a runtime warning.</p><p>If we want to make an injected property work with optional providers, we need to declare a default value, similar to props</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>value</span> <span class=o>=</span> <span class=nx>inject</span><span class=p>(</span><span class=s1>&#39;message&#39;</span><span class=p>,</span> <span class=s1>&#39;default value&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>It is recommended to keep any mutations to reactive state inside of the *provider* whenever possible</strong>.</p><p>There may be times when we need to update the data from a injector component. In such cases, we recommend providing a function that is responsible for mutating the state.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>provide</span><span class=p>(</span><span class=s1>&#39;location&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>location</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>updateLocation</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>Finally, you can wrap the provided value with <a class=link href=https://vuejs.org/api/reactivity-core.html#readonly target=_blank rel=noopener><code>readonly()</code></a> if you want to ensure that the data passed through <code>provide</code> cannot be mutated by the injected component.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>provide</span><span class=p>(</span><span class=s1>&#39;read-only-count&#39;</span><span class=p>,</span> <span class=nx>readonly</span><span class=p>(</span><span class=nx>count</span><span class=p>))</span>
</span></span></code></pre></div><p>symbol</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>myInjectionKey</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>provide</span><span class=p>(</span><span class=nx>myInjectionKey</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* data to provide */</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>injected</span> <span class=o>=</span> <span class=nx>inject</span><span class=p>(</span><span class=nx>myInjectionKey</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=async-components>Async Components</h3><p>In large applications, we may need to divide the app into smaller chunks and only load a component from the server when it&rsquo;s needed. To make that possible, Vue has a <a class=link href=https://vuejs.org/api/general.html#defineasynccomponent target=_blank rel=noopener><code>defineAsyncComponent</code></a> function.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>AsyncComp</span> <span class=o>=</span> <span class=nx>defineAsyncComponent</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...load component from server
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>resolve</span><span class=p>(</span><span class=cm>/* loaded component */</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=c1>// ... use `AsyncComp` like a normal component
</span></span></span></code></pre></div><p><a class=link href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#dynamic_imports target=_blank rel=noopener>ES module dynamic import</a> also returns a Promise, so most of the time we will use it in combination with <code>defineAsyncComponent</code>. Bundlers like Vite and webpack also support the syntax, so we can use it to import Vue SFCs.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>AsyncComp</span> <span class=o>=</span> <span class=nx>defineAsyncComponent</span><span class=p>(()</span> <span class=p>=&gt;</span>
</span></span><span class=line><span class=cl>  <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./components/MyComponent.vue&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><h4 id=loading-and-error-states>Loading and Error States</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>AsyncComp</span> <span class=o>=</span> <span class=nx>defineAsyncComponent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// the loader function
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>loader</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./Foo.vue&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// A component to use while the async component is loading
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>loadingComponent</span><span class=o>:</span> <span class=nx>LoadingComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Delay before showing the loading component. Default: 200ms.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>delay</span><span class=o>:</span> <span class=mi>200</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// A component to use if the load fails
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>errorComponent</span><span class=o>:</span> <span class=nx>ErrorComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// The error component will be displayed if a timeout is
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// provided and exceeded. Default: Infinity.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>timeout</span><span class=o>:</span> <span class=mi>3000</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><h2 id=reusability>Reusability</h2><h3 id=composables>Composables</h3><p>In the context of Vue applications, a &ldquo;composable&rdquo; is a function that leverages Vue Composition API to encapsulate and reuse <strong>stateful logic</strong>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>useMouse</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// state encapsulated and managed by the composable
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>y</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// a composable can update its managed state over time.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>function</span> <span class=nx>update</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>x</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>pageX</span>
</span></span><span class=line><span class=cl>    <span class=nx>y</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>pageY</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// a composable can also hook into its owner component&#39;s
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// lifecycle to setup and teardown side effects.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>onMounted</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;mousemove&#39;</span><span class=p>,</span> <span class=nx>update</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nx>onUnmounted</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nb>window</span><span class=p>.</span><span class=nx>removeEventListener</span><span class=p>(</span><span class=s1>&#39;mousemove&#39;</span><span class=p>,</span> <span class=nx>update</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// expose managed state as return value
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=p>{</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>extract the logic into an external file, as a composable function.</p><p>The cooler part about composables though, is that you can also nest them: one composable function can call one or more other composable functions. This enables us to compose complex logic using small, isolated units, similar to how we compose an entire application using components.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>useFetch</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>error</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>doFetch</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// reset state before fetching..
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>data</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>    <span class=nx>error</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>    <span class=c1>// unref() unwraps potential refs
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>fetch</span><span class=p>(</span><span class=nx>unref</span><span class=p>(</span><span class=nx>url</span><span class=p>))</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>res</span><span class=p>.</span><span class=nx>json</span><span class=p>())</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>json</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>json</span><span class=p>))</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=k>catch</span><span class=p>((</span><span class=nx>err</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>err</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>isRef</span><span class=p>(</span><span class=nx>url</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// setup reactive re-fetch if input URL is a ref
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>watchEffect</span><span class=p>(</span><span class=nx>doFetch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// otherwise, just fetch once
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// and avoid the overhead of a watcher
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>doFetch</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{</span> <span class=nx>data</span><span class=p>,</span> <span class=nx>error</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><code>&lt;script setup></code> is the only place where you can call composables after usage of await. The compiler automatically restores the active instance context after the async operation for you.</p><p>To some extent, you can think of these extracted cas component-scoped services that can talk to one another.</p><h3 id=custom-directives>Custom Directives</h3><p>In addition to the default set of directives shipped in core (like <code>v-model</code> or <code>v-show</code>), Vue also allows you to register your own custom directives.</p><p>We have introduced two forms of code reuse in Vue: <a class=link href=https://vuejs.org/guide/essentials/component-basics.html target=_blank rel=noopener>components</a> and <a class=link href=https://vuejs.org/guide/reusability/composables.html target=_blank rel=noopener>composables</a>. Components are the main building blocks, while composables are focused on reusing stateful logic. Custom directives, on the other hand, are mainly intended for reusing logic that involves low-level DOM access on plain elements.</p><p>A custom directive is defined as an object containing lifecycle hooks similar to those of a component.</p><p>In <code>&lt;script setup></code>, any camelCase variable that starts with the <code>v</code> prefix can be used as a custom directive. In the example above, <code>vFocus</code> can be used in the template as <code>v-focus</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>myDirective</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// called before bound element&#39;s attributes
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// or event listeners are applied
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>created</span><span class=p>(</span><span class=nx>el</span><span class=p>,</span> <span class=nx>binding</span><span class=p>,</span> <span class=nx>vnode</span><span class=p>,</span> <span class=nx>prevVnode</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// see below for details on arguments
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// called right before the element is inserted into the DOM.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>beforeMount</span><span class=p>()</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// called when the bound element&#39;s parent component
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// and all its children are mounted.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>mounted</span><span class=p>()</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// called before the parent component is updated
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>beforeUpdate</span><span class=p>()</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// called after the parent component and
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// all of its children have updated
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>updated</span><span class=p>()</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// called before the parent component is unmounted
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>beforeUnmount</span><span class=p>()</span> <span class=p>{},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// called when the parent component is unmounted
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>unmounted</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Directive hooks are passed these arguments:</p><ul><li><code>el</code>: the element the directive is bound to. This can be used to directly manipulate the DOM.</li><li><code>binding</code>: an object containing the following properties.<ul><li><code>value</code>: The value passed to the directive. For example in <code>v-my-directive="1 + 1"</code>, the value would be <code>2</code>.</li><li><code>oldValue</code>: The previous value, only available in <code>beforeUpdate</code> and <code>updated</code>. It is available whether or not the value has changed.</li><li><code>arg</code>: The argument passed to the directive, if any. For example in <code>v-my-directive:foo</code>, the arg would be <code>"foo"</code>.</li><li><code>modifiers</code>: An object containing modifiers, if any. For example in <code>v-my-directive.foo.bar</code>, the modifiers object would be <code>{ foo: true, bar: true }</code>.</li><li><code>instance</code>: The instance of the component where the directive is used.</li><li><code>dir</code>: the directive definition object.</li></ul></li><li><code>vnode</code>: the underlying VNode representing the bound element.</li><li><code>prevNode</code>: the VNode representing the bound element from the previous render. Only available in the <code>beforeUpdate</code> and <code>updated</code> hooks.</li></ul><p>It is also common to globally register custom directives at the app level.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>directive</span><span class=p>(</span><span class=s1>&#39;focus&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* ... */</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><blockquote><p>Custom directives should only be used when the desired functionality can only be achieved via direct DOM manipulation. Prefer declarative templating using built-in directives such as <code>v-bind</code> when possible because they are more <strong>efficient</strong> and <strong>server-rendering friendly</strong>.</p></blockquote><h4 id=shorthand>shorthand</h4><p>It&rsquo;s common for a custom directive to have the same behavior for <code>mounted</code> and <code>updated</code>, with no need for the other hooks. In such cases we can define the directive as a function:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>directive</span><span class=p>(</span><span class=s1>&#39;color&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>el</span><span class=p>,</span> <span class=nx>binding</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// this will be called for both `mounted` and `updated`
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>color</span> <span class=o>=</span> <span class=nx>binding</span><span class=p>.</span><span class=nx>value</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>When used on components, custom directives will always apply to a component&rsquo;s root node, similar to <strong><a class=link href=https://vuejs.org/guide/components/attrs.html target=_blank rel=noopener>Fallthrough Attributes</a>.</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>MyComponent</span> <span class=na>v-demo</span><span class=o>=</span><span class=s>&#34;test&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- template of MyComponent --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span> <span class=c>&lt;!-- v-demo directive will be applied here --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span>My component content<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>Note that components can potentially have more than one root node. When applied to a multi-root component, a directive will be ignored and a warning will be thrown. Unlike attributes, directives can&rsquo;t be passed to a different element with <code>v-bind="$attrs"</code>. In general, it is <strong>not</strong> recommended to use custom directives on components.</p><h3 id=plugins>Plugins</h3><p>Plugins are self-contained code that usually add app-level functionality to Vue. This is how we install a plugin:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>createApp</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>createApp</span><span class=p>({})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>myPlugin</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=cm>/* optional options */</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>A plugin is defined as either an object that exposes an <code>install()</code> method, or simply a function that acts as the install function itself. The install function receives the <a class=link href=https://vuejs.org/api/application.html target=_blank rel=noopener>app instance</a> along with additional options passed to <code>app.use()</code>, if any:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>myPlugin</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>install</span><span class=p>(</span><span class=nx>app</span><span class=p>,</span> <span class=nx>options</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// configure the app
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>There is no strictly defined scope for a plugin, but common scenarios where plugins are useful include:</p><ol><li>Register one or more global components or custom directives with <a class=link href=https://vuejs.org/api/application.html#app-component target=_blank rel=noopener><code>app.component()</code></a> and <a class=link href=https://vuejs.org/api/application.html#app-directive target=_blank rel=noopener><code>app.directive()</code></a>.</li><li>Make a resource <a class=link href=https://vuejs.org/guide/components/provide-inject.html target=_blank rel=noopener>injectable</a> throughout the app by calling <a class=link href=https://vuejs.org/api/application.html#app-provide target=_blank rel=noopener><code>app.provide()</code></a>.</li><li>Add some global instance properties or methods by attaching them to <a class=link href=https://vuejs.org/api/application.html#app-config-globalproperties target=_blank rel=noopener><code>app.config.globalProperties</code></a>.</li><li>A library that needs to perform some combination of the above (e.g. <a class=link href=https://github.com/vuejs/vue-router-next target=_blank rel=noopener>vue-router</a>).</li></ol><h2 id=built-in>Built-in</h2><h3 id=transition>Transition</h3><p>Vue offers two built-in components that can help work with transitions and animations in response to changing state:</p><ul><li><code>&lt;Transition></code> for applying animations when an element or component is entering and leaving the DOM.</li><li><code>&lt;TransitionGroup></code> for applying animations when an element or component is inserted into, removed from, or moved within a <code>v-for</code> list.</li></ul><p><code>&lt;Transition></code> only supports a single element or component as its slot content. If the content is a component, the component must also have only one single root element.</p><p>When an element in a <code>&lt;Transition></code> component is inserted or removed, this is what happens:</p><ol><li>Vue will automatically sniff whether the target element has <strong>CSS transitions or animations</strong> applied. If it does, a number of <a class=link href=https://vuejs.org/guide/built-ins/transition.html#transition-classes target=_blank rel=noopener>CSS transition classes</a> will be added / removed at appropriate timings.</li><li>If there are <strong>listeners</strong> for <a class=link href=https://vuejs.org/guide/built-ins/transition.html#javascript-hooks target=_blank rel=noopener>JavaScript hooks</a>, these hooks will be called at appropriate timings.</li><li>If no CSS transitions / animations are detected and no JavaScript hooks are provided, the DOM operations for insertion and/or removal will be executed <strong>on the browser&rsquo;s next animation frame</strong>.</li></ol><p><img src=https://vuejs.org/assets/transition-classes.f0f7b3c9.png loading=lazy alt="Transition Diagram"></p><ol><li><code>v-enter-from</code>: Starting state for enter. Added before the element is inserted, removed one frame after the element is inserted.</li><li><code>v-enter-active</code>: Active state for enter. Applied during the entire entering phase. Added before the element is inserted, removed when the transition/animation finishes. This class can be used to define the duration, delay and easing curve for the entering transition.</li><li><code>v-enter-to</code>: Ending state for enter. Added one frame after the element is inserted (at the same time <code>v-enter-from</code> is removed), removed when the transition/animation finishes.</li><li><code>v-leave-from</code>: Starting state for leave. Added immediately when a leaving transition is triggered, removed after one frame.</li><li><code>v-leave-active</code>: Active state for leave. Applied during the entire leaving phase. Added immediately when a leave transition is triggered, removed when the transition/animation finishes. This class can be used to define the duration, delay and easing curve for the leaving transition.</li><li><code>v-leave-to</code>: Ending state for leave. Added one frame after a leaving transition is triggered (at the same time <code>v-leave-from</code> is removed), removed when the transition/animation finishes.</li></ol><p>For a named transition, its transition classes will be prefixed with its name instead of <code>v</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Transition</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;fade&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Transition</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>fade</span><span class=o>-</span><span class=nx>enter</span><span class=o>-</span><span class=nx>active</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>fade</span><span class=o>-</span><span class=nx>leave</span><span class=o>-</span><span class=nx>active</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>transition</span><span class=o>:</span> <span class=nx>opacity</span> <span class=mf>0.5</span><span class=nx>s</span> <span class=nx>ease</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>fade</span><span class=o>-</span><span class=nx>enter</span><span class=o>-</span><span class=nx>from</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>fade</span><span class=o>-</span><span class=nx>leave</span><span class=o>-</span><span class=nx>to</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>opacity</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=transitiongroup>TransitionGroup</h3><p><code>&lt;TransitionGroup></code> is a built-in component designed for animating the insertion, removal, and order change of elements or components that are rendered in a list.</p><h3 id=keepalive>KeepAlive</h3><p><code>&lt;KeepAlive></code> is a built-in component that allows us to <strong>conditionally cache component instances</strong> (to keep the state) when dynamically switching between multiple components.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=c>&lt;!--</span> <span class=nx>Inactive</span> <span class=nx>components</span> <span class=nx>will</span> <span class=nx>be</span> <span class=nx>cached</span><span class=o>!</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>KeepAlive</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>component</span> <span class=nt>:is</span><span class=o>=</span><span class=s>&#34;activeComponent&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>KeepAlive</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=teleport>Teleport</h3><p><code>&lt;Teleport></code> is a built-in component that allows us to &ldquo;teleport&rdquo; a part of a component&rsquo;s template into a DOM node that exists outside the DOM hierarchy of that component.</p><h3 id=suspense>Suspense</h3><p>……</p></section><footer class=article-footer><section class=article-tags><a href=/tags/vue/>Vue</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on May 08, 2021 00:00 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/vuetutorial/><div class=article-details><h2 class=article-title>【Vue】Tutorial</h2></div></a></article><article class=has-image><a href=/p/javaenum/><div class=article-image><img src=/covers/cover19.png loading=lazy data-key data-hash=/covers/cover19.png></div><div class=article-details><h2 class=article-title>【Java】Enum</h2></div></a></article><article class=has-image><a href=/p/javadates-and-times/><div class=article-image><img src=/covers/cover19.png loading=lazy data-key data-hash=/covers/cover19.png></div><div class=article-details><h2 class=article-title>【Java】Dates and Times</h2></div></a></article><article class=has-image><a href=/p/javareleases/><div class=article-image><img src=/covers/cover9.png loading=lazy data-key data-hash=/covers/cover9.png></div><div class=article-details><h2 class=article-title>【Java】Releases</h2></div></a></article><article class=has-image><a href=/p/mac.db_store-file/><div class=article-image><img src=/covers/cover20.jpg loading=lazy data-key data-hash=/covers/cover20.jpg></div><div class=article-details><h2 class=article-title>【Mac】.DB_Store file</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 飞鸿踏雪泥</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>